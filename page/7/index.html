<!DOCTYPE html>
<script src="/js/src/clicklove.js"></script>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
<title>贾志翔的博客</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="jia jiazhixiang jiaxiaochu jiaxiaochu.github.io">
<meta property="og:type" content="website">
<meta property="og:title" content="贾志翔的博客">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="贾志翔的博客">
<meta property="og:description" content="jia jiazhixiang jiaxiaochu jiaxiaochu.github.io">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="贾志翔的博客">
<meta name="twitter:description" content="jia jiazhixiang jiaxiaochu jiaxiaochu.github.io">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="贾志翔的博客" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">主页</a>
                
                <a class="navbar-item" href="/archives">归档</a>
                
                <a class="navbar-item" href="/tags">标签</a>
                
                <a class="navbar-item" href="/about">支持</a>
                
                <a class="navbar-item" href="http://www.tripwiremagazine.com/wp-content/uploads/images/stories/Articles/9_Funniest_JavaScript_effects/Unclosable%20Window.html">别点·有毒</a>
                
                <a class="navbar-item" href="http://fanfou.com/">饭否</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/jiaxiaochu/jiaxiaochu.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-21T10:00:00.000Z">2019-01-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ACM/">ACM</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/ACM/题解/">题解</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    13 分钟 读完 (大约 1931 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/01/21/2019-01-21-2018-2019 ICPC, NEERC, Northern Eurasia Finals/">2018-2019 ICPC, NEERC, Northern Eurasia Finals</a>
            
        </h1>
        <div class="content">
            <h1 id="Alice-the-Fan"><a href="#Alice-the-Fan" class="headerlink" title="Alice the Fan"></a><a href="https://vjudge.net/problem/CodeForces-1089A" target="_blank" rel="noopener">Alice the Fan</a></h1><p>记忆化搜索，记忆转移方向。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> dbg(x) cout &lt;&lt; (#x) &lt;&lt; <span class="hljs-meta-string">"="</span> &lt;&lt; x &lt;&lt; endl</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">207</span>;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> m, a, b;</span><br><span class="line"></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	Node()</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;x = <span class="hljs-number">-2</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	Node(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;x = x;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;y = y;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;a = a;</span><br><span class="line">		<span class="hljs-keyword">this</span>-&gt;b = b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">int</span> x, y, a, b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">int</span> dp[<span class="hljs-number">6</span>][<span class="hljs-number">6</span>][N][N];</span><br><span class="line">Node last[<span class="hljs-number">6</span>][<span class="hljs-number">6</span>][N][N];</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || y &lt; <span class="hljs-number">0</span> || a &lt; <span class="hljs-number">0</span> || b &lt; <span class="hljs-number">0</span>)</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">if</span> (dp[x][y][a][b] != <span class="hljs-number">-1</span>)</span><br><span class="line">		<span class="hljs-keyword">return</span> dp[x][y][a][b];</span><br><span class="line">	<span class="hljs-keyword">if</span> (!x &amp;&amp; !y)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (!a &amp;&amp; !b)</span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">int</span> up;</span><br><span class="line">	<span class="hljs-keyword">if</span> (x + y == <span class="hljs-number">5</span>)</span><br><span class="line">		up = <span class="hljs-number">15</span>;</span><br><span class="line">	<span class="hljs-keyword">else</span></span><br><span class="line">		up = <span class="hljs-number">25</span>;</span><br><span class="line">	<span class="hljs-comment">//transfer1 up:j firstwin</span></span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= up - <span class="hljs-number">2</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (y == <span class="hljs-number">3</span>)</span><br><span class="line">			<span class="hljs-keyword">continue</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (solve(x - <span class="hljs-number">1</span>, y, a - up, b - j))</span><br><span class="line">		&#123;</span><br><span class="line">			last[x][y][a][b] = Node(x - <span class="hljs-number">1</span>, y, a - up, b - j);</span><br><span class="line">			<span class="hljs-keyword">return</span> dp[x][y][a][b] = <span class="hljs-number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = up + <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">200</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (y == <span class="hljs-number">3</span>)</span><br><span class="line">			<span class="hljs-keyword">continue</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (solve(x - <span class="hljs-number">1</span>, y, a - i, b - (i - <span class="hljs-number">2</span>)))</span><br><span class="line">		&#123;</span><br><span class="line">			last[x][y][a][b] = Node(x - <span class="hljs-number">1</span>, y, a - i, b - (i - <span class="hljs-number">2</span>));</span><br><span class="line">			<span class="hljs-keyword">return</span> dp[x][y][a][b] = <span class="hljs-number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-comment">//transfer2 j:up secondwin</span></span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= up - <span class="hljs-number">2</span>; j++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (x == <span class="hljs-number">3</span>)</span><br><span class="line">			<span class="hljs-keyword">continue</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (solve(x, y - <span class="hljs-number">1</span>, a - j, b - up))</span><br><span class="line">		&#123;</span><br><span class="line">			last[x][y][a][b] = Node(x, y - <span class="hljs-number">1</span>, a - j, b - up);</span><br><span class="line">			<span class="hljs-keyword">return</span> dp[x][y][a][b] = <span class="hljs-number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = up + <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">200</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (x == <span class="hljs-number">3</span>)</span><br><span class="line">			<span class="hljs-keyword">continue</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (solve(x, y - <span class="hljs-number">1</span>, a - (i - <span class="hljs-number">2</span>), b - i))</span><br><span class="line">		&#123;</span><br><span class="line">			last[x][y][a][b] = Node(x, y - <span class="hljs-number">1</span>, a - (i - <span class="hljs-number">2</span>), b - i);</span><br><span class="line">			<span class="hljs-keyword">return</span> dp[x][y][a][b] = <span class="hljs-number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">return</span> dp[x][y][a][b] = <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	Node t = last[x][y][a][b];</span><br><span class="line">	<span class="hljs-comment">//	dbg(t.x);</span></span><br><span class="line">	<span class="hljs-comment">//	dbg(t.y);</span></span><br><span class="line">	<span class="hljs-comment">//	dbg(t.a);</span></span><br><span class="line">	<span class="hljs-comment">//	dbg(t.b);</span></span><br><span class="line">	<span class="hljs-keyword">if</span> (t.x == <span class="hljs-number">-2</span>)</span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	print(t.x, t.y, t.a, t.b);</span><br><span class="line">	<span class="hljs-built_in">cout</span> &lt;&lt; a - t.a &lt;&lt; <span class="hljs-string">':'</span> &lt;&lt; b - t.b;</span><br><span class="line">	<span class="hljs-keyword">if</span> (max(x, y) == <span class="hljs-number">3</span>)</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">	<span class="hljs-keyword">else</span></span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">' '</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-comment">//	freopen("A.in", "r", stdin);</span></span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;m);</span><br><span class="line">	<span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dp));</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d %d"</span>, &amp;a, &amp;b);</span><br><span class="line">		<span class="hljs-keyword">if</span> (solve(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, a, b))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"3"</span> &lt;&lt; <span class="hljs-string">':'</span> &lt;&lt; <span class="hljs-string">"0"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">			print(<span class="hljs-number">3</span>, <span class="hljs-number">0</span>, a, b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (solve(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, a, b))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"3"</span> &lt;&lt; <span class="hljs-string">':'</span> &lt;&lt; <span class="hljs-string">"1"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">			print(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, a, b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (solve(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, a, b))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"3"</span></span><br><span class="line">				 &lt;&lt; <span class="hljs-string">":"</span></span><br><span class="line">				 &lt;&lt; <span class="hljs-string">"2"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">			print(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, a, b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (solve(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, a, b))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"2"</span></span><br><span class="line">				 &lt;&lt; <span class="hljs-string">":"</span></span><br><span class="line">				 &lt;&lt; <span class="hljs-string">"3"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">			print(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, a, b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (solve(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, a, b))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"1"</span> &lt;&lt; <span class="hljs-string">':'</span> &lt;&lt; <span class="hljs-string">"3"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">			print(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, a, b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (solve(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, a, b))</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"0"</span> &lt;&lt; <span class="hljs-string">':'</span> &lt;&lt; <span class="hljs-string">"3"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;</span><br><span class="line">			print(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, a, b);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">			<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Impossible\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Bimatching"><a href="#Bimatching" class="headerlink" title="Bimatching"></a><a href="https://codeforces.com/problemset/problem/1089/B" target="_blank" rel="noopener">Bimatching</a></h1><p>题意：每个骑士和两个女士配对，求能够形成的最大组数。</p>
<p>做的人很少的一题，但实际上是一道模板题。思路是把每个骑士拆成两个点，这样原来的“三元匹配”就变成传统的二元匹配了。但是这会带来新的问题，原来不能匹配的骑士此时也可以匹配了。解决办法是在拆的两点间连一条边，这样原来能够三元匹配的骑士匹配数一定是2，原来没有三元匹配的骑士匹配数一定是1。最后的结果是最大匹配数减去加入的边数n。插入边后不再是二分图了，变成一般图最大匹配，拉一个带花树的板子跑掉。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> NPOS = <span class="hljs-number">-1</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">UnionfindSet</span> :</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">	UnionfindSet(<span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;(n)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">			at(i) = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ask</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> at(u) != u ? at(u) = ask(at(u)) : u;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> w)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (w = ask(w), u = ask(u), w != u)</span><br><span class="line">			at(w) = u;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Graph</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Vertex</span></span></span><br><span class="line"><span class="hljs-class">	&#123;</span></span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; o;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; Edge;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;Vertex&gt; v;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;Edge&gt; e;</span><br><span class="line">	Graph(<span class="hljs-keyword">int</span> n) : v(n) &#123;&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Edge &amp;ed)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		v[ed.first].o.push_back(e.size());</span><br><span class="line">		e.push_back(ed);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Blossom</span> :</span> Graph</span><br><span class="line">&#123;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; f;</span><br><span class="line">	Blossom(<span class="hljs-keyword">int</span> n) : Graph(n) &#123;&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ask</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; vis(v.size(), NPOS);</span><br><span class="line">		f = vis;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = <span class="hljs-number">0</span>; s &lt; v.size(); ++s)</span><br><span class="line">			<span class="hljs-keyword">if</span> (f[s] == NPOS)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; pre(v.size(), NPOS), flag(pre);</span><br><span class="line">				<span class="hljs-built_in">deque</span>&lt;<span class="hljs-keyword">int</span>&gt; q(flag[s] = <span class="hljs-number">1</span>, s);</span><br><span class="line">				<span class="hljs-keyword">for</span> (UnionfindSet ufs(v.size()); f[s] == NPOS &amp;&amp; !q.empty(); q.pop_front())</span><br><span class="line">					<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, x = q.front(), y, a, b; i &lt; v[x].o.size(); ++i)</span><br><span class="line">						<span class="hljs-keyword">if</span> (y = e[v[x].o[i]].second, y != f[x] &amp;&amp; flag[y] &amp;&amp; ufs.ask(x) != ufs.ask(y))</span><br><span class="line">						&#123;</span><br><span class="line">							<span class="hljs-keyword">if</span> (flag[y] == <span class="hljs-number">1</span>)</span><br><span class="line">							&#123;</span><br><span class="line">								<span class="hljs-keyword">for</span> (a = x, b = y, ++t;; swap(a, b))</span><br><span class="line">									<span class="hljs-keyword">if</span> (a != NPOS)</span><br><span class="line">									&#123;</span><br><span class="line">										<span class="hljs-keyword">if</span> (vis[a = ufs.ask(a)] == t)</span><br><span class="line">											<span class="hljs-keyword">break</span>;</span><br><span class="line">										vis[a] = t, a = f[a] != NPOS ? pre[f[a]] : NPOS;</span><br><span class="line">									&#125;</span><br><span class="line">								<span class="hljs-keyword">if</span> (ufs.ask(x) != a)</span><br><span class="line">									pre[x] = y;</span><br><span class="line">								<span class="hljs-keyword">if</span> (ufs.ask(y) != a)</span><br><span class="line">									pre[y] = x;</span><br><span class="line">								<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> p[<span class="hljs-number">2</span>] = &#123;x, y&#125;, j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">2</span>; ++j)</span><br><span class="line">									<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = p[j], y, z; x != a; ufs.merge(y, x), ufs.merge(x = z, y))</span><br><span class="line">									&#123;</span><br><span class="line">										<span class="hljs-keyword">if</span> (ufs.ask(z = pre[y = f[x]]) != a)</span><br><span class="line">											pre[z] = y;</span><br><span class="line">										<span class="hljs-keyword">if</span> (!flag[y])</span><br><span class="line">											flag[y] = <span class="hljs-number">1</span>, q.push_back(y);</span><br><span class="line">										<span class="hljs-keyword">if</span> (!flag[z])</span><br><span class="line">											flag[z] = <span class="hljs-number">1</span>, q.push_back(z);</span><br><span class="line">									&#125;</span><br><span class="line">							&#125;</span><br><span class="line">							<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (f[y] == NPOS)</span><br><span class="line">							&#123;</span><br><span class="line">								<span class="hljs-keyword">for</span> (pre[y] = x; y != NPOS;)</span><br><span class="line">									swap(y, f[f[y] = pre[y]]);</span><br><span class="line">								<span class="hljs-keyword">break</span>;</span><br><span class="line">							&#125;</span><br><span class="line">							<span class="hljs-keyword">else</span></span><br><span class="line">								pre[y] = x, q.push_back(f[y]), flag[f[y]] = <span class="hljs-number">1</span>, flag[y] = <span class="hljs-number">0</span>;</span><br><span class="line">						&#125;</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-keyword">char</span> s[<span class="hljs-number">255</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> t, n, m, c;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;t); t--; <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, c / <span class="hljs-number">2</span> - n))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">		<span class="hljs-function">Blossom <span class="hljs-title">g</span><span class="hljs-params">(m + n * <span class="hljs-number">2</span>)</span></span>;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s"</span>, s);</span><br><span class="line">			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; ++j)</span><br><span class="line">				<span class="hljs-keyword">if</span> (s[j] == <span class="hljs-string">'1'</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					g.add(&#123;j, m + i * <span class="hljs-number">2</span>&#125;);</span><br><span class="line">					g.add(&#123;m + i * <span class="hljs-number">2</span>, j&#125;);</span><br><span class="line">					g.add(&#123;j, m + i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>&#125;);</span><br><span class="line">					g.add(&#123;m + i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>, j&#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			g.add(&#123;m + i * <span class="hljs-number">2</span>, m + i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>&#125;);</span><br><span class="line">			g.add(&#123;m + i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>, m + i * <span class="hljs-number">2</span>&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		g.ask();</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = c = <span class="hljs-number">0</span>; i &lt; g.f.size(); ++i)</span><br><span class="line">			<span class="hljs-keyword">if</span> (g.f[i] != NPOS)</span><br><span class="line">				++c;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Easy-Chess"><a href="#Easy-Chess" class="headerlink" title="Easy Chess"></a><a href="https://codeforces.com/problemset/problem/1089/E" target="_blank" rel="noopener">Easy Chess</a></h1><p>小范围数据打表，否则指定几个关键节点。体验极差。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; ans&#123;</span><br><span class="line">	<span class="hljs-string">""</span>,</span><br><span class="line">	<span class="hljs-string">""</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h2 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h2 h3 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h2 h3 h4 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h2 h3 h4 h5 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h2 h3 h4 h5 h6 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 b1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 b1 c1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 b1 c1 d1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 b1 c1 d1 e1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 b1 c1 d1 e1 f1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 b1 c1 d1 e1 f1 g1 h1 h2 h3 h4 h5 h6 h7 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 a2 b2 b1 c1 d1 e1 f1 g1 h1 h2 h3 h4 h5 h6 h8"</span>,</span><br><span class="line">	<span class="hljs-string">"a1 a2 b2 b1 c1 d1 e1 f1 g1 h1 h2 h3 h4 h5 h6 h7 h8"</span>&#125;,</span><br><span class="line">	turn&#123;</span><br><span class="line">		<span class="hljs-string">"a1"</span>,</span><br><span class="line">		<span class="hljs-string">"h1"</span>,</span><br><span class="line">		<span class="hljs-string">"h2"</span>,</span><br><span class="line">		<span class="hljs-string">"a2"</span>,</span><br><span class="line">		<span class="hljs-string">"a3"</span>,</span><br><span class="line">		<span class="hljs-string">"h3"</span>,</span><br><span class="line">		<span class="hljs-string">"h4"</span>,</span><br><span class="line">		<span class="hljs-string">"a4"</span>,</span><br><span class="line">		<span class="hljs-string">"a5"</span>,</span><br><span class="line">		<span class="hljs-string">"h5"</span>,</span><br><span class="line">		<span class="hljs-string">"h6"</span>,</span><br><span class="line">		<span class="hljs-string">"a6"</span>,</span><br><span class="line">		<span class="hljs-string">"a8"</span>,</span><br><span class="line">		<span class="hljs-string">"g8"</span>,</span><br><span class="line">		<span class="hljs-string">"g7"</span>,</span><br><span class="line">		<span class="hljs-string">"a7"</span>,</span><br><span class="line">		<span class="hljs-string">"h7"</span>,</span><br><span class="line">		<span class="hljs-string">"h8"</span>&#125;,</span><br><span class="line">	jump&#123;</span><br><span class="line">		<span class="hljs-string">"a8"</span>,</span><br><span class="line">		<span class="hljs-string">"h7"</span>&#125;;</span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="hljs-keyword">if</span> (n &lt; ans.size())</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-built_in">cout</span> &lt;&lt; ans[n], <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">int</span> need = n - <span class="hljs-number">17</span>, to = <span class="hljs-number">1</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">string</span> now(<span class="hljs-string">"a1"</span>);;)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; now &lt;&lt; <span class="hljs-string">' '</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (now == turn[to])</span><br><span class="line">			++to;</span><br><span class="line">		<span class="hljs-keyword">if</span> (to &gt; turn.size())</span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (need == <span class="hljs-number">0</span> || turn[to] == jump[<span class="hljs-number">0</span>] || turn[to] == jump[<span class="hljs-number">1</span>])</span><br><span class="line">		&#123;</span><br><span class="line">			now = turn[to];</span><br><span class="line">			<span class="hljs-keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">if</span> (now[<span class="hljs-number">0</span>] &lt; turn[to][<span class="hljs-number">0</span>])</span><br><span class="line">			++now[<span class="hljs-number">0</span>];</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (now[<span class="hljs-number">0</span>] &gt; turn[to][<span class="hljs-number">0</span>])</span><br><span class="line">			--now[<span class="hljs-number">0</span>];</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (now[<span class="hljs-number">1</span>] &lt; turn[to][<span class="hljs-number">1</span>])</span><br><span class="line">			++now[<span class="hljs-number">1</span>];</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">			--now[<span class="hljs-number">1</span>];</span><br><span class="line">		<span class="hljs-keyword">if</span> (now != turn[to])</span><br><span class="line">			--need;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Fractions"><a href="#Fractions" class="headerlink" title="Fractions"></a><a href="https://vjudge.net/problem/CodeForces-1089F" target="_blank" rel="noopener">Fractions</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line">ll n, m;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;ll&gt; v;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b, ll &amp;x, ll &amp;y)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (!b)</span><br><span class="line">	&#123;</span><br><span class="line">		x = (m - <span class="hljs-number">1</span>) / a, y = <span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	gcd(b, a % b, x, y);</span><br><span class="line">	ll t = x;</span><br><span class="line">	x = y, y = t - a / b * y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;n);</span><br><span class="line">	m = n;</span><br><span class="line">	<span class="hljs-keyword">for</span> (ll i = <span class="hljs-number">2</span>; i * i &lt;= m; ++i)</span><br><span class="line">		<span class="hljs-keyword">if</span> (n % i == <span class="hljs-number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			v.push_back(i);</span><br><span class="line">			<span class="hljs-keyword">while</span> (n % i == <span class="hljs-number">0</span>)</span><br><span class="line">				n /= i;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">1</span>)</span><br><span class="line">		v.push_back(n);</span><br><span class="line">	<span class="hljs-keyword">if</span> (v.size() &lt; <span class="hljs-number">2</span>)</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">"NO"</span>), <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"YES\n2\n"</span>);</span><br><span class="line">	ll a = v[<span class="hljs-number">0</span>], b = v[v.size() - <span class="hljs-number">1</span>], x, y;</span><br><span class="line">	gcd(a, b, x, y);</span><br><span class="line">	a = m / a, b = m / b;</span><br><span class="line">	<span class="hljs-keyword">while</span> (x &lt;= <span class="hljs-number">0</span>)</span><br><span class="line">		x += a, y -= b;</span><br><span class="line">	<span class="hljs-keyword">while</span> (x &gt;= a)</span><br><span class="line">		x -= a, y += b;</span><br><span class="line">	<span class="hljs-keyword">while</span> (y &gt;= b)</span><br><span class="line">		x += a, y -= b;</span><br><span class="line">	<span class="hljs-keyword">while</span> (y &lt;= <span class="hljs-number">0</span>)</span><br><span class="line">		x -= a, y += b;</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld %lld\n%lld %lld"</span>, x, a, y, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Guest-Student"><a href="#Guest-Student" class="headerlink" title="Guest Student"></a><a href="https://vjudge.net/problem/CodeForces-1089G" target="_blank" rel="noopener">Guest Student</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> t, k, a[<span class="hljs-number">7</span>];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;t); t--;)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;k);</span><br><span class="line">		<span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>, x = <span class="hljs-number">0</span>, y = <span class="hljs-number">1e9</span>;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; ++i)</span><br><span class="line">			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[i]), sum += a[i];</span><br><span class="line">		<span class="hljs-keyword">if</span> (k &gt; <span class="hljs-number">2</span> * sum)</span><br><span class="line">		&#123;</span><br><span class="line">			k -= sum;</span><br><span class="line">			x = k / sum * <span class="hljs-number">7</span>;</span><br><span class="line">			k %= sum;</span><br><span class="line">			k += sum;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j; i &lt; <span class="hljs-number">7</span>; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> s = j = <span class="hljs-number">0</span>; s &lt; k; ++j)</span><br><span class="line">				s += a[(i + j) % <span class="hljs-number">7</span>];</span><br><span class="line">			y = min(y, j);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, x + y);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="King-Kog’s-Reception"><a href="#King-Kog’s-Reception" class="headerlink" title="King Kog’s Reception"></a><a href="https://vjudge.net/problem/CodeForces-1089K" target="_blank" rel="noopener">King Kog’s Reception</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">7</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SegmentTree</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span></span><br><span class="line"><span class="hljs-class">	&#123;</span></span><br><span class="line">		ll val, sum;</span><br><span class="line">		<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">up</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Node &amp;lc, <span class="hljs-keyword">const</span> Node &amp;rc)</span></span></span><br><span class="line"><span class="hljs-function">		</span>&#123;</span><br><span class="line">			sum = lc.sum + rc.sum;</span><br><span class="line">			val = max(lc.val + rc.sum, rc.val);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; v[N * <span class="hljs-number">4</span>];</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p, ll val, <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, <span class="hljs-keyword">int</span> r = N, <span class="hljs-keyword">int</span> rt = <span class="hljs-number">1</span>)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (l &gt;= r)</span><br><span class="line">		&#123;</span><br><span class="line">			v[rt].sum = val, v[rt].val = val ? l + val : <span class="hljs-number">0</span>;</span><br><span class="line">			<span class="hljs-keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">int</span> m = l + r &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (p &gt; m)</span><br><span class="line">			<span class="hljs-built_in">set</span>(p, val, m + <span class="hljs-number">1</span>, r, rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">			<span class="hljs-built_in">set</span>(p, val, l, m, rt &lt;&lt; <span class="hljs-number">1</span>);</span><br><span class="line">		v[rt].up(v[rt &lt;&lt; <span class="hljs-number">1</span>], v[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function">Node <span class="hljs-title">ask</span><span class="hljs-params">(<span class="hljs-keyword">int</span> p, <span class="hljs-keyword">int</span> q, <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, <span class="hljs-keyword">int</span> r = N, <span class="hljs-keyword">int</span> rt = <span class="hljs-number">1</span>)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span> (p &lt;= l &amp;&amp; r &lt;= q)</span><br><span class="line">			<span class="hljs-keyword">return</span> v[rt];</span><br><span class="line">		<span class="hljs-keyword">int</span> m = l + r &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (m &gt;= q)</span><br><span class="line">			<span class="hljs-keyword">return</span> ask(p, q, l, m, rt &lt;&lt; <span class="hljs-number">1</span>);</span><br><span class="line">		<span class="hljs-keyword">if</span> (m &lt; p)</span><br><span class="line">			<span class="hljs-keyword">return</span> ask(p, q, m + <span class="hljs-number">1</span>, r, rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);</span><br><span class="line">		<span class="hljs-keyword">return</span> v[<span class="hljs-number">0</span>].up(ask(p, q, l, m, rt &lt;&lt; <span class="hljs-number">1</span>), ask(p, q, m + <span class="hljs-number">1</span>, r, rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>)), v[<span class="hljs-number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">&#125; t;</span><br><span class="line"><span class="hljs-keyword">char</span> s[<span class="hljs-number">9</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> n, a[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, y; i &lt;= n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%s%d"</span>, s, &amp;a[i]);</span><br><span class="line">		<span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>] == <span class="hljs-string">'+'</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;y);</span><br><span class="line">			t.<span class="hljs-built_in">set</span>(a[i], y);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>] == <span class="hljs-string">'-'</span>)</span><br><span class="line">			t.<span class="hljs-built_in">set</span>(a[a[i]], <span class="hljs-number">0</span>);</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">			<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, max(t.ask(<span class="hljs-number">1</span>, a[i]).val - a[i], <span class="hljs-number">0L</span>L));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Lazyland"><a href="#Lazyland" class="headerlink" title="Lazyland"></a><a href="https://vjudge.net/problem/CodeForces-1089L" target="_blank" rel="noopener">Lazyland</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">9</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans, v[N];</span><br><span class="line"><span class="hljs-keyword">int</span> n, k, cnt, a[N], b[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;k);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[i]);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;b[i]);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        v[a[i]].push_back(b[i]);</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="hljs-keyword">if</span> (v[i].empty())</span><br><span class="line">        &#123;</span><br><span class="line">            ++cnt;</span><br><span class="line">            <span class="hljs-keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(v[i].begin(), v[i].end());</span><br><span class="line">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; v[i].size() - <span class="hljs-number">1</span>; ++j)</span><br><span class="line">            ans.push_back(v[i][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(ans.begin(), ans.end());</span><br><span class="line">    ll tmp = <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; ++i)</span><br><span class="line">        tmp += ans[i];</span><br><span class="line">    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld"</span>, tmp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-20T10:00:00.000Z">2019-01-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ACM/">ACM</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/ACM/题解/">题解</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 读完 (大约 839 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/01/20/2019-01-20-2018-2019 ICPC, NEERC, Southern Subregional Contest/">2018-2019 ICPC, NEERC, Southern Subregional Contest</a>
            
        </h1>
        <div class="content">
            <h1 id="Find-a-Number"><a href="#Find-a-Number" class="headerlink" title="Find a Number"></a><a href="https://vjudge.net/problem/CodeForces-1070A" target="_blank" rel="noopener">Find a Number</a></h1><p>BFS搜索并保存路径，维护两维数据：走到当前位置时的余数和总和。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">511</span>, M = <span class="hljs-number">5111</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> d, s, vis[N][M], prex[N][M], prey[N][M], val[N][M];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span> &amp;&amp; y == <span class="hljs-number">0</span>)</span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	print(prex[x][y], prey[x][y]);</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, val[x][y]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;d, &amp;s);</span><br><span class="line">	val[<span class="hljs-number">0</span>][s] = <span class="hljs-number">-1</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">deque</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; q(vis[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>); !q.empty(); q.pop_front())</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = q.front().first, y = q.front().second, i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">9</span>; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-keyword">int</span> xx = (<span class="hljs-number">10</span> * x + i) % d, yy = y + i;</span><br><span class="line">			<span class="hljs-keyword">if</span> (vis[xx][yy] || yy &gt; s)</span><br><span class="line">				<span class="hljs-keyword">continue</span>;</span><br><span class="line">			vis[xx][yy] = <span class="hljs-number">1</span>;</span><br><span class="line">			val[xx][yy] = i;</span><br><span class="line">			prex[xx][yy] = x;</span><br><span class="line">			prey[xx][yy] = y;</span><br><span class="line">			q.push_back(make_pair(xx, yy));</span><br><span class="line">		&#125;</span><br><span class="line">	print(<span class="hljs-number">0</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Cloud-Computing"><a href="#Cloud-Computing" class="headerlink" title="Cloud Computing"></a><a href="https://vjudge.net/problem/CodeForces-1070C" target="_blank" rel="noopener">Cloud Computing</a></h1><p>线段树，现场被奇奇怪怪的思路搞到自闭了。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e6</span> + <span class="hljs-number">9</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	<span class="hljs-keyword">int</span> c, p;</span><br><span class="line">&#125; a[N];</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Tree</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	ll x, size;</span><br><span class="line">&#125; t[N * <span class="hljs-number">4</span>];</span><br><span class="line"><span class="hljs-keyword">int</span> v[N], w[N], nex[N], g[N], tot;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	v[++tot] = y;</span><br><span class="line">	w[tot] = z;</span><br><span class="line">	nex[tot] = g[x];</span><br><span class="line">	g[x] = tot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ins</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> p, <span class="hljs-keyword">int</span> q)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (l == r)</span><br><span class="line">	&#123;</span><br><span class="line">		t[x].size += q;</span><br><span class="line">		t[x].x += q * <span class="hljs-number">1l</span>l * l;</span><br><span class="line">		<span class="hljs-keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">	<span class="hljs-keyword">if</span> (p &lt;= mid)</span><br><span class="line">		ins(x &lt;&lt; <span class="hljs-number">1</span>, l, mid, p, q);</span><br><span class="line">	<span class="hljs-keyword">else</span></span><br><span class="line">		ins(x &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, p, q);</span><br><span class="line">	t[x].size = t[x &lt;&lt; <span class="hljs-number">1</span>].size + t[x &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].size;</span><br><span class="line">	t[x].x = t[x &lt;&lt; <span class="hljs-number">1</span>].x + t[x &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> p)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (t[x].size &lt;= p)</span><br><span class="line">		<span class="hljs-keyword">return</span> t[x].x;</span><br><span class="line">	<span class="hljs-keyword">if</span> (l == r)</span><br><span class="line">		<span class="hljs-keyword">return</span> l * <span class="hljs-number">1l</span>l * p;</span><br><span class="line">	<span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;</span><br><span class="line">	<span class="hljs-keyword">if</span> (t[x &lt;&lt; <span class="hljs-number">1</span>].size &gt;= p)</span><br><span class="line">		<span class="hljs-keyword">return</span> get(x &lt;&lt; <span class="hljs-number">1</span>, l, mid, p);</span><br><span class="line">	<span class="hljs-keyword">else</span></span><br><span class="line">		<span class="hljs-keyword">return</span> get(x &lt;&lt; <span class="hljs-number">1</span>, l, mid, t[x &lt;&lt; <span class="hljs-number">1</span>].size) + get(x &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, p - t[x &lt;&lt; <span class="hljs-number">1</span>].size);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> n, m, k;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, x, y; i &lt;= k; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d%d"</span>, &amp;x, &amp;y, &amp;a[i].c, &amp;a[i].p);</span><br><span class="line">		add(x, i, <span class="hljs-number">1</span>);</span><br><span class="line">		add(y + <span class="hljs-number">1</span>, i, <span class="hljs-number">-1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	ll ans = <span class="hljs-number">0</span>, last = <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">bool</span> p = <span class="hljs-number">1</span>;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = g[i]; j; j = nex[j])</span><br><span class="line">		&#123;</span><br><span class="line">			p = <span class="hljs-number">0</span>;</span><br><span class="line">			ins(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1e6</span>, a[v[j]].p, a[v[j]].c * w[j]);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">if</span> (p)</span><br><span class="line">			ans += last;</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			last = get(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1e6</span>, m);</span><br><span class="line">			ans += last;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld"</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Garbage-Disposal"><a href="#Garbage-Disposal" class="headerlink" title="Garbage Disposal"></a><a href="https://vjudge.net/problem/CodeForces-1070D" target="_blank" rel="noopener">Garbage Disposal</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line">ll n, k, ans;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld%lld"</span>, &amp;n, &amp;k);</span><br><span class="line">	<span class="hljs-keyword">for</span> (ll i = <span class="hljs-number">0</span>, a, pre = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;a);</span><br><span class="line">		ans += pre / k;</span><br><span class="line">		pre %= k;</span><br><span class="line">		<span class="hljs-keyword">if</span> (pre &gt; <span class="hljs-number">0</span>)</span><br><span class="line">			pre -= k, ++ans;</span><br><span class="line">		pre += a;</span><br><span class="line">		<span class="hljs-keyword">if</span> (pre &lt; <span class="hljs-number">0</span>)</span><br><span class="line">			pre = <span class="hljs-number">0</span>;</span><br><span class="line">		ans += pre / k;</span><br><span class="line">		pre %= k;</span><br><span class="line">		<span class="hljs-keyword">if</span> (i == n - <span class="hljs-number">1</span> &amp;&amp; pre &gt; <span class="hljs-number">0</span>)</span><br><span class="line">			++ans;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld"</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Debate"><a href="#Debate" class="headerlink" title="Debate"></a><a href="https://vjudge.net/problem/CodeForces-1070F" target="_blank" rel="noopener">Debate</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">4e5</span> + <span class="hljs-number">9</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> n, ans, t[<span class="hljs-number">4</span>], a[N], b[N], c[N * <span class="hljs-number">2</span>];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, x, y; i &lt;= n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">		<span class="hljs-keyword">if</span> (x == <span class="hljs-number">11</span>)</span><br><span class="line">			++t[<span class="hljs-number">3</span>], ans += y;</span><br><span class="line">		<span class="hljs-keyword">if</span> (x == <span class="hljs-number">10</span>)</span><br><span class="line">			a[++t[<span class="hljs-number">2</span>]] = y;</span><br><span class="line">		<span class="hljs-keyword">if</span> (x == <span class="hljs-number">1</span>)</span><br><span class="line">			b[++t[<span class="hljs-number">1</span>]] = y;</span><br><span class="line">		<span class="hljs-keyword">if</span> (x == <span class="hljs-number">0</span>)</span><br><span class="line">			c[++t[<span class="hljs-number">0</span>]] = y;</span><br><span class="line">	&#125;</span><br><span class="line">	sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + t[<span class="hljs-number">2</span>], greater&lt;<span class="hljs-keyword">int</span>&gt;());</span><br><span class="line">	sort(b + <span class="hljs-number">1</span>, b + <span class="hljs-number">1</span> + t[<span class="hljs-number">1</span>], greater&lt;<span class="hljs-keyword">int</span>&gt;());</span><br><span class="line">	<span class="hljs-keyword">int</span> mi = min(t[<span class="hljs-number">2</span>], t[<span class="hljs-number">1</span>]);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= mi; ++i)</span><br><span class="line">		ans += a[i] + b[i];</span><br><span class="line">	<span class="hljs-keyword">if</span> (t[<span class="hljs-number">2</span>] &gt; t[<span class="hljs-number">1</span>])</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = mi + <span class="hljs-number">1</span>; i &lt;= t[<span class="hljs-number">2</span>]; ++i)</span><br><span class="line">			c[++t[<span class="hljs-number">0</span>]] = a[i];</span><br><span class="line">	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (t[<span class="hljs-number">2</span>] &lt; t[<span class="hljs-number">1</span>])</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = mi + <span class="hljs-number">1</span>; i &lt;= t[<span class="hljs-number">1</span>]; ++i)</span><br><span class="line">			c[++t[<span class="hljs-number">0</span>]] = b[i];</span><br><span class="line">	sort(c + <span class="hljs-number">1</span>, c + <span class="hljs-number">1</span> + t[<span class="hljs-number">0</span>], greater&lt;<span class="hljs-keyword">int</span>&gt;());</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= t[<span class="hljs-number">3</span>]; ++i)</span><br><span class="line">		ans += c[i];</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="BerOS-File-Suggestion"><a href="#BerOS-File-Suggestion" class="headerlink" title="BerOS File Suggestion"></a><a href="https://vjudge.net/problem/CodeForces-1070H" target="_blank" rel="noopener">BerOS File Suggestion</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>, pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">string</span>&gt;&gt; mp;</span><br><span class="line"><span class="hljs-built_in">string</span> s;</span><br><span class="line"><span class="hljs-keyword">int</span> n;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n; n--;)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">cin</span> &gt;&gt; s;</span><br><span class="line">		<span class="hljs-built_in">unordered_set</span>&lt;<span class="hljs-built_in">string</span>&gt; st;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.size(); ++i)</span><br><span class="line">			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &lt; s.size(); ++j)</span><br><span class="line">				st.insert(s.substr(i, j - i + <span class="hljs-number">1</span>));</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it : st)</span><br><span class="line">		&#123;</span><br><span class="line">			pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">string</span>&gt; &amp;pis = mp[it];</span><br><span class="line">			<span class="hljs-keyword">if</span> (++mp[it].first == <span class="hljs-number">1</span>)</span><br><span class="line">				mp[it].second = s;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n; n--;)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">cin</span> &gt;&gt; s;</span><br><span class="line">		pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">string</span>&gt; &amp;pis = mp[s];</span><br><span class="line">		<span class="hljs-built_in">cout</span> &lt;&lt; pis.first &lt;&lt; <span class="hljs-string">' '</span> &lt;&lt; (!pis.second.empty() ? pis.second : <span class="hljs-string">"-"</span>) &lt;&lt; <span class="hljs-string">'\n'</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Video-Posts"><a href="#Video-Posts" class="headerlink" title="Video Posts"></a><a href="https://vjudge.net/problem/CodeForces-1070K" target="_blank" rel="noopener">Video Posts</a></h1><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">9</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> n, k, s, m, a[N];</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;k);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;a[i]), s += a[i];</span><br><span class="line">	<span class="hljs-keyword">if</span> (s % k)</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">"No"</span>), <span class="hljs-number">0</span>;</span><br><span class="line">	m = s / k;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = s = <span class="hljs-number">0</span>, pre = <span class="hljs-number">-1</span>; i &lt; n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		s += a[i];</span><br><span class="line">		<span class="hljs-keyword">if</span> (s &gt; m)</span><br><span class="line">			<span class="hljs-keyword">return</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">"No"</span>), <span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-keyword">if</span> (s == m)</span><br><span class="line">			v.push_back(i - pre), pre = i, s = <span class="hljs-number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"Yes\n"</span>);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; v.size(); ++i)</span><br><span class="line">		<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, v[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2019-01-19T10:00:00.000Z">2019-01-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ACM/">ACM</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/ACM/题解/">题解</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 读完 (大约 761 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2019/01/19/2019-01-19-ZOJ Monthly, January 2019/">ZOJ Monthly, January 2019</a>
            
        </h1>
        <div class="content">
            <p>只做了AEI三题，还是太菜了…</p>
<h1 id="Little-Sub-and-Pascal’s-Triangle"><a href="#Little-Sub-and-Pascal’s-Triangle" class="headerlink" title="Little Sub and Pascal’s Triangle"></a><a href="https://vjudge.net/problem/ZOJ-4081" target="_blank" rel="noopener">Little Sub and Pascal’s Triangle</a></h1><p>打表快乐找规律……发现的规律是，对于答案序列中每连续的<code>1&lt;&lt;n</code>个数，后一半序列是由前一半的序列乘二得到的。于是可以直接根据k的二进制得到答案。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> t, k, a;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;t); t--; <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, a))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;k);</span><br><span class="line">		<span class="hljs-keyword">for</span> (k -= a = <span class="hljs-number">1</span>; k; k &gt;&gt;= <span class="hljs-number">1</span>)</span><br><span class="line">			<span class="hljs-keyword">if</span> (k &amp; <span class="hljs-number">1</span>)</span><br><span class="line">				a &lt;&lt;= <span class="hljs-number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Little-Sub-and-his-Geometry-Problem"><a href="#Little-Sub-and-his-Geometry-Problem" class="headerlink" title="Little Sub and his Geometry Problem"></a><a href="https://vjudge.net/problem/ZOJ-4082" target="_blank" rel="noopener">Little Sub and his Geometry Problem</a></h1><p>容易发现，对于某个固定的询问C，符合要求的点一定是随着X增加Y减少，于是使用X、Y方向的双指针维护答案。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">7</span>;</span><br><span class="line"><span class="hljs-keyword">int</span> t, n, k, q, ans;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;t); t--;)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;k);</span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; e(n + <span class="hljs-number">1</span>);</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, x, y; i &lt; k; ++i)</span><br><span class="line">			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;y), e[x].push_back(y);</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;q); q--; <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d%c"</span>, ans, q ? <span class="hljs-string">' '</span> : <span class="hljs-string">'\n'</span>))</span><br><span class="line">		&#123;</span><br><span class="line">			ll c, x = <span class="hljs-number">1</span>, y = n, cnt = ans = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>;</span><br><span class="line">			<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cnty(n + <span class="hljs-number">1</span>), sumy(n + <span class="hljs-number">1</span>);</span><br><span class="line">			<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;c); x &lt;= n; ++x)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> u : e[x])</span><br><span class="line">					<span class="hljs-keyword">if</span> (u &lt;= y)</span><br><span class="line">						++cnt, ++cnty[u], sum += x + u, sumy[u] += x + u;</span><br><span class="line">				<span class="hljs-keyword">for</span> (; (x + y) * cnt - sum &gt; c; --y)</span><br><span class="line">					cnt -= cnty[y], sum -= sumy[y];</span><br><span class="line">				<span class="hljs-keyword">if</span> ((x + y) * cnt - sum == c)</span><br><span class="line">					++ans;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Little-Sub-and-Mr-Potato’s-Math-Problem"><a href="#Little-Sub-and-Mr-Potato’s-Math-Problem" class="headerlink" title="Little Sub and Mr.Potato’s Math Problem"></a><a href="https://vjudge.net/problem/ZOJ-4085" target="_blank" rel="noopener">Little Sub and Mr.Potato’s Math Problem</a></h1><p>十分不熟悉的数位DP，现场做了很久……以后要多多练习。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">POW</span> :</span> <span class="hljs-built_in">vector</span>&lt;ll&gt;</span><br><span class="line">&#123;</span><br><span class="line">	POW(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> n) : <span class="hljs-built_in">vector</span>&lt;ll&gt;(n, <span class="hljs-number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; size(); ++i)</span><br><span class="line">			at(i) = at(i - <span class="hljs-number">1</span>) * x;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; POW10(<span class="hljs-number">10</span>, <span class="hljs-number">19</span>);</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">DP</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;ll&gt; f;</span><br><span class="line">	ll sum;</span><br><span class="line">	DP(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;ll&gt; &amp;d) : f(d.size()), sum(<span class="hljs-number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; d.size(); ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = f[i] = <span class="hljs-number">0</span>; j &lt;= i; ++j)</span><br><span class="line">				f[i] += (d[j] - (j == <span class="hljs-number">0</span>)) * POW10[i - j];</span><br><span class="line">			sum += f[i] + <span class="hljs-number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">cal</span><span class="hljs-params">(ll n, ll k, ll s, ll len)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span> (n &gt; s * POW10[len])</span><br><span class="line">		<span class="hljs-keyword">return</span> cal(n - s * POW10[len], k, s, len + <span class="hljs-number">1</span>);</span><br><span class="line">	<span class="hljs-keyword">return</span> (n / POW10[len] + POW10[ll(<span class="hljs-built_in">log10</span>(k))]) * POW10[len] + n % POW10[len] - <span class="hljs-number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	ll t, k, m;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld"</span>, &amp;t); t--;)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld%lld"</span>, &amp;k, &amp;m);</span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;ll&gt; d;</span><br><span class="line">		<span class="hljs-keyword">for</span> (ll n = k; n; n /= <span class="hljs-number">10</span>)</span><br><span class="line">			d.push_back(n % <span class="hljs-number">10</span>);</span><br><span class="line">		reverse(d.begin(), d.end());</span><br><span class="line">		<span class="hljs-function">DP <span class="hljs-title">dp</span><span class="hljs-params">(d)</span></span>;</span><br><span class="line">		<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, m == dp.sum ? k : m &lt; dp.sum || k == *lower_bound(POW10.begin(), POW10.end(), k) ? <span class="hljs-number">0</span> : cal(m - dp.sum, k, dp.f.back(), <span class="hljs-number">1</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Little-Sub-and-Isomorphism-Sequences"><a href="#Little-Sub-and-Isomorphism-Sequences" class="headerlink" title="Little Sub and Isomorphism Sequences"></a><a href="https://vjudge.net/problem/ZOJ-4089" target="_blank" rel="noopener">Little Sub and Isomorphism Sequences</a></h1><p>容易看出求最大的k就是求两个相同元素下标差的最大值，用一个set维护即可。为了求稳使用了离散化处理。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MP(i) make_pair(vs[i].size() &lt; 2 ? -1 : *vs[i].rbegin() - *vs[i].begin(), i)</span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> ll;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Ranker</span> :</span> <span class="hljs-built_in">vector</span>&lt;ll&gt;</span><br><span class="line">&#123;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		sort(begin(), end()), resize(unique(begin(), end()) - begin());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ask</span><span class="hljs-params">(ll x)</span> <span class="hljs-keyword">const</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> lower_bound(begin(), end(), x) - begin();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-function">ll <span class="hljs-title">getll</span><span class="hljs-params">(FILE *in = <span class="hljs-built_in">stdin</span>)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	ll val = <span class="hljs-number">0</span>, sgn = <span class="hljs-number">1</span>, ch = getc(in);</span><br><span class="line">	<span class="hljs-keyword">for</span> (; !<span class="hljs-built_in">isdigit</span>(ch) &amp;&amp; ch != EOF; ch = getc(in))</span><br><span class="line">		<span class="hljs-keyword">if</span> (ch == <span class="hljs-string">'-'</span>)</span><br><span class="line">			sgn = -sgn;</span><br><span class="line">	<span class="hljs-keyword">for</span> (; <span class="hljs-built_in">isdigit</span>(ch); ch = getc(in))</span><br><span class="line">		val = val * <span class="hljs-number">10</span> + ch - <span class="hljs-string">'0'</span>;</span><br><span class="line">	<span class="hljs-keyword">return</span> ungetc(ch, in), sgn * val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">for</span> (ll t = getll(); t--;)</span><br><span class="line">	&#123;</span><br><span class="line">		ll n = getll(), m = getll();</span><br><span class="line">		Ranker input;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">			input.push_back(getll());</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			input.push_back(getll());</span><br><span class="line">			<span class="hljs-keyword">if</span> (input.back() == <span class="hljs-number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				input.push_back(getll());</span><br><span class="line">				input.push_back(getll());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		Ranker::iterator it = input.begin();</span><br><span class="line">		Ranker rk(input), a;</span><br><span class="line">		rk.init();</span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; vs(rk.size());</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			a.push_back(rk.ask(*(it++)));</span><br><span class="line">			vs[a.back()].insert(i);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-built_in">set</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; q;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; vs.size(); ++i)</span><br><span class="line">			q.insert(MP(i));</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="hljs-keyword">if</span> (*(it++) == <span class="hljs-number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				ll x = *(it++) - <span class="hljs-number">1</span>;</span><br><span class="line">				q.erase(MP(a[x]));</span><br><span class="line">				vs[a[x]].erase(x);</span><br><span class="line">				q.insert(MP(a[x]));</span><br><span class="line">				a[x] = rk.ask(*(it++));</span><br><span class="line">				q.erase(MP(a[x]));</span><br><span class="line">				vs[a[x]].insert(x);</span><br><span class="line">				q.insert(MP(a[x]));</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="hljs-keyword">else</span></span><br><span class="line">				<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, q.rbegin()-&gt;first);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-23T03:42:49.000Z">2018-12-23</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/计算机组成原理/">计算机组成原理</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    44 分钟 读完 (大约 6642 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/23/2018-12-23-多周期CPU设计/">多周期CPU设计</a>
            
        </h1>
        <div class="content">
            <h1 id="实验目的"><a href="#实验目的" class="headerlink" title="实验目的"></a>实验目的</h1><ol>
<li>认识和掌握多周期数据通路图的构成、原理及其设计方法；</li>
<li>掌握多周期CPU的实现方法，代码实现方法；</li>
<li>编写一个编译器，将MIPS汇编程序编译为二进制机器码；</li>
<li>掌握多周期CPU的测试方法;</li>
<li>掌握多周期CPU的实现方法。</li>
</ol>
<h1 id="实验内容"><a href="#实验内容" class="headerlink" title="实验内容"></a>实验内容</h1><p>设计一个多周期CPU，该CPU至少能实现以下指令功能操作。需设计的指令与格式如下：</p>
<h2 id="算术运算指令"><a href="#算术运算指令" class="headerlink" title="算术运算指令"></a>算术运算指令</h2><h3 id="add-rd-rs-rt"><a href="#add-rd-rs-rt" class="headerlink" title="add rd rs rt"></a>add rd rs rt</h3><table>
<thead>
<tr>
<th>000000</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>rd(5位)</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rd←rs + rt</code>；reserved为预留部分，即未用，一般填“0”。</p>
<h3 id="sub-rd-rs-rt"><a href="#sub-rd-rs-rt" class="headerlink" title="sub rd rs rt"></a>sub rd rs rt</h3><table>
<thead>
<tr>
<th>000001</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>rd(5位)</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rd←rs - rt</code>。</p>
<h3 id="addiu-rt-rs-immediate"><a href="#addiu-rt-rs-immediate" class="headerlink" title="addiu rt rs immediate"></a>addiu rt rs immediate</h3><table>
<thead>
<tr>
<th>000010</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rt←rs + (sign-extend)immediate</code>；immediate符号扩展再参加“加”运算。</p>
<h2 id="逻辑运算指令"><a href="#逻辑运算指令" class="headerlink" title="逻辑运算指令"></a>逻辑运算指令</h2><h3 id="and-rd-rs-rt"><a href="#and-rd-rs-rt" class="headerlink" title="and rd rs rt"></a>and rd rs rt</h3><table>
<thead>
<tr>
<th>010000</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>rd(5位)</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rd←rs &amp; rt</code>；逻辑与运算。</p>
<h3 id="andi-rt-rs-immediate"><a href="#andi-rt-rs-immediate" class="headerlink" title="andi rt rs immediate"></a>andi rt rs immediate</h3><p>|010001|rs(5位)|rt(5位)|immediate(16位)|<br>|-|-|-|-|-|<br>||||||</p>
<p>功能：<code>rt←rs &amp; (zero-extend)immediate</code>；immediate做“0”扩展再参加“与”运算。</p>
<h3 id="ori-rt-rs-immediate"><a href="#ori-rt-rs-immediate" class="headerlink" title="ori rt rs immediate"></a>ori rt rs immediate</h3><table>
<thead>
<tr>
<th>010010</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rt←rs | (zero-extend)immediate</code>；immediate做“0”扩展再参加“或”运算。</p>
<h3 id="xori-rd-rs-rt"><a href="#xori-rd-rs-rt" class="headerlink" title="xori rd rs rt"></a>xori rd rs rt</h3><table>
<thead>
<tr>
<th>010011</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>rd(5位)</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rt←rs</code>$\oplus$<code>(zero-extend)immediate</code>；immediate做“0”扩展再参加“异或”运算。</p>
<h2 id="移位指令"><a href="#移位指令" class="headerlink" title="移位指令"></a>移位指令</h2><h3 id="sll-rd-rt-sa"><a href="#sll-rd-rt-sa" class="headerlink" title="sll rd rt sa"></a>sll rd rt sa</h3><table>
<thead>
<tr>
<th>011000</th>
<th>未用</th>
<th>rt(5位)</th>
<th>rd(5位)</th>
<th>sa(5位)</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rd&lt;－rt&lt;&lt;(zero-extend)sa</code>，左移sa位 ，(zero-extend)sa。</p>
<h2 id="比较指令"><a href="#比较指令" class="headerlink" title="比较指令"></a>比较指令</h2><h3 id="slti-rt-rs-immediate"><a href="#slti-rt-rs-immediate" class="headerlink" title="slti rt rs immediate"></a>slti rt rs immediate</h3><table>
<thead>
<tr>
<th>100110</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>if (rs&lt; (sign-extend)immediate)  rt =1 else  rt=0</code>, 带符号比较，详见ALU运算功能表。</p>
<h3 id="slt-rd-rs-rt"><a href="#slt-rd-rs-rt" class="headerlink" title="slt rd rs rt"></a>slt rd rs rt</h3><table>
<thead>
<tr>
<th>100111</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>rd(5位)</th>
<th>sa(5位)</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>if (rs&lt;rt)  rd =1 else  rd=0</code>, 具体请看ALU运算功能表，带符号。</p>
<h2 id="存储器读-写指令"><a href="#存储器读-写指令" class="headerlink" title="存储器读/写指令"></a>存储器读/写指令</h2><h3 id="sw-rt-immediate-rs"><a href="#sw-rt-immediate-rs" class="headerlink" title="sw rt immediate(rs)"></a>sw rt immediate(rs)</h3><table>
<thead>
<tr>
<th>110000</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>memory[rs+ (sign-extend)immediate]←rt</code>；immediate符号扩展再相加。即将rt寄存器的内容保存到rs寄存器内容和立即数符号扩展后的数相加作为地址的内存单元中。</p>
<h3 id="lw-rt-immediate-rs"><a href="#lw-rt-immediate-rs" class="headerlink" title="lw rt immediate(rs)"></a>lw rt immediate(rs)</h3><table>
<thead>
<tr>
<th>110001</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>rt ← memory[rs + (sign-extend)immediate]</code>；immediate符号扩展再相加。即读取rs寄存器内容和立即数符号扩展后的数相加作为地址的内存单元中的数，然后保存到rt寄存器中。</p>
<h2 id="分支指令"><a href="#分支指令" class="headerlink" title="分支指令"></a>分支指令</h2><h3 id="beq-rs-rt-immediate"><a href="#beq-rs-rt-immediate" class="headerlink" title="beq rs rt immediate"></a>beq rs rt immediate</h3><table>
<thead>
<tr>
<th>110100</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>if(rs=rt) pc←pc + 4 + (sign-extend)immediate &lt;&lt;2  else pc ←pc + 4</code><br>特别说明：immediate是从PC+4地址开始和转移到的指令之间指令条数。immediate符号扩展之后左移2位再相加。为什么要左移2位？由于跳转到的指令地址肯定是4的倍数（每条指令占4个字节），最低两位是“00”，因此将immediate放进指令码中的时候，是右移了2位的，也就是以上说的“指令之间指令条数”。</p>
<h3 id="bne-rs-rt-immediate"><a href="#bne-rs-rt-immediate" class="headerlink" title="bne rs rt immediate"></a>bne rs rt immediate</h3><table>
<thead>
<tr>
<th>110101</th>
<th>rs(5位)</th>
<th>rt(5位)</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>if(rs!=rt) pc←pc + 4 + (sign-extend)immediate &lt;&lt;2  else pc ←pc + 4</code><br>特别说明：与beq不同点是，不等时转移，相等时顺序执行。</p>
<h3 id="bltz-rs-immediate"><a href="#bltz-rs-immediate" class="headerlink" title="bltz rs immediate"></a>bltz rs immediate</h3><table>
<thead>
<tr>
<th>110110</th>
<th>rs(5位)</th>
<th>00000</th>
<th>immediate(16位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>if(rs&lt;$zero) pc←pc + 4 + (sign-extend)immediate &lt;&lt;2  else pc ←pc + 4</code>。</p>
<h2 id="跳转指令"><a href="#跳转指令" class="headerlink" title="跳转指令"></a>跳转指令</h2><h3 id="j-addr"><a href="#j-addr" class="headerlink" title="j addr"></a>j addr</h3><table>
<thead>
<tr>
<th>111000</th>
<th>addr[27:2]</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：<code>pc &lt;－{(pc+4)[31:28],addr[27:2],2&#39;b00}</code>，无条件跳转。<br>说明：由于MIPS32的指令代码长度占4个字节，所以指令地址二进制数最低2位均为0，将指令地址放进指令代码中时，可省掉！这样，除了最高6位操作码外，还有26位可用于存放地址，事实上，可存放28位地址，剩下最高4位由pc+4最高4位拼接上。</p>
<h3 id="jr-rs"><a href="#jr-rs" class="headerlink" title="jr rs"></a>jr rs</h3><table>
<thead>
<tr>
<th>111001</th>
<th>rs(5位)</th>
<th>未用</th>
<th>未用</th>
<th>reserved</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：pc &lt;－ rs，跳转。</p>
<h2 id="调用子程序指令"><a href="#调用子程序指令" class="headerlink" title="调用子程序指令"></a>调用子程序指令</h2><h3 id="jal-addr"><a href="#jal-addr" class="headerlink" title="jal addr"></a>jal addr</h3><table>
<thead>
<tr>
<th>111010</th>
<th>addr[27:2]</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：调用子程序，<code>pc &lt;－ {(pc+4)[31:28],addr[27:2],2&#39;b00}</code>；<code>$31&lt;－pc+4</code>，返回地址设置；子程序返回，需用指令 <code>jr $31</code>。跳转地址的形成同 j addr 指令。</p>
<h2 id="停机指令"><a href="#停机指令" class="headerlink" title="停机指令"></a>停机指令</h2><h3 id="halt"><a href="#halt" class="headerlink" title="halt"></a>halt</h3><table>
<thead>
<tr>
<th>111111</th>
<th>00000000000000000000000000(26位)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>功能：停机；不改变PC的值，PC保持不变。</p>
<h1 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h1><p>多周期CPU指的是将整个CPU的执行过程分成几个阶段，每个阶段用一个时钟去完成，然后开始下一条指令的执行，而每种指令执行时所用的时钟数不尽相同，这就是所谓的多周期CPU。</p>
<h2 id="CPU在处理指令的几个步骤"><a href="#CPU在处理指令的几个步骤" class="headerlink" title="CPU在处理指令的几个步骤"></a>CPU在处理指令的几个步骤</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">取指令IF--&gt;指令译码ID</span><br><span class="line">指令译码ID--&gt;指令执行EXE</span><br><span class="line">指令执行EXE--&gt;存储器访问MEM</span><br><span class="line">存储器访问MEM--&gt;结果写回WB</span><br><span class="line">结果写回WB--&gt;取指令IF</span><br></pre></td></tr></table></figure>

<p>图1 CPU指令处理过程</p>
<p>实验中就按照这五个阶段进行设计，这样一条指令的执行最长需要五个(小)时钟周期才能完成，但具体情况怎样？要根据该条指令的情况而定，有些指令不需要五个时钟周期的，这就是多周期的CPU。</p>
<h3 id="取指令-IF"><a href="#取指令-IF" class="headerlink" title="取指令(IF)"></a>取指令(IF)</h3><p>根据程序计数器pc中的指令地址，从存储器中取出一条指令，同时，pc根据指令字长度自动递增产生下一条指令所需要的指令地址，但遇到“地址转移”指令时，则控制器把“转移地址”送入pc，当然得到的“地址”需要做些变换才送入pc。</p>
<h3 id="指令译码-ID"><a href="#指令译码-ID" class="headerlink" title="指令译码(ID)"></a>指令译码(ID)</h3><p>对取指令操作中得到的指令进行分析并译码，确定这条指令需要完成的操作，从而产生相应的操作控制信号，用于驱动执行状态中的各种操作。</p>
<h3 id="指令执行-EXE"><a href="#指令执行-EXE" class="headerlink" title="指令执行(EXE)"></a>指令执行(EXE)</h3><p>根据指令译码得到的操作控制信号，具体地执行指令动作，然后转移到结果写回状态。</p>
<h3 id="存储器访问-MEM"><a href="#存储器访问-MEM" class="headerlink" title="存储器访问(MEM)"></a>存储器访问(MEM)</h3><p>所有需要访问存储器的操作都将在这个步骤中执行，该步骤给出存储器的数据地址，把数据写入到存储器中数据地址所指定的存储单元或者从存储器中得到数据地址单元中的数据。</p>
<h3 id="结果写回-WB"><a href="#结果写回-WB" class="headerlink" title="结果写回(WB)"></a>结果写回(WB)</h3><p>指令执行的结果或者访问存储器中得到的数据写回相应的目的寄存器中。</p>
<h2 id="MIPS指令的三种格式"><a href="#MIPS指令的三种格式" class="headerlink" title="MIPS指令的三种格式"></a>MIPS指令的三种格式</h2><table>
<thead>
<tr>
<th>缩写</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>op</td>
<td>操作码</td>
</tr>
<tr>
<td>rs</td>
<td>只读，为第1个源操作数寄存器，寄存器地址（编号）是<code>00000~11111，00~1F</code></td>
</tr>
<tr>
<td>rt</td>
<td>可读可写，为第2个源操作数寄存器，或目的操作数寄存器，寄存器地址（同上）</td>
</tr>
<tr>
<td>rd</td>
<td>只写，为目的操作数寄存器，寄存器地址（同上）</td>
</tr>
<tr>
<td>sa</td>
<td>位移量（shift amt），移位指令用于指定移多少位</td>
</tr>
<tr>
<td>funct</td>
<td>功能码，在寄存器类型指令中（R类型）用来指定指令的功能与操作码配合使用</td>
</tr>
<tr>
<td>immediate</td>
<td>16位立即数，用作无符号的逻辑操作数、有符号的算术操作数、数据加载（Laod）/数据保存（Store）指令的数据地址字节偏移量和分支指令中相对程序计数器（PC）的有符号偏移量；</td>
</tr>
<tr>
<td>address</td>
<td>地址</td>
</tr>
</tbody></table>
<h3 id="R类型"><a href="#R类型" class="headerlink" title="R类型"></a>R类型</h3><table>
<thead>
<tr>
<th>31-26</th>
<th>25-21</th>
<th>20-16</th>
<th>15-11</th>
<th>10-6</th>
<th>5-0</th>
</tr>
</thead>
<tbody><tr>
<td>op</td>
<td>rs</td>
<td>rt</td>
<td>rd</td>
<td>sa</td>
<td>func</td>
</tr>
<tr>
<td>6位</td>
<td>5位</td>
<td>5位</td>
<td>5位</td>
<td>5位</td>
<td>6位</td>
</tr>
</tbody></table>
<h3 id="I类型"><a href="#I类型" class="headerlink" title="I类型"></a>I类型</h3><table>
<thead>
<tr>
<th>31-26</th>
<th>25-21</th>
<th>20-16</th>
<th>15-0</th>
</tr>
</thead>
<tbody><tr>
<td>op</td>
<td>rs</td>
<td>rt</td>
<td>immediate</td>
</tr>
<tr>
<td>6位</td>
<td>5位</td>
<td>5位</td>
<td>16位</td>
</tr>
</tbody></table>
<h3 id="J类型："><a href="#J类型：" class="headerlink" title="J类型："></a>J类型：</h3><table>
<thead>
<tr>
<th>31-26</th>
<th>25-0</th>
</tr>
</thead>
<tbody><tr>
<td>op</td>
<td>address</td>
</tr>
<tr>
<td>6位</td>
<td>26位</td>
</tr>
</tbody></table>
<h2 id="多周期CPU状态转移图"><a href="#多周期CPU状态转移图" class="headerlink" title="多周期CPU状态转移图"></a>多周期CPU状态转移图</h2><p><img src="https://img-blog.csdnimg.cn/20181214161420902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>状态的转移有的是无条件的，例如从sIF状态转移到sID就是无条件的；有些是有条件的，例如sEXE状态之后不止一个状态，到底转向哪个状态由该指令功能，即指令操作码决定。每个状态代表一个时钟周期。</p>
<h2 id="多周期CPU控制部件的原理结构图"><a href="#多周期CPU控制部件的原理结构图" class="headerlink" title="多周期CPU控制部件的原理结构图"></a>多周期CPU控制部件的原理结构图</h2><p><img src="https://img-blog.csdnimg.cn/20181214161554539.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="多周期CPU数据通路和控制线路图"><a href="#多周期CPU数据通路和控制线路图" class="headerlink" title="多周期CPU数据通路和控制线路图"></a>多周期CPU数据通路和控制线路图</h2><p><img src="https://img-blog.csdnimg.cn/20181214161735346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>上图是一个简单的基本上能够在多周期CPU上完成所要求设计的指令功能的数据通路和必要的控制线路图。其中指令和数据各存储在不同存储器中，即有指令存储器和数据存储器。访问存储器时，先给出内存地址，然后由读或写信号控制操作。对于寄存器组，给出寄存器地址（编号），读操作时不需要时钟信号，输出端就直接输出相应数据；而在写操作时，在 WE使能信号为1时，在时钟边沿触发将数据写入寄存器。图中控制信号功能如表1所示，表2是ALU运算功能表。</p>
<p>特别提示，图上增加IR指令寄存器，目的是使指令代码保持稳定，pc写使能控制信号PCWre，是确保pc适时修改，原因都是和多周期工作的CPU有关。ADR、BDR、ALUoutDR、DBDR四个寄存器不需要写使能信号，其作用是切分数据通路，将大组合逻辑切分为若干个小组合逻辑，大延迟变为多个分段小延迟。</p>
<p>指令执行的结果总是在时钟下降沿保存到寄存器和存储器中，PC的改变是在时钟上升沿进行的，这样稳定性较好。另外，值得注意的问题，设计时，用模块化的思想方法设计，关于ALU设计、存储器设计、寄存器组设计等等，也是必须认真考虑的问题。</p>
<p>其中指令和数据各存储在不同存储器中，即有指令存储器和数据存储器。访问存储器时，先给出内存地址，然后由读或写信号控制操作。对于寄存器组，先给出寄存器地址，读操作时不需要时钟信号，输出端就直接输出相应数据；而在写操作时，在 WE使能信号为1时，在时钟边沿触发将数据写入寄存器。</p>
<h2 id="控制信号的作用表"><a href="#控制信号的作用表" class="headerlink" title="控制信号的作用表"></a>控制信号的作用表</h2><p>以上数据通路图是根据要实现的指令功能的要求画出来的，同时，还必须确定ALU的运算功能(当然，以上指令没有完全用到提供的ALU所有功能，但至少必须能实现以上指令功能操作)。从数据通路图上可以看出控制单元部分需要产生各种控制信号，当然，也有些信号必须要传送给控制单元。从指令功能要求和数据通路图的关系得出以上表1，这样，从表1可以看出各控制信号与相应指令之间的相互关系，根据这种关系就可以得出控制信号与指令之间的关系（见下面表中的“相关指令”），从而写出各控制信号的逻辑表达式，这样控制单元部分就可实现了。</p>
<table>
<thead>
<tr>
<th>控制信号名</th>
<th>状态“0”</th>
<th>状态“1”</th>
</tr>
</thead>
<tbody><tr>
<td>RST</td>
<td>对于PC，初始化PC为程序首地址</td>
<td>对于PC，PC接收下一条指令地址</td>
</tr>
<tr>
<td>PCWre</td>
<td>PC不更改，相关指令：halt，另外，除‘000’状态之外，其余状态慎改PC的值。</td>
<td>PC更改，相关指令：除指令halt外，另外，在‘000’状态时，修改PC的值合适。</td>
</tr>
<tr>
<td>ALUSrcA</td>
<td>来自寄存器堆data1输出，相关指令：add、sub、addiu、and、andi、ori、xori、slt、slti、sw、lw、beq、bne、bltz</td>
<td>来自移位数sa，同时，进行(zero-extend)sa，即<code>{ {27{1&#39;b0},sa}</code>，相关指令：sll</td>
</tr>
<tr>
<td>ALUSrcB</td>
<td>来自寄存器堆data2输出，相关指令：add、sub、and、slt、beq、bne、bltz</td>
<td>来自sign或zero扩展的立即数，相关指令：addiu、andi、ori、xori、slti、lw、sw、sll</td>
</tr>
<tr>
<td>DBDataSrc</td>
<td>来自ALU运算结果的输出，相关指令：add、sub、addiu、and、andi、ori、xori、sll、slt、slti</td>
<td>来自数据存储器（Data MEM）的输出，相关指令：lw</td>
</tr>
<tr>
<td>RegWre</td>
<td>无无写寄存器组寄存器，相关指令：beq、bne、bltz、j、sw、jr、halt</td>
<td>寄存器组寄存器写使能，相关指令：add、sub、addiu、and、andi、ori、xori、sll、slt、slti、lw、jal</td>
</tr>
<tr>
<td>WrRegDSrc</td>
<td>写入寄存器组寄存器的数据来自pc+4(pc4），相关指令：jal，写<code>$31</code></td>
<td>写入寄存器组寄存器的数据来自ALU运算结果或存储器读出的数据，相关指令：add、addiu、sub、and、andi、ori、xori、sll、slt、slti、lw</td>
</tr>
<tr>
<td>InsMemRW</td>
<td>写指令存储器</td>
<td>读指令存储器(Ins. Data)</td>
</tr>
<tr>
<td>mRD</td>
<td>输出高阻态</td>
<td>读数据存储器，相关指令：lw</td>
</tr>
<tr>
<td>mWR</td>
<td>无操作</td>
<td>写数据存储器，相关指令：sw</td>
</tr>
<tr>
<td>IRWre</td>
<td>IR(指令寄存器)不更改</td>
<td>IR寄存器写使能。向指令存储器发出读指令代码后，这个信号也接着发出，在时钟上升沿，IR接收从指令存储器送来的指令代码。与每条指令都相关。</td>
</tr>
</tbody></table>
<h3 id="ALUOp的功能表"><a href="#ALUOp的功能表" class="headerlink" title="ALUOp的功能表"></a>ALUOp的功能表</h3><table>
<thead>
<tr>
<th>ALUOp[2..0]</th>
<th>功能</th>
<th>描述</th>
<th>相关指令</th>
</tr>
</thead>
<tbody><tr>
<td>000</td>
<td>Y=A+B</td>
<td>加</td>
<td>add、addiu、sw、lw</td>
</tr>
<tr>
<td>001</td>
<td>Y=A–B</td>
<td>减</td>
<td>sub、beq、bne、bltz</td>
</tr>
<tr>
<td>010</td>
<td>Y=B&lt;&lt;A</td>
<td>B左移A位</td>
<td>sll</td>
</tr>
<tr>
<td>011</td>
<td>Y=A∨B</td>
<td>或</td>
<td>ori</td>
</tr>
<tr>
<td>100</td>
<td>Y=A∧B</td>
<td>与</td>
<td>andi、and</td>
</tr>
<tr>
<td>101</td>
<td>Y=A&lt;B</td>
<td>不带符号比较A&lt;B</td>
<td></td>
</tr>
<tr>
<td>110</td>
<td>Y=A[31]!=B[31]?A[31]&gt;B[31]:A&lt;B</td>
<td>带符号比较A&lt;B</td>
<td>slti、slt</td>
</tr>
<tr>
<td>111</td>
<td>Y=A^B</td>
<td>异或</td>
<td>xori</td>
</tr>
</tbody></table>
<h3 id="ExtSel的功能表"><a href="#ExtSel的功能表" class="headerlink" title="ExtSel的功能表"></a>ExtSel的功能表</h3><table>
<thead>
<tr>
<th>ExtSel[1..0]</th>
<th>功能</th>
<th>相关指令</th>
</tr>
</thead>
<tbody><tr>
<td>00</td>
<td>(zero-extend)sa</td>
<td>sll</td>
</tr>
<tr>
<td>01</td>
<td>(zero-extend)immediate</td>
<td>andi、xori、ori</td>
</tr>
<tr>
<td>10</td>
<td>(sign-extend)immediate</td>
<td>addiu、slti、lw、sw、beq、bne、bltz</td>
</tr>
<tr>
<td>11</td>
<td>未用</td>
<td></td>
</tr>
</tbody></table>
<h3 id="PCSrc的功能表"><a href="#PCSrc的功能表" class="headerlink" title="PCSrc的功能表"></a>PCSrc的功能表</h3><p>|PCSrc[1..0]|功能|相关指令|<br>|-|-|-|-|<br>|00|pc&lt;－pc+4|add、addiu、sub、and、andi、ori、xori、slt、slti、sll、sw、lw、beq(zero=0)、bne(zero=1)、bltz(sign=0)|<br>|01|pc&lt;－pc+4+(sign-extend)immediate ×4|beq(zero=1)、    bne(zero=0)、bltz(sign=1)|<br>|10|pc&lt;－rs|jr|<br>|11|pc&lt;－{pc[31:28],addr[27:2],2’b00}|j、jal|</p>
<h3 id="RegDs的功能表"><a href="#RegDs的功能表" class="headerlink" title="RegDs的功能表"></a>RegDs的功能表</h3><p>|RegDs[1..0]|写寄存器组寄存器的地址|相关指令|<br>|-|-|-|-|<br>|00|0x1F(<code>$31</code>)|jal（用于保存返回地址<code>$31&lt;-pc+4</code>）|<br>|01|rt|addiu、andi、ori、xori、slti、lw|<br>|10|rd|add、sub、and、slt、sll|<br>|11|未用|</p>
<h2 id="相关部件及引脚说明："><a href="#相关部件及引脚说明：" class="headerlink" title="相关部件及引脚说明："></a>相关部件及引脚说明：</h2><h3 id="Instruction-Memory"><a href="#Instruction-Memory" class="headerlink" title="Instruction Memory"></a>Instruction Memory</h3><p>指令存储器。</p>
<table>
<thead>
<tr>
<th>Iaddr</th>
<th>指令存储器地址输入端口</th>
</tr>
</thead>
<tbody><tr>
<td>IDataIn</td>
<td>指令存储器数据输入端口（指令代码输入端口）</td>
</tr>
<tr>
<td>IDataOut</td>
<td>指令存储器数据输出端口（指令代码输出端口）</td>
</tr>
<tr>
<td>RW</td>
<td>指令存储器读写控制信号，为0写，为1读</td>
</tr>
</tbody></table>
<h3 id="Data-Memory"><a href="#Data-Memory" class="headerlink" title="Data Memory"></a>Data Memory</h3><p>数据存储器。</p>
<table>
<thead>
<tr>
<th>Daddr</th>
<th>数据存储器地址输入端口</th>
</tr>
</thead>
<tbody><tr>
<td>DataIn</td>
<td>数据存储器数据输入端口</td>
</tr>
<tr>
<td>DataOut</td>
<td>数据存储器数据输出端口</td>
</tr>
<tr>
<td>RD</td>
<td>数据存储器读控制信号，为0读</td>
</tr>
<tr>
<td>WR</td>
<td>数据存储器写控制信号，为0写</td>
</tr>
</tbody></table>
<h3 id="Register-File"><a href="#Register-File" class="headerlink" title="Register File"></a>Register File</h3><p>寄存器组。</p>
<table>
<thead>
<tr>
<th>Read Reg1</th>
<th>rs寄存器地址输入端口</th>
</tr>
</thead>
<tbody><tr>
<td>Read Reg2</td>
<td>rt寄存器地址输入端口</td>
</tr>
<tr>
<td>Write Reg</td>
<td>将数据写入的寄存器端口，其地址来源rt或rd字段</td>
</tr>
<tr>
<td>Write Data</td>
<td>写入寄存器的数据输入端口</td>
</tr>
<tr>
<td>Read Data1</td>
<td>rs寄存器数据输出端口</td>
</tr>
<tr>
<td>Read Data2</td>
<td>rt寄存器数据输出端口</td>
</tr>
<tr>
<td>WE</td>
<td>写使能信号，为1时，在时钟边沿触发写入</td>
</tr>
</tbody></table>
<h3 id="IR"><a href="#IR" class="headerlink" title="IR"></a>IR</h3><p>指令寄存器，用于存放正在执行的指令代码。由于RW模块所需要的寄存器IR太多，因此合在了一起。</p>
<h3 id="ALU：算术逻辑单元"><a href="#ALU：算术逻辑单元" class="headerlink" title="ALU：算术逻辑单元"></a>ALU：算术逻辑单元</h3><table>
<thead>
<tr>
<th>result</th>
<th>ALU运算结果</th>
</tr>
</thead>
<tbody><tr>
<td>zero</td>
<td>运算结果标志，结果为0，则zero=1；否则zero=0</td>
</tr>
<tr>
<td>sign</td>
<td>运算结果标志，结果最高位为0，则sign=0，正数；否则，sign=1，负数</td>
</tr>
</tbody></table>
<h1 id="实验器材"><a href="#实验器材" class="headerlink" title="实验器材"></a>实验器材</h1><p>电脑一台，Xilinx Vivado 2017.4 软件一套，Basys3实验板一块。</p>
<h1 id="实验过程与结果"><a href="#实验过程与结果" class="headerlink" title="实验过程与结果"></a>实验过程与结果</h1><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="MultipleCPU-v"><a href="#MultipleCPU-v" class="headerlink" title="MultipleCPU.v"></a>MultipleCPU.v</h3><p>多周期CPU的顶层连接文件，主要是调用下层模块并将它们输入输出连在一起。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> MultipleCPU(</span><br><span class="line">	<span class="hljs-keyword">input</span> CLK,</span><br><span class="line">	<span class="hljs-keyword">input</span> Reset,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">5</span>:<span class="hljs-number">0</span>] op,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rs,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rt,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rd,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] immediate,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] ReadData1,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] ReadData2,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] WriteData,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] DataOut,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] currentAddress,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] newAddress,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] result,</span><br><span class="line">	<span class="hljs-keyword">output</span> PCWre</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] A,B;</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] currentAddress_4, extendImmediate, currentAddress_immediate, outAddress, ALUM2DR;</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] WriteReg;</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">25</span>:<span class="hljs-number">0</span>] address;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">wire</span> zero,sign, ALUSrcA,ALUSrcB, ALUM2Reg, RegWre, WrRegData, InsMemRW, DataMemRW, IRWre;</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] ExtSel, PCSrc, RegOut;</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] ALUOp;</span><br><span class="line">	<span class="hljs-keyword">wire</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] RegReadData1, RegReadData2, RegResult, RegDataOut;</span><br><span class="line"></span><br><span class="line">	ControlUnit cu(CLK, Reset, op, zero,sign,PCWre, ALUSrcA, ALUSrcB, ALUM2Reg,</span><br><span class="line">		RegWre, WrRegData, InsMemRW, DataMemRW, IRWre, ExtSel, PCSrc, RegOut, ALUOp);</span><br><span class="line"></span><br><span class="line">	PC pc(CLK, Reset, PCWre, newAddress, currentAddress);</span><br><span class="line"></span><br><span class="line">	InstructionMemory im(InsMemRW, currentAddress, CLK, IRWre, op, rs, rt, rd, immediate, address);</span><br><span class="line"></span><br><span class="line">	RegisterFile rf(CLK, RegWre, rs, rt, WriteReg, WriteData, ReadData1, ReadData2);</span><br><span class="line"></span><br><span class="line">	ALU alu(ALUOp, A, B, zero, result,sign);</span><br><span class="line"></span><br><span class="line">	SignZeroExtend sze(ExtSel, immediate, extendImmediate);</span><br><span class="line"></span><br><span class="line">	DataMemory dm(DataMemRW, RegResult, RegReadData2, DataOut);</span><br><span class="line"></span><br><span class="line">	PCjump pcj(currentAddress, address, outAddress);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">assign</span> currentAddress_4 = currentAddress + <span class="hljs-number">4</span>;</span><br><span class="line">	<span class="hljs-keyword">assign</span> currentAddress_immediate = currentAddress_4 + (extendImmediate &lt;&lt; <span class="hljs-number">2</span>);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//线转寄存器</span></span><br><span class="line">	WireToReg wtrA(CLK, <span class="hljs-number">1</span>, ReadData1, RegReadData1);</span><br><span class="line">	WireToReg wtrB(CLK, <span class="hljs-number">1</span>, ReadData2, RegReadData2);</span><br><span class="line">	WireToReg wtrALU(CLK, <span class="hljs-number">1</span>, result, RegResult);</span><br><span class="line">	WireToReg wtrMEM(CLK, <span class="hljs-number">1</span>, DataOut, RegDataOut);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//2路选择器</span></span><br><span class="line">	MUX2L_32 mux2_1(WrRegData, currentAddress_4, ALUM2DR, WriteData);</span><br><span class="line">	MUX2L_32 mux2_4(ALUSrcA, RegReadData1, RegReadData2, A);</span><br><span class="line">	MUX2L_32 mux2_2(ALUSrcB, RegReadData2, extendImmediate, B);</span><br><span class="line">	MUX2L_32 mux2_3(ALUM2Reg, result, RegDataOut, ALUM2DR);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//4路选择器</span></span><br><span class="line">	MUX4L_5 mux4_1(RegOut, <span class="hljs-number">5'b11111</span>, rt, rd, <span class="hljs-number">5'b00000</span>, WriteReg);</span><br><span class="line">	MUX4L_32 mux4_2(PCSrc, currentAddress_4, currentAddress_immediate,</span><br><span class="line">		ReadData1, outAddress, newAddress);</span><br><span class="line"></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="ControlUnit-v"><a href="#ControlUnit-v" class="headerlink" title="ControlUnit.v"></a>ControlUnit.v</h3><p>控制信号模块，通过解析op得到该指令的各种控制信号。定义了很多用到的常量，可读性还是比较高的。<br>控制单元通过输入的zero零标志位与当前指令中对应的指令部分来确定当前整个CPU程序中各模块的工作和协作情况，根据CPU运行逻辑，事先对整个CPU中控制信号的控制，以此来达到指挥各个模块协同工作的目的。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> ControlUnit(</span><br><span class="line">	<span class="hljs-keyword">input</span> CLK,	<span class="hljs-comment">//时钟</span></span><br><span class="line">	<span class="hljs-keyword">input</span> reset,	<span class="hljs-comment">//重置信号</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">5</span>:<span class="hljs-number">0</span>] op,	<span class="hljs-comment">//op操作符</span></span><br><span class="line">	<span class="hljs-keyword">input</span> zero,	<span class="hljs-comment">//ALU的zero输出</span></span><br><span class="line">	<span class="hljs-keyword">input</span> sign,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> PCWre,	<span class="hljs-comment">//(PC)PC是否更改，如果为0，PC不更改，另外，除D_Tri == 000状态之外，其余状态也不能改变PC的值。</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> ALUSrcA,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> ALUSrcB,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> ALUM2Reg,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> RegWre,	<span class="hljs-comment">//(RF)写使能信号，为1时，在时钟上升沿写入</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> WrRegData,	<span class="hljs-comment">//2路选择器，判断数据写入是否为PC指令，如果为1，则不是，jar用到</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> InsMemRW,	<span class="hljs-comment">//(IM)读写控制信号，1为写，0位读，固定为0</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> DataMemRW,	<span class="hljs-comment">//(DM)数据存储器读写控制信号，为1写，为0读</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> IRWre,	<span class="hljs-comment">//寄存器写使能，暂时没什么用，固定为1</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] ExtSel,	<span class="hljs-comment">//(EXT)控制补位，如果为1，进行符号扩展，如果为0，全补0</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] PCSrc,	<span class="hljs-comment">//4路选择器，选择PC指令来源</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] RegOut,	<span class="hljs-comment">//4路选择器，判断写寄存器地址的来源</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] ALUOp	<span class="hljs-comment">//(ALU)ALU操作控制</span></span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">parameter</span>[<span class="hljs-number">2</span>:<span class="hljs-number">0</span>]</span><br><span class="line">		<span class="hljs-number">_</span>ADD=	<span class="hljs-number">3'b000</span>,</span><br><span class="line">		<span class="hljs-number">_</span>SUB=	<span class="hljs-number">3'b001</span>,</span><br><span class="line">		<span class="hljs-number">_</span>SLL=	<span class="hljs-number">3'b010</span>,</span><br><span class="line">		<span class="hljs-number">_</span>OR=	<span class="hljs-number">3'b011</span>,</span><br><span class="line">		<span class="hljs-number">_</span>AND=	<span class="hljs-number">3'b100</span>,</span><br><span class="line">		<span class="hljs-number">_</span>SLTU=	<span class="hljs-number">3'b101</span>,</span><br><span class="line">		<span class="hljs-number">_</span>SLT=	<span class="hljs-number">3'b110</span>,</span><br><span class="line">		<span class="hljs-number">_</span>XOR=	<span class="hljs-number">3'b111</span>,</span><br><span class="line">		IF=	<span class="hljs-number">3'b000</span>,	<span class="hljs-comment">//3位D触发器，代表8个状态</span></span><br><span class="line">		ID=	<span class="hljs-number">3'b001</span>,</span><br><span class="line">		EXELS=	<span class="hljs-number">3'b010</span>,</span><br><span class="line">		MEM=	<span class="hljs-number">3'b011</span>,</span><br><span class="line">		WBL=	<span class="hljs-number">3'b100</span>,</span><br><span class="line">		EXEBR=	<span class="hljs-number">3'b101</span>,</span><br><span class="line">		EXEAL=	<span class="hljs-number">3'b110</span>,</span><br><span class="line">		WBAL=	<span class="hljs-number">3'b111</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span>[<span class="hljs-number">5</span>:<span class="hljs-number">0</span>]</span><br><span class="line">		ADD=	<span class="hljs-number">6'b000000</span>,</span><br><span class="line">		SUB=	<span class="hljs-number">6'b000001</span>,</span><br><span class="line">		ADDIU=	<span class="hljs-number">6'b000010</span>,</span><br><span class="line">		AND=	<span class="hljs-number">6'b010000</span>,</span><br><span class="line">		ANDI=	<span class="hljs-number">6'b010001</span>,</span><br><span class="line">		ORI=	<span class="hljs-number">6'b010010</span>,</span><br><span class="line">		XORI=	<span class="hljs-number">6'b010011</span>,</span><br><span class="line">		SLL=	<span class="hljs-number">6'b011000</span>,</span><br><span class="line">		SLTI=	<span class="hljs-number">6'b100110</span>,</span><br><span class="line">		SLT=	<span class="hljs-number">6'b100111</span>,</span><br><span class="line">		SW=	<span class="hljs-number">6'b110000</span>,</span><br><span class="line">		LW=	<span class="hljs-number">6'b110001</span>,</span><br><span class="line">		BEQ=	<span class="hljs-number">6'b110100</span>,</span><br><span class="line">		BNE=	<span class="hljs-number">6'b110101</span>,</span><br><span class="line">		BLTZ=	<span class="hljs-number">6'b110110</span>,</span><br><span class="line">		J=	<span class="hljs-number">6'b111000</span>,</span><br><span class="line">		JR=	<span class="hljs-number">6'b111001</span>,</span><br><span class="line">		JAL=	<span class="hljs-number">6'b111010</span>,</span><br><span class="line">		HALT=	<span class="hljs-number">6'b111111</span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">reg</span>[<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] D_Tri;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		PCWre=<span class="hljs-number">0</span>;</span><br><span class="line">		ALUSrcB=<span class="hljs-number">0</span>;</span><br><span class="line">		ALUM2Reg=<span class="hljs-number">0</span>;</span><br><span class="line">		RegWre=<span class="hljs-number">0</span>;</span><br><span class="line">		WrRegData=<span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-comment">//no change</span></span><br><span class="line">		InsMemRW=<span class="hljs-number">0</span>;</span><br><span class="line">		DataMemRW=<span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-comment">//no change</span></span><br><span class="line">		IRWre=<span class="hljs-number">1</span>;</span><br><span class="line">		ExtSel=<span class="hljs-number">0</span>;</span><br><span class="line">		PCSrc=<span class="hljs-number">0</span>;</span><br><span class="line">		RegOut=<span class="hljs-number">0</span>;</span><br><span class="line">		ALUOp=<span class="hljs-number">0</span>;</span><br><span class="line">		D_Tri=<span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//D触发器变化，PS：为了避免竞争冒险，所有值变化改为下降沿触发</span></span><br><span class="line">	<span class="hljs-comment">//PCWre，RegWre和DataMemRW的变化影响很大，要在这里写</span></span><br><span class="line">	<span class="hljs-keyword">always</span>@(<span class="hljs-keyword">negedge</span> CLK <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> reset)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">if</span>(reset)<span class="hljs-keyword">begin</span><span class="hljs-comment">//重置属性</span></span><br><span class="line">			D_Tri=IF;</span><br><span class="line">			PCWre=<span class="hljs-number">0</span>;</span><br><span class="line">			RegWre=<span class="hljs-number">0</span>;</span><br><span class="line">		 <span class="hljs-keyword">end</span></span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span></span><br><span class="line">			<span class="hljs-keyword">case</span> (D_Tri)</span><br><span class="line">				<span class="hljs-comment">//IF -&gt; ID</span></span><br><span class="line">				IF: <span class="hljs-keyword">begin</span></span><br><span class="line">					D_Tri &lt;= ID;</span><br><span class="line">					<span class="hljs-comment">//禁止写指令，寄存器，和内存</span></span><br><span class="line">					PCWre=<span class="hljs-number">0</span>;</span><br><span class="line">					RegWre=<span class="hljs-number">0</span>;</span><br><span class="line">					DataMemRW=<span class="hljs-number">0</span>;</span><br><span class="line">				<span class="hljs-keyword">end</span></span><br><span class="line">				<span class="hljs-comment">//ID -&gt; EXE</span></span><br><span class="line">				ID:<span class="hljs-keyword">begin</span></span><br><span class="line">					<span class="hljs-keyword">case</span> (op)</span><br><span class="line">						<span class="hljs-comment">//如果是BEQ指令，跳到EXEBR</span></span><br><span class="line">						BEQ, BNE, BLTZ:  D_Tri &lt;= EXEBR;</span><br><span class="line">						<span class="hljs-comment">//如果是SW，LW指令，跳到EXELS</span></span><br><span class="line">						SW, LW:  D_Tri &lt;= EXELS;</span><br><span class="line">						<span class="hljs-comment">//如果是j，JAL，JR，HALT，跳到IF</span></span><br><span class="line">						J, JAL, JR, HALT:<span class="hljs-keyword">begin</span></span><br><span class="line">						   D_Tri=IF;</span><br><span class="line">							<span class="hljs-comment">//如果指令是HALT，禁止写指令</span></span><br><span class="line">							<span class="hljs-keyword">if</span> (op == HALT)  PCWre=<span class="hljs-number">0</span>;</span><br><span class="line">							<span class="hljs-keyword">else</span>  PCWre=<span class="hljs-number">1</span>;</span><br><span class="line">							<span class="hljs-comment">//如果指令是JAL，允许写寄存器</span></span><br><span class="line">							<span class="hljs-keyword">if</span> (op == JAL)  RegWre=<span class="hljs-number">1</span>;</span><br><span class="line">							<span class="hljs-keyword">else</span>  RegWre=<span class="hljs-number">0</span>;</span><br><span class="line">						<span class="hljs-keyword">end</span></span><br><span class="line">						<span class="hljs-comment">//其他，跳到EXEAL</span></span><br><span class="line">						<span class="hljs-keyword">default</span>:  D_Tri=EXEAL;</span><br><span class="line">					<span class="hljs-keyword">endcase</span></span><br><span class="line">				 <span class="hljs-keyword">end</span></span><br><span class="line">				<span class="hljs-comment">//EXEAL -&gt; WBAL</span></span><br><span class="line">				EXEAL:<span class="hljs-keyword">begin</span></span><br><span class="line">					D_Tri=WBAL;</span><br><span class="line">					<span class="hljs-comment">//允许写寄存器</span></span><br><span class="line">					RegWre=<span class="hljs-number">1</span>;</span><br><span class="line">				<span class="hljs-keyword">end</span></span><br><span class="line">				<span class="hljs-comment">//EXELS -&gt; MEM</span></span><br><span class="line">				EXELS:<span class="hljs-keyword">begin</span></span><br><span class="line">					D_Tri=MEM;</span><br><span class="line">					<span class="hljs-comment">//如果指令为SW，允许写内存</span></span><br><span class="line">					<span class="hljs-keyword">if</span> (op == SW)  DataMemRW=<span class="hljs-number">1</span>;</span><br><span class="line">				<span class="hljs-keyword">end</span></span><br><span class="line">				<span class="hljs-comment">//MEM -&gt; WBL</span></span><br><span class="line">				MEM:<span class="hljs-keyword">begin</span></span><br><span class="line">					<span class="hljs-comment">//如果指令为SW，MEM -&gt; IF</span></span><br><span class="line">					<span class="hljs-keyword">if</span> (op == SW)<span class="hljs-keyword">begin</span></span><br><span class="line">						D_Tri=IF;</span><br><span class="line">						<span class="hljs-comment">//允许写指令</span></span><br><span class="line">						PCWre=<span class="hljs-number">1</span>;</span><br><span class="line">					<span class="hljs-keyword">end</span></span><br><span class="line">					<span class="hljs-comment">//如果指令为LW，MEM -&gt; WBL</span></span><br><span class="line">					<span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span></span><br><span class="line">						D_Tri=WBL;</span><br><span class="line">						<span class="hljs-comment">//允许写寄存器</span></span><br><span class="line">						RegWre=<span class="hljs-number">1</span>;</span><br><span class="line">					<span class="hljs-keyword">end</span></span><br><span class="line">				<span class="hljs-keyword">end</span></span><br><span class="line">				<span class="hljs-comment">//其他 -&gt; IF</span></span><br><span class="line">				<span class="hljs-keyword">default</span>:<span class="hljs-keyword">begin</span></span><br><span class="line">					D_Tri=IF;</span><br><span class="line">					<span class="hljs-comment">//允许写指令</span></span><br><span class="line">					PCWre=<span class="hljs-number">1</span>;</span><br><span class="line">					<span class="hljs-comment">//禁止写寄存器</span></span><br><span class="line">					RegWre=<span class="hljs-number">0</span>;</span><br><span class="line">				<span class="hljs-keyword">end</span></span><br><span class="line">			<span class="hljs-keyword">endcase</span></span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">always</span>@(op <span class="hljs-keyword">or</span> zero)<span class="hljs-keyword">begin</span><span class="hljs-comment">//一般信号</span></span><br><span class="line">		ALUSrcA=	op==SLL;</span><br><span class="line">		ALUSrcB=	op==ADDIU||op==ANDI||op==ORI||op==XORI||op==SLTI||op==LW||op==SW||op==SLL;</span><br><span class="line">		ALUM2Reg=	op==LW;</span><br><span class="line">		WrRegData=	op!=JAL;	<span class="hljs-comment">//2路选择器，判断数据写入是否为PC指令，如果为1，则不是，jar用到</span></span><br><span class="line">		InsMemRW=	<span class="hljs-number">0</span>;<span class="hljs-comment">//(IM)读写控制信号，1为写，0位读，固定为0</span></span><br><span class="line">		IRWre=	<span class="hljs-number">1</span>;   <span class="hljs-comment">//寄存器写使能，暂时没什么用，固定为1</span></span><br><span class="line">		ExtSel=	op==SLL?<span class="hljs-number">2'b00</span>:op==ANDI||op==XORI||op==ORI?<span class="hljs-number">2'b01</span>:<span class="hljs-number">2'b10</span>; <span class="hljs-comment">//(EXT)控制补位，如果为1，进行符号扩展，如果为0，全补0</span></span><br><span class="line">		PCSrc=	op==J||op==JAL?<span class="hljs-number">2'b11</span>:</span><br><span class="line">				op==JR?<span class="hljs-number">2'b10</span>:</span><br><span class="line">				(op==BEQ&amp;&amp;zero==<span class="hljs-number">1</span>)||(op==BNE&amp;&amp;zero==<span class="hljs-number">0</span>)||(op==BLTZ&amp;&amp;sign==<span class="hljs-number">1</span>)?<span class="hljs-number">2'b01</span>:</span><br><span class="line">				<span class="hljs-number">2'b00</span>;  <span class="hljs-comment">//4路选择器，选择PC指令来源</span></span><br><span class="line">		RegOut=	op==JAL?<span class="hljs-number">2'b00</span>:</span><br><span class="line">				op==ADD||op==SUB||op==AND||op==SLT||op==SLL?<span class="hljs-number">2'b10</span>:</span><br><span class="line">				<span class="hljs-number">2'b01</span>; <span class="hljs-comment">//4路选择器，判断写寄存器地址的来源</span></span><br><span class="line">		ALUOp=	op==SUB||op==BEQ||op==BNE||op==BLTZ?<span class="hljs-number">_</span>SUB:</span><br><span class="line">				op==SLL?<span class="hljs-number">_</span>SLL:</span><br><span class="line">				op==ORI?<span class="hljs-number">_</span>OR:</span><br><span class="line">				op==ANDI||op==AND?<span class="hljs-number">_</span>AND:</span><br><span class="line">				op==SLT||op==SLTI?<span class="hljs-number">_</span>SLT:</span><br><span class="line">				op==XORI?<span class="hljs-number">_</span>XOR:<span class="hljs-number">_</span>ADD;	<span class="hljs-comment">//(ALU)ALU操作控制</span></span><br><span class="line">	 <span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="ALU-v"><a href="#ALU-v" class="headerlink" title="ALU.v"></a>ALU.v</h3><p>该部分为算术逻辑单元，用于逻辑指令计算和跳转指令比较。ALUOp用于控制算数的类型，A、B为输入数，result为运算结果，zero、sign主要用于beq、bne、bltz等指令的判断。<br>ALU算术逻辑单元的功能是根据控制信号从输入的数据中选取对应的操作数，根据操作码进行运算并输出结果与零标志位。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> ALU(</span><br><span class="line">	<span class="hljs-keyword">input</span>[<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] ALUOp,</span><br><span class="line">	<span class="hljs-keyword">input</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] A,</span><br><span class="line">	<span class="hljs-keyword">input</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] B,</span><br><span class="line">	<span class="hljs-keyword">output</span> zero,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] result,</span><br><span class="line">	<span class="hljs-keyword">output</span> sign</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>ADD=	<span class="hljs-number">3'b000</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>SUB=	<span class="hljs-number">3'b001</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>SLL=	<span class="hljs-number">3'b010</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>OR=	<span class="hljs-number">3'b011</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>AND=	<span class="hljs-number">3'b100</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>SLTU=	<span class="hljs-number">3'b101</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>SLT=	<span class="hljs-number">3'b110</span>;</span><br><span class="line">	<span class="hljs-keyword">parameter</span> <span class="hljs-number">_</span>XOR=	<span class="hljs-number">3'b111</span>;</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">assign</span> zero=	result==<span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">assign</span> sign=	result[<span class="hljs-number">31</span>];</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">always</span>@(*)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">case</span>(ALUOp)</span><br><span class="line">		<span class="hljs-number">_</span>ADD:	result=	A+B;</span><br><span class="line">		<span class="hljs-number">_</span>SUB:	result=	A-B;</span><br><span class="line">		<span class="hljs-number">_</span>SLL:	result=	A&lt;&lt;B;</span><br><span class="line">		<span class="hljs-number">_</span>OR:	result=	A|B;</span><br><span class="line">		<span class="hljs-number">_</span>AND:	result=	A&amp;B;</span><br><span class="line">		<span class="hljs-number">_</span>SLTU:	result=	A&lt;B;</span><br><span class="line">		<span class="hljs-number">_</span>SLT:	result=	A[<span class="hljs-number">31</span>]!=B[<span class="hljs-number">31</span>]?A[<span class="hljs-number">31</span>]&gt;B[<span class="hljs-number">31</span>]:A&lt;B;</span><br><span class="line">		<span class="hljs-number">_</span>XOR:	result=	A^B;</span><br><span class="line">		<span class="hljs-keyword">default</span>:	result=	<span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-keyword">endcase</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="DataMemory-v"><a href="#DataMemory-v" class="headerlink" title="DataMemory.v"></a>DataMemory.v</h3><p>该部分控制内存存储，用于内存存储、读写。用256大小的8位寄存器数组模拟内存，采用小端模式。DataMenRW控制内存读写。由于指令为真实地址，所以不需要<code>&lt;&lt;2</code>。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> DataMemory(</span><br><span class="line">	<span class="hljs-keyword">input</span> DataMemRW,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] DAddr,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] DataIn,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] DataOut</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">reg</span> [<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] memory[<span class="hljs-number">0</span>:<span class="hljs-number">255</span>];</span><br><span class="line">	<span class="hljs-keyword">integer</span> i;</span><br><span class="line">	<span class="hljs-keyword">initial</span>  <span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">256</span>; i = i + <span class="hljs-number">1</span>)memory[i] &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i = i + <span class="hljs-number">1</span>)DataOut[i] &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">always</span>@(DAddr <span class="hljs-keyword">or</span> DataMemRW)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">if</span> (DataMemRW)<span class="hljs-keyword">begin</span></span><br><span class="line">		   memory[DAddr] &lt;= DataIn[<span class="hljs-number">31</span>:<span class="hljs-number">24</span>];</span><br><span class="line">			memory[DAddr + <span class="hljs-number">1</span>] &lt;= DataIn[<span class="hljs-number">23</span>:<span class="hljs-number">16</span>];</span><br><span class="line">			memory[DAddr + <span class="hljs-number">2</span>] &lt;= DataIn[<span class="hljs-number">15</span>:<span class="hljs-number">8</span>];</span><br><span class="line">			memory[DAddr + <span class="hljs-number">3</span>] &lt;= DataIn[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>];</span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		   DataOut[<span class="hljs-number">31</span>:<span class="hljs-number">24</span>] &lt;= memory[DAddr];</span><br><span class="line">			DataOut[<span class="hljs-number">23</span>:<span class="hljs-number">16</span>] &lt;= memory[DAddr + <span class="hljs-number">1</span>];</span><br><span class="line">			DataOut[<span class="hljs-number">15</span>:<span class="hljs-number">8</span>] &lt;= memory[DAddr + <span class="hljs-number">2</span>];</span><br><span class="line">			DataOut[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] &lt;= memory[DAddr + <span class="hljs-number">3</span>];</span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="InstructionMemory-v"><a href="#InstructionMemory-v" class="headerlink" title="InstructionMemory.v"></a>InstructionMemory.v</h3><p>该部分为指令寄存器，通过一个256大小的8位寄存器数组来保存从文件输入的全部指令。然后通过输入的地址，找到相应的指令，输出到IDataOut。<br>指令存储器的功能是存储读入的所有32-bit位宽的指令，根据程序计数器PC中的指令地址进行取指令操作并对指令类型进行分析，通过指令类型对所取指令的各字段进行区分识别，最后将对应部分传递给其他模块进行后续处理。<br>指令存储器中每个单元的位宽为8-bit，也就是存储每条32-bit位宽的指令都需要占据4个单元，所以第n（n大于或等于0）条指令所对应的起始地址为4n，且占据第4n，4n+1，4n+2，4n+3这四个单元。取出指令就是将这四个单元分别取出，因为指令的存储服从高位指令存储在低位地址的规则，所以4n单元中的字段是该条指令的最高8位，后面以此类推，并通过左移操作将指令的四个单元部分移动到相对应的位置，以此来得到所存指令。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> InstructionMemory(</span><br><span class="line">	<span class="hljs-keyword">input</span> InsMemRW,	<span class="hljs-comment">//读写控制信号，1为写，0位读</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] IAddr,	<span class="hljs-comment">//指令地址输入入口</span></span><br><span class="line">	<span class="hljs-comment">//input IDataIn,	//没用到</span></span><br><span class="line">	<span class="hljs-keyword">input</span> CLK,	<span class="hljs-comment">//时钟信号</span></span><br><span class="line">	<span class="hljs-keyword">input</span> IRWre,	<span class="hljs-comment">//输出寄存器写使能</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">5</span>:<span class="hljs-number">0</span>] op,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rs,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rt,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rd,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] immediate,	<span class="hljs-comment">//指令代码分时段输出</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">25</span>:<span class="hljs-number">0</span>] address</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">reg</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] mem[<span class="hljs-number">0</span>:<span class="hljs-number">255</span>];	<span class="hljs-comment">//新建一个256位的数组用于储存指令</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-comment">//初始化</span></span><br><span class="line">		op &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		rs &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		rt &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		rd &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		immediate &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		address &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">		<span class="hljs-built_in">$readmemb</span>(<span class="hljs-string">"C:/Users/wukan/Documents/VIVADO/MultipleCPU/input.txt"</span>,mem);</span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//从地址取值，然后输出</span></span><br><span class="line">	<span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> CLK <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> IRWre)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">if</span> (IRWre == <span class="hljs-number">1</span>)<span class="hljs-keyword">begin</span></span><br><span class="line">			op = mem[IAddr][<span class="hljs-number">7</span>:<span class="hljs-number">2</span>];</span><br><span class="line">			rs[<span class="hljs-number">4</span>:<span class="hljs-number">3</span>] = mem[IAddr][<span class="hljs-number">1</span>:<span class="hljs-number">0</span>];</span><br><span class="line">			rs[<span class="hljs-number">2</span>:<span class="hljs-number">0</span>] = mem[IAddr + <span class="hljs-number">1</span>][<span class="hljs-number">7</span>:<span class="hljs-number">5</span>];</span><br><span class="line">			rt = mem[IAddr + <span class="hljs-number">1</span>][<span class="hljs-number">4</span>:<span class="hljs-number">0</span>];</span><br><span class="line">			rd = mem[IAddr + <span class="hljs-number">2</span>][<span class="hljs-number">7</span>:<span class="hljs-number">3</span>];</span><br><span class="line">			immediate[<span class="hljs-number">15</span>:<span class="hljs-number">8</span>] = mem[IAddr + <span class="hljs-number">2</span>];</span><br><span class="line">			immediate[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] = mem[IAddr + <span class="hljs-number">3</span>];</span><br><span class="line">			<span class="hljs-comment">//地址赋值</span></span><br><span class="line">			address[<span class="hljs-number">25</span>:<span class="hljs-number">21</span>] = rs;</span><br><span class="line">			address[<span class="hljs-number">20</span>:<span class="hljs-number">16</span>] = rt;</span><br><span class="line">			address[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] = immediate;</span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="MUX2L-32-v"><a href="#MUX2L-32-v" class="headerlink" title="MUX2L_32.v"></a>MUX2L_32.v</h3><p>三十二线双路选择器。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> MUX2L_32(</span><br><span class="line">	<span class="hljs-keyword">input</span> control,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in0,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in1,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] out</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">assign</span> out = control ? in1 : in0;</span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="MUX4L-32-v"><a href="#MUX4L-32-v" class="headerlink" title="MUX4L_32.v"></a>MUX4L_32.v</h3><p>三十二线四路选择器。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> MUX4L_32(</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>]control,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in00,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in01,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in10,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] in11,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] out</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">assign</span> out = control[<span class="hljs-number">0</span>] ? (control[<span class="hljs-number">1</span>] ? in11 : in01) : (control[<span class="hljs-number">1</span>] ? in10 : in00);</span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="MUX4L-5-v"><a href="#MUX4L-5-v" class="headerlink" title="MUX4L_5.v"></a>MUX4L_5.v</h3><p>五线四路选择器。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> MUX4L_5(</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] control,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] in00,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] in01,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] in10,</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] in11,</span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] out</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">assign</span> out = control[<span class="hljs-number">0</span>] ? (control[<span class="hljs-number">1</span>] ? in11 : in01) : (control[<span class="hljs-number">1</span>] ? in10 : in00);</span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="PC-v"><a href="#PC-v" class="headerlink" title="PC.v"></a>PC.v</h3><p>CLK上升沿触发，更改指令地址。由于指令地址存储在寄存器里，一开始需要赋currentAddress为0。Reset是重置信号，当为1时，指令寄存器地址重置。PCWre的作用为保留现场，如果PCWre为0，指令地址不变。<br>PC程序计数器用于存放当前指令的地址，当PC的值发生改变的时候，CPU会根据程序计数器PC中新得到的指令地址，从指令存储器中取出对应地址的指令，根据PCSrc控制信号的值选择指令地址是要进行PC+4或者跳转等操作。若PC程序计数器检测到Reset输入信号为1时，则对程序计数器存储的当前指令地址进行清零处理。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> PC(</span><br><span class="line">	<span class="hljs-keyword">input</span> CLK,	<span class="hljs-comment">//时钟</span></span><br><span class="line">	<span class="hljs-keyword">input</span> Reset,	<span class="hljs-comment">//重置信号</span></span><br><span class="line">	<span class="hljs-keyword">input</span> PCWre,	<span class="hljs-comment">//PC是否更改，如果为0，PC不更改</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] newAddress,	<span class="hljs-comment">//新指令</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] currentAddress	<span class="hljs-comment">//当前指令</span></span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		currentAddress &lt;= <span class="hljs-number">0</span>;  <span class="hljs-comment">//非阻塞赋值</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> CLK <span class="hljs-keyword">or</span> <span class="hljs-keyword">posedge</span> Reset)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">if</span> (Reset == <span class="hljs-number">1</span>)  currentAddress &lt;= <span class="hljs-number">0</span>;  <span class="hljs-comment">//如果重置，赋值为0</span></span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span></span><br><span class="line">			<span class="hljs-keyword">if</span> (PCWre)  currentAddress &lt;= newAddress;</span><br><span class="line">			<span class="hljs-keyword">else</span>  currentAddress &lt;= currentAddress;</span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="PCjump-v"><a href="#PCjump-v" class="headerlink" title="PCjump.v"></a>PCjump.v</h3><figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> PCjump(</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] PC0,	<span class="hljs-comment">//指令</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">25</span>:<span class="hljs-number">0</span>] inAddress,	<span class="hljs-comment">//输入地址</span></span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] outAddress	<span class="hljs-comment">//输出地址(指令)</span></span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">assign</span> outAddress[<span class="hljs-number">31</span>:<span class="hljs-number">28</span>] = PC0[<span class="hljs-number">31</span>:<span class="hljs-number">28</span>];</span><br><span class="line">	<span class="hljs-keyword">assign</span> outAddress[<span class="hljs-number">27</span>:<span class="hljs-number">2</span>] = inAddress;</span><br><span class="line">	<span class="hljs-keyword">assign</span> outAddress[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] = <span class="hljs-number">2'b00</span>;</span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="RegisterFile-v"><a href="#RegisterFile-v" class="headerlink" title="RegisterFile.v"></a>RegisterFile.v</h3><p>该部分为寄存器读写单元，储存寄存器组，并根据地址对寄存器组进行读写。WE的作用是控制寄存器是否写入。同上，通过一个32大小的32位寄存器数组来模拟寄存器，开始时全部置0。通过访问寄存器的地址，来获取寄存器里面的值，并进行操作。（由于$0恒为0，所以写入寄存器的地址不能为0）<br>寄存器组中的每个寄存器位宽32-bit,是存放ALU计算所需要的临时数据的,与数据存储器不同，可能会在程序执行的过程中被多次覆盖，而数据存储器内的数据一般只有sw指令才能进行修改覆盖。寄存器组会根据操作码opCode与rs，rt字段相应的地址读取数据,同时将rs，rt寄存器的地址和其中的数据输出，在CLK的下降沿到来时将数据存放到rd或者rt字段的相应地址的寄存器内。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> RegisterFile(</span><br><span class="line">	<span class="hljs-keyword">input</span> CLK,	<span class="hljs-comment">//时钟</span></span><br><span class="line">	<span class="hljs-keyword">input</span> RegWre,	<span class="hljs-comment">//写使能信号，为1时，在时钟上升沿写入</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rs,	<span class="hljs-comment">//rs寄存器地址输入端口</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] rt,	<span class="hljs-comment">//rt寄存器地址输入端口</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] WriteReg,	<span class="hljs-comment">//将数据写入的寄存器端口，其地址来源rt或rd字段</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] WriteData,	<span class="hljs-comment">//写入寄存器的数据输入端口</span></span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] ReadData1,	<span class="hljs-comment">//rs数据输出端口</span></span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] ReadData2	<span class="hljs-comment">//rt数据输出端口</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">reg</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] register[<span class="hljs-number">0</span>:<span class="hljs-number">31</span>];  <span class="hljs-comment">//新建32个寄存器，用于操作</span></span><br><span class="line">	<span class="hljs-comment">//初始时，将32个寄存器和ReadData全部赋值为0</span></span><br><span class="line">	<span class="hljs-keyword">integer</span> i;</span><br><span class="line">	<span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i = i + <span class="hljs-number">1</span>)  register[i] &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//直接读寄存器</span></span><br><span class="line">	<span class="hljs-keyword">assign</span> ReadData1 = register[rs];</span><br><span class="line">	<span class="hljs-keyword">assign</span> ReadData2 = register[rt];</span><br><span class="line"></span><br><span class="line">	<span class="hljs-comment">//接受信号并读寄存器</span></span><br><span class="line">	<span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> CLK)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-comment">//如果寄存器不为0，并且RegWre为真，写入数据</span></span><br><span class="line">		<span class="hljs-keyword">if</span> (RegWre &amp;&amp; WriteReg != <span class="hljs-number">0</span>)  register[WriteReg] = WriteData;</span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="SignZeroExtend-v"><a href="#SignZeroExtend-v" class="headerlink" title="SignZeroExtend.v"></a>SignZeroExtend.v</h3><p>比较简单的一个模块，用于立即数的扩展。ExtSel为控制补位信号。判断后，将extendImmediate的前16位全补1或0即可。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> SignZeroExtend(</span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">1</span>:<span class="hljs-number">0</span>]ExtSel,	<span class="hljs-comment">//控制补位，如果为1X，进行符号扩展；01，immediate全补0；00，sa全补0</span></span><br><span class="line">	<span class="hljs-keyword">input</span> [<span class="hljs-number">15</span>:<span class="hljs-number">0</span>] immediate,	<span class="hljs-comment">//16位立即数</span></span><br><span class="line">	<span class="hljs-keyword">output</span> [<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] extendImmediate	<span class="hljs-comment">//输出的32位立即数</span></span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">assign</span> extendImmediate[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>] = (ExtSel == <span class="hljs-number">2'b00</span>) ? immediate[<span class="hljs-number">10</span>:<span class="hljs-number">6</span>] : immediate[<span class="hljs-number">4</span>:<span class="hljs-number">0</span>];</span><br><span class="line">	<span class="hljs-keyword">assign</span> extendImmediate[<span class="hljs-number">15</span>:<span class="hljs-number">5</span>] = (ExtSel == <span class="hljs-number">2'b00</span>) ? <span class="hljs-number">3'b00000000000</span> : immediate[<span class="hljs-number">15</span>:<span class="hljs-number">5</span>];</span><br><span class="line">	<span class="hljs-keyword">assign</span> extendImmediate[<span class="hljs-number">31</span>:<span class="hljs-number">16</span>] = (ExtSel == <span class="hljs-number">2'b10</span>) ? (immediate[<span class="hljs-number">15</span>] ? <span class="hljs-number">16'hffff</span> : <span class="hljs-number">16'h0000</span>) : <span class="hljs-number">16'h0000</span>;</span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h2 id="仿真检验"><a href="#仿真检验" class="headerlink" title="仿真检验"></a>仿真检验</h2><h3 id="编写一个编译器，将MIPS汇编程序编译为二进制机器码"><a href="#编写一个编译器，将MIPS汇编程序编译为二进制机器码" class="headerlink" title="编写一个编译器，将MIPS汇编程序编译为二进制机器码"></a>编写一个编译器，将MIPS汇编程序编译为二进制机器码</h3><p>使用支持<code>c++11</code>以上标准的编译器编译下述代码，得到编译器<code>wkmips</code>。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> TRANS(s,len) (bitset<span class="hljs-meta-string">&lt;len&gt;(stoi(s,0,0)).to_string())</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-function"><span class="hljs-built_in">string</span> <span class="hljs-title">compiler</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">static</span> <span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">string</span>&gt; mp</span><br><span class="line">	&#123;</span><br><span class="line">		&#123;<span class="hljs-string">"add"</span>,<span class="hljs-string">"000000"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"sub"</span>,<span class="hljs-string">"000001"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"addiu"</span>,<span class="hljs-string">"000010"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"and"</span>,<span class="hljs-string">"010000"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"andi"</span>,<span class="hljs-string">"010001"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"ori"</span>,<span class="hljs-string">"010010"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"xori"</span>,<span class="hljs-string">"010011"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"sll"</span>,<span class="hljs-string">"011000"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"slti"</span>,<span class="hljs-string">"100110"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"slt"</span>,<span class="hljs-string">"100111"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"sw"</span>,<span class="hljs-string">"110000"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"lw"</span>,<span class="hljs-string">"110001"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"beq"</span>,<span class="hljs-string">"110100"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"bne"</span>,<span class="hljs-string">"110101"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"bltz"</span>,<span class="hljs-string">"110110"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"j"</span>,<span class="hljs-string">"111000"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"jr"</span>,<span class="hljs-string">"111001"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"jal"</span>,<span class="hljs-string">"111010"</span>&#125;,</span><br><span class="line">		&#123;<span class="hljs-string">"halt"</span>,<span class="hljs-string">"111111"</span>&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; v;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> &amp;c:s)<span class="hljs-keyword">if</span>(!<span class="hljs-built_in">isgraph</span>(c)||c==<span class="hljs-string">'$'</span>||c==<span class="hljs-string">'('</span>||c==<span class="hljs-string">')'</span>)c=<span class="hljs-string">','</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-built_in">istringstream</span> <span class="hljs-built_in">sin</span>(s); getline(<span class="hljs-built_in">sin</span>,s,<span class="hljs-string">','</span>);)</span><br><span class="line">		<span class="hljs-keyword">if</span>(!s.empty())v.push_back(s);</span><br><span class="line">	<span class="hljs-keyword">if</span>(v.empty())<span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;</span><br><span class="line">	s=mp[v[<span class="hljs-number">0</span>]];</span><br><span class="line">	<span class="hljs-keyword">if</span>(v.size()==<span class="hljs-number">1</span>)s+=<span class="hljs-built_in">string</span>(<span class="hljs-number">26</span>,<span class="hljs-string">'0'</span>);</span><br><span class="line">	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v.size()==<span class="hljs-number">2</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span>(v[<span class="hljs-number">0</span>]==<span class="hljs-string">"jr"</span>)s+=TRANS(v[<span class="hljs-number">1</span>],<span class="hljs-number">5</span>)+<span class="hljs-built_in">string</span>(<span class="hljs-number">21</span>,<span class="hljs-string">'0'</span>);</span><br><span class="line">		<span class="hljs-keyword">else</span> s+=<span class="hljs-built_in">bitset</span>&lt;<span class="hljs-number">26</span>&gt;(stoi(v[<span class="hljs-number">1</span>],<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)&gt;&gt;<span class="hljs-number">2</span>).to_string();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v.size()==<span class="hljs-number">3</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span>(v[<span class="hljs-number">0</span>]==<span class="hljs-string">"bltz"</span>)s+=TRANS(v[<span class="hljs-number">1</span>],<span class="hljs-number">5</span>)+<span class="hljs-built_in">string</span>(<span class="hljs-number">5</span>,<span class="hljs-string">'0'</span>)+TRANS(v[<span class="hljs-number">2</span>],<span class="hljs-number">16</span>);</span><br><span class="line">		<span class="hljs-keyword">else</span> s+=TRANS(v[<span class="hljs-number">1</span>],<span class="hljs-number">5</span>)+TRANS(v[<span class="hljs-number">2</span>],<span class="hljs-number">21</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">if</span>(v[<span class="hljs-number">0</span>]==<span class="hljs-string">"sw"</span>||v[<span class="hljs-number">0</span>]==<span class="hljs-string">"lw"</span>)swap(v[<span class="hljs-number">2</span>],v[<span class="hljs-number">3</span>]);</span><br><span class="line">		<span class="hljs-keyword">if</span>(v[<span class="hljs-number">0</span>]==<span class="hljs-string">"sll"</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			s+=<span class="hljs-built_in">string</span>(<span class="hljs-number">5</span>,<span class="hljs-string">'0'</span>);</span><br><span class="line">			s+=TRANS(v[<span class="hljs-number">2</span>],<span class="hljs-number">5</span>)+TRANS(v[<span class="hljs-number">1</span>],<span class="hljs-number">5</span>);</span><br><span class="line">			s+=TRANS(v[<span class="hljs-number">3</span>],<span class="hljs-number">5</span>)+<span class="hljs-built_in">string</span>(<span class="hljs-number">6</span>,<span class="hljs-string">'0'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v[<span class="hljs-number">0</span>].find(<span class="hljs-string">'i'</span>)!=v[<span class="hljs-number">0</span>].npos</span><br><span class="line">		        ||v[<span class="hljs-number">0</span>]==<span class="hljs-string">"sw"</span>||v[<span class="hljs-number">0</span>]==<span class="hljs-string">"lw"</span></span><br><span class="line">		        ||v[<span class="hljs-number">0</span>]==<span class="hljs-string">"beq"</span>||v[<span class="hljs-number">0</span>]==<span class="hljs-string">"bne"</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			s+=TRANS(v[<span class="hljs-number">2</span>],<span class="hljs-number">5</span>)+TRANS(v[<span class="hljs-number">1</span>],<span class="hljs-number">5</span>);</span><br><span class="line">			s+=TRANS(v[<span class="hljs-number">3</span>],<span class="hljs-number">16</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="hljs-keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			s+=TRANS(v[<span class="hljs-number">2</span>],<span class="hljs-number">5</span>)+TRANS(v[<span class="hljs-number">3</span>],<span class="hljs-number">5</span>);</span><br><span class="line">			s+=TRANS(v[<span class="hljs-number">1</span>],<span class="hljs-number">5</span>)+<span class="hljs-built_in">string</span>(<span class="hljs-number">11</span>,<span class="hljs-string">'0'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc,<span class="hljs-keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">if</span>(argc&lt;<span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-function">ifstream <span class="hljs-title">fin</span><span class="hljs-params">(argv[<span class="hljs-number">1</span>])</span></span>;</span><br><span class="line">	<span class="hljs-function">ofstream <span class="hljs-title">fout</span><span class="hljs-params">(argv[argc<span class="hljs-number">-1</span>])</span></span>;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-built_in">string</span> s; getline(fin,s); fout&lt;&lt;<span class="hljs-string">'\n'</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		s=compiler(s);</span><br><span class="line">		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;s.size(); ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			fout&lt;&lt;s[i];</span><br><span class="line">			<span class="hljs-keyword">if</span>(i%<span class="hljs-number">8</span>==<span class="hljs-number">7</span>)fout&lt;&lt;<span class="hljs-string">' '</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>待转换的MIPS代码<code>test.txt</code>内容如下：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">addiu  $1,$0,8</span><br><span class="line">ori  $2,$0,2</span><br><span class="line">xori  $3,$2,8</span><br><span class="line">sub  $4,$3,$1</span><br><span class="line">and  $5,$4,$2</span><br><span class="line">sll   $5,$5,2</span><br><span class="line">beq  $5,$1,-2</span><br><span class="line">jal  0x0000050</span><br><span class="line">slt  $8,$13,$1</span><br><span class="line">addiu  $14,$0,-2</span><br><span class="line">slt  $9,$8,$14</span><br><span class="line">slti  $10,$9,2</span><br><span class="line">slti  $11,$10,0</span><br><span class="line">add  $11,$11,$10</span><br><span class="line">bne  $11,$2,-2</span><br><span class="line">addiu  $12,$0,-2</span><br><span class="line">addiu  $12,$12,1</span><br><span class="line">bltz  $12,-2</span><br><span class="line">andi  $12,$2,2</span><br><span class="line">j  0x000005C</span><br><span class="line">sw  $2,4($1)</span><br><span class="line">lw  $13,4($1)</span><br><span class="line">jr  $31</span><br><span class="line">halt</span><br></pre></td></tr></table></figure>

<p>在命令行中键入<code>wkmips test.txt input.txt</code>，得到编译后文件<code>input.txt</code>：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">00001000 00000001 00000000 00001000</span><br><span class="line">01001000 00000010 00000000 00000010</span><br><span class="line">01001100 01000011 00000000 00001000</span><br><span class="line">00000100 01100001 00100000 00000000</span><br><span class="line">01000000 10000010 00101000 00000000</span><br><span class="line">01100000 00000101 00101000 10000000</span><br><span class="line">11010000 00100101 11111111 11111110</span><br><span class="line">11101000 00000000 00000000 00010100</span><br><span class="line">10011101 10100001 01000000 00000000</span><br><span class="line">00001000 00001110 11111111 11111110</span><br><span class="line">10011101 00001110 01001000 00000000</span><br><span class="line">10011001 00101010 00000000 00000010</span><br><span class="line">10011001 01001011 00000000 00000000</span><br><span class="line">00000001 01101010 01011000 00000000</span><br><span class="line">11010100 01001011 11111111 11111110</span><br><span class="line">00001000 00001100 11111111 11111110</span><br><span class="line">00001001 10001100 00000000 00000001</span><br><span class="line">11011001 10000000 11111111 11111110</span><br><span class="line">01000100 01001100 00000000 00000010</span><br><span class="line">11100000 00000000 00000000 00010111</span><br><span class="line">11000000 00100010 00000000 00000100</span><br><span class="line">11000100 00101101 00000000 00000100</span><br><span class="line">11100111 11100000 00000000 00000000</span><br><span class="line">11111100 00000000 00000000 00000000</span><br></pre></td></tr></table></figure>

<p>检验：手动将指令转换成二进制代码如下表，可对比检验上述编译器转换结果无误。</p>
<table>
<thead>
<tr>
<th>地址</th>
<th>汇编程序</th>
<th>op（6）</th>
<th>rs(5)</th>
<th>rt(5)</th>
<th>rd(5)/immediate(16)</th>
<th>16进制数代码</th>
</tr>
</thead>
<tbody><tr>
<td>0x00000000</td>
<td><code>addiu $1,$0,8</code></td>
<td>000010</td>
<td>00000</td>
<td>00001</td>
<td>00000000 00001000</td>
<td>08010008</td>
</tr>
<tr>
<td>0x00000004</td>
<td><code>ori $2,$0,2</code></td>
<td>010010</td>
<td>00000</td>
<td>00010</td>
<td>00000000 00000010</td>
<td>48020002</td>
</tr>
<tr>
<td>0x00000008</td>
<td><code>xori $3,$2,8</code></td>
<td>010011</td>
<td>00010</td>
<td>00011</td>
<td>00000000 00001000</td>
<td>4c430008</td>
</tr>
<tr>
<td>0x0000000c</td>
<td><code>sub $4,$3,$1</code></td>
<td>000001</td>
<td>00011</td>
<td>00001</td>
<td>00100000 00000000</td>
<td>04612000</td>
</tr>
<tr>
<td>0x00000010</td>
<td><code>and $5,$4,$2</code></td>
<td>010000</td>
<td>00100</td>
<td>00010</td>
<td>00101000 00000000</td>
<td>40822800</td>
</tr>
<tr>
<td>0x00000014</td>
<td><code>sll $5,$5,2</code></td>
<td>011000</td>
<td>00000</td>
<td>00101</td>
<td>00101000 10000000</td>
<td>60052880</td>
</tr>
<tr>
<td>0x00000018</td>
<td><code>beq $5,$1,-2</code></td>
<td>110100</td>
<td>00001</td>
<td>00101</td>
<td>11111111 11111110</td>
<td>d025fffe</td>
</tr>
<tr>
<td>0x0000001c</td>
<td><code>jal 0x0000050</code></td>
<td>111010</td>
<td>00000</td>
<td>00000</td>
<td>00000000 00010100</td>
<td>e8000014</td>
</tr>
<tr>
<td>0x00000020</td>
<td><code>slt $8,$13,$1</code></td>
<td>100111</td>
<td>01101</td>
<td>00001</td>
<td>01000000 00000000</td>
<td>9da14000</td>
</tr>
<tr>
<td>0x00000024</td>
<td><code>addiu $14,$0,-2</code></td>
<td>000010</td>
<td>00000</td>
<td>01110</td>
<td>11111111 11111110</td>
<td>080efffe</td>
</tr>
<tr>
<td>0x00000028</td>
<td><code>slt $9,$8,$14</code></td>
<td>100111</td>
<td>01000</td>
<td>01110</td>
<td>01001000 00000000</td>
<td>9d0e4800</td>
</tr>
<tr>
<td>0x0000002c</td>
<td><code>slti $10,$9,2</code></td>
<td>100110</td>
<td>01001</td>
<td>01010</td>
<td>00000000 00000010</td>
<td>992a0002</td>
</tr>
<tr>
<td>0x00000030</td>
<td><code>slti $11,$10,0</code></td>
<td>100110</td>
<td>01010</td>
<td>01011</td>
<td>00000000 00000000</td>
<td>994b0000</td>
</tr>
<tr>
<td>0x00000034</td>
<td><code>add $11,$11,$10</code></td>
<td>000000</td>
<td>01011</td>
<td>01010</td>
<td>01011000 00000000</td>
<td>016a5800</td>
</tr>
<tr>
<td>0x00000038</td>
<td><code>bne $11,$2,-2</code></td>
<td>110101</td>
<td>00010</td>
<td>01011</td>
<td>11111111 11111110</td>
<td>d44bfffe</td>
</tr>
<tr>
<td>0x0000003c</td>
<td><code>addiu $12,$0,-2</code></td>
<td>000010</td>
<td>00000</td>
<td>01100</td>
<td>11111111 11111110</td>
<td>080cfffe</td>
</tr>
<tr>
<td>0x00000040</td>
<td><code>addiu $12,$12,1</code></td>
<td>000010</td>
<td>01100</td>
<td>01100</td>
<td>00000000 00000001</td>
<td>098c0001</td>
</tr>
<tr>
<td>0x00000044</td>
<td><code>bltz $12,-2</code></td>
<td>110110</td>
<td>01100</td>
<td>00000</td>
<td>11111111 11111110</td>
<td>d980fffe</td>
</tr>
<tr>
<td>0x00000048</td>
<td><code>andi $12,$2,2</code></td>
<td>010001</td>
<td>00010</td>
<td>01100</td>
<td>00000000 00000010</td>
<td>444c0002</td>
</tr>
<tr>
<td>0x0000004c</td>
<td><code>j 0x000005C</code></td>
<td>111000</td>
<td>00000</td>
<td>00000</td>
<td>00000000 00010111</td>
<td>e0000017</td>
</tr>
<tr>
<td>0x00000050</td>
<td><code>sw $2,4($1)</code></td>
<td>110000</td>
<td>00001</td>
<td>00010</td>
<td>00000000 00000100</td>
<td>c0220004</td>
</tr>
<tr>
<td>0x00000054</td>
<td><code>lw $13,4($1)</code></td>
<td>110001</td>
<td>00001</td>
<td>01101</td>
<td>00000000 00000100</td>
<td>c42d0004</td>
</tr>
<tr>
<td>0x00000058</td>
<td><code>jr $31</code></td>
<td>111001</td>
<td>11111</td>
<td>00000</td>
<td>00000000 00000000</td>
<td>e7e00000</td>
</tr>
<tr>
<td>0x0000005c</td>
<td><code>halt</code></td>
<td>111111</td>
<td>00000</td>
<td>00000</td>
<td>00000000 00000000</td>
<td>fc000000</td>
</tr>
</tbody></table>
<h3 id="Sim-v"><a href="#Sim-v" class="headerlink" title="Sim.v"></a>Sim.v</h3><p>仿真模块。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> Sim;</span><br><span class="line">	<span class="hljs-keyword">reg</span> CLK;	<span class="hljs-comment">//时钟信号</span></span><br><span class="line">	<span class="hljs-keyword">reg</span> Reset;	<span class="hljs-comment">//置零信号</span></span><br><span class="line">	MultipleCPU mcpu(CLK,Reset);</span><br><span class="line">	<span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		CLK=	<span class="hljs-number">0</span>;</span><br><span class="line">		Reset=	<span class="hljs-number">1</span>;	<span class="hljs-comment">//刚开始设置pc为0</span></span><br><span class="line">		#<span class="hljs-number">50</span>;	<span class="hljs-comment">//等待Reset完成</span></span><br><span class="line">		CLK=	!CLK;	<span class="hljs-comment">//下降沿，使PC先清零</span></span><br><span class="line">		#<span class="hljs-number">50</span>;</span><br><span class="line">		Reset=	<span class="hljs-number">0</span>;	<span class="hljs-comment">//清除保持信号</span></span><br><span class="line">	  	<span class="hljs-keyword">forever</span> #<span class="hljs-number">50</span> <span class="hljs-keyword">begin</span>	<span class="hljs-comment">//产生时钟信号，周期为50s</span></span><br><span class="line">			CLK=	!CLK;</span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="仿真波形"><a href="#仿真波形" class="headerlink" title="仿真波形"></a>仿真波形</h3><p>波形比较长，分成三部分逐一分析。<br><img src="https://img-blog.csdnimg.cn/20181221020005449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>第一次执行到地址<code>0x00000018</code>的时候，执行了<code>beq $5,$1,-2</code>，此时<code>$5</code>和<code>$1</code>都是8，回退到<code>0x00000014</code>；第二次执行到地址<code>0x00000018</code>的时候，<code>$5</code>是32，<code>$1</code>都是8，不等，继续执行下一条指令<code>jal 0x0000050</code>。于是跳到<code>0x00000050</code>，并在<code>0x00000058</code>地址上跳回<code>0x00000020</code>。<br><img src="https://img-blog.csdnimg.cn/20181221020023779.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>第一次执行到地址<code>0x00000038</code>的时候，执行了<code>bne $11,$2,-2</code>，此时<code>$11</code>是1，<code>$2</code>是2，不等，回退到<code>0x00000034</code>；第二次执行到地址<code>0x00000038</code>的时候，<code>$11</code>和<code>$2</code>都是2，继续执行下一条指令。<br><img src="https://img-blog.csdnimg.cn/2018122102003755.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>第一次执行到地址<code>0x00000044</code>的时候，执行了<code>bltz $12,-2</code>，此时<code>$12</code>是-1，小于0，回退到<code>0x00000040</code>；第二次执行到地址<code>0x00000044</code>的时候，<code>$12</code>是0，继续执行下一条指令。<br>执行到地址<code>0x0000004C</code>的时候，执行了<code>j 0x000005C</code>，直接跳转到<code>0x000005C</code>，于是执行该地址上的<code>Halt</code>，波形不再变化。</p>
<h2 id="烧写到Basys3实验板"><a href="#烧写到Basys3实验板" class="headerlink" title="烧写到Basys3实验板"></a>烧写到Basys3实验板</h2><h3 id="Basys3-v"><a href="#Basys3-v" class="headerlink" title="Basys3.v"></a>Basys3.v</h3><p>顶层模块。和单周期没有太大区别。（Reset的取值）改了。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> Basys3(</span><br><span class="line">	<span class="hljs-keyword">input</span> CLK,</span><br><span class="line">	<span class="hljs-keyword">input</span>[<span class="hljs-number">1</span>:<span class="hljs-number">0</span>] SW,	<span class="hljs-comment">//选择输出信号</span></span><br><span class="line">	<span class="hljs-keyword">input</span> Reset,	<span class="hljs-comment">//重置按钮</span></span><br><span class="line">	<span class="hljs-keyword">input</span> Button,	<span class="hljs-comment">//单脉冲</span></span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] AN,	<span class="hljs-comment">//数码管位选择信号</span></span><br><span class="line">	<span class="hljs-keyword">output</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] Out	<span class="hljs-comment">//数码管输入信号</span></span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">parameter</span> T1MS=	<span class="hljs-number">100000</span>;</span><br><span class="line">	<span class="hljs-keyword">reg</span>[<span class="hljs-number">16</span>:<span class="hljs-number">0</span>] showCounter;</span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] ALU_Out;	<span class="hljs-comment">//ALU的result输出值</span></span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] CurPC;</span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] WriteData;	<span class="hljs-comment">//DB总线值</span></span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] Reg1Out;	<span class="hljs-comment">//寄存器组rs寄存器的值</span></span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] Reg2Out;	<span class="hljs-comment">//寄存器组rt寄存器的值</span></span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] DataOut;</span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] instcode;</span><br><span class="line">	<span class="hljs-keyword">wire</span> myCLK;</span><br><span class="line">	<span class="hljs-keyword">reg</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] store;	<span class="hljs-comment">//记录当前要显示位的值</span></span><br><span class="line">	<span class="hljs-keyword">wire</span>[<span class="hljs-number">31</span>:<span class="hljs-number">0</span>] newAddress;</span><br><span class="line"></span><br><span class="line">	MultipleCPU mcpu(myCLK,Reset,instcode[<span class="hljs-number">31</span>:<span class="hljs-number">26</span>],instcode[<span class="hljs-number">25</span>:<span class="hljs-number">21</span>],instcode[<span class="hljs-number">20</span>:<span class="hljs-number">16</span>],instcode[<span class="hljs-number">15</span>:<span class="hljs-number">11</span>],instcode[<span class="hljs-number">15</span>:<span class="hljs-number">0</span>],Reg1Out,Reg2Out,WriteData,DataOut,CurPC,newAddress,ALU_Out);</span><br><span class="line">	Debounce debounce(CLK,Button,myCLK);</span><br><span class="line"></span><br><span class="line">	<span class="hljs-keyword">initial</span> <span class="hljs-keyword">begin</span></span><br><span class="line">		showCounter&lt;=	<span class="hljs-number">0</span>;</span><br><span class="line">		AN&lt;=	<span class="hljs-number">4'b0111</span>;</span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">always</span>@(<span class="hljs-keyword">posedge</span> CLK)</span><br><span class="line">		<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">if</span>(Reset==<span class="hljs-number">1</span>)<span class="hljs-keyword">begin</span></span><br><span class="line">		  showCounter&lt;=	<span class="hljs-number">0</span>;</span><br><span class="line">		  AN&lt;=	<span class="hljs-number">4'b0000</span>;</span><br><span class="line">		<span class="hljs-keyword">end</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">begin</span></span><br><span class="line">			showCounter&lt;=	showCounter+<span class="hljs-number">1</span>;</span><br><span class="line">			<span class="hljs-keyword">if</span>(showCounter==T1MS)</span><br><span class="line">				<span class="hljs-keyword">begin</span></span><br><span class="line">					showCounter&lt;=	<span class="hljs-number">0</span>;</span><br><span class="line">					<span class="hljs-keyword">case</span>(AN)</span><br><span class="line">						<span class="hljs-number">4'b1110</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">							AN&lt;=	<span class="hljs-number">4'b1101</span>;</span><br><span class="line">						<span class="hljs-keyword">end</span></span><br><span class="line">						<span class="hljs-number">4'b1101</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">							AN&lt;=	<span class="hljs-number">4'b1011</span>;</span><br><span class="line">						<span class="hljs-keyword">end</span></span><br><span class="line">						<span class="hljs-number">4'b1011</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">							AN&lt;=	<span class="hljs-number">4'b0111</span>;</span><br><span class="line">						<span class="hljs-keyword">end</span></span><br><span class="line">						<span class="hljs-number">4'b0111</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">							AN&lt;=	<span class="hljs-number">4'b1110</span>;</span><br><span class="line">						<span class="hljs-keyword">end</span></span><br><span class="line">						<span class="hljs-number">4'b0000</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">							AN&lt;=	<span class="hljs-number">4'b0111</span>;</span><br><span class="line">					   <span class="hljs-keyword">end</span></span><br><span class="line">					<span class="hljs-keyword">endcase</span></span><br><span class="line">				<span class="hljs-keyword">end</span></span><br><span class="line">			<span class="hljs-keyword">end</span></span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	SegLED led(store,Reset,Out);</span><br><span class="line">	<span class="hljs-keyword">always</span>@(myCLK)<span class="hljs-keyword">begin</span></span><br><span class="line">	   <span class="hljs-keyword">case</span>(AN)</span><br><span class="line">			<span class="hljs-number">4'b1110</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">				<span class="hljs-keyword">case</span>(SW)</span><br><span class="line">					<span class="hljs-number">2'b00</span>:	store&lt;=	newAddress[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];</span><br><span class="line">					<span class="hljs-number">2'b01</span>:	store&lt;=	Reg1Out[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];</span><br><span class="line">					<span class="hljs-number">2'b10</span>:	store&lt;=	Reg2Out[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];</span><br><span class="line">					<span class="hljs-number">2'b11</span>:	store&lt;=	WriteData[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];</span><br><span class="line">				<span class="hljs-keyword">endcase</span></span><br><span class="line">			<span class="hljs-keyword">end</span></span><br><span class="line">			<span class="hljs-number">4'b1101</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">				<span class="hljs-keyword">case</span>(SW)</span><br><span class="line">					<span class="hljs-number">2'b00</span>:	store&lt;=	newAddress[<span class="hljs-number">7</span>:<span class="hljs-number">4</span>];</span><br><span class="line">					<span class="hljs-number">2'b01</span>:	store&lt;=	Reg1Out[<span class="hljs-number">7</span>:<span class="hljs-number">4</span>];</span><br><span class="line">					<span class="hljs-number">2'b10</span>:	store&lt;=	Reg2Out[<span class="hljs-number">7</span>:<span class="hljs-number">4</span>];</span><br><span class="line">					<span class="hljs-number">2'b11</span>:	store&lt;=	WriteData[<span class="hljs-number">7</span>:<span class="hljs-number">4</span>];</span><br><span class="line">				<span class="hljs-keyword">endcase</span></span><br><span class="line">			<span class="hljs-keyword">end</span></span><br><span class="line">			<span class="hljs-number">4'b1011</span>:	<span class="hljs-keyword">begin</span></span><br><span class="line">				<span class="hljs-keyword">case</span>(SW)</span><br><span class="line">					<span class="hljs-number">2'b00</span>:	store&lt;=	CurPC[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];</span><br><span class="line">					<span class="hljs-number">2'b01</span>:	store&lt;=	instcode[<span class="hljs-number">24</span>:<span class="hljs-number">21</span>];</span><br><span class="line">					<span class="hljs-number">2'b10</span>:	store&lt;=	instcode[<span class="hljs-number">19</span>:<span class="hljs-number">16</span>];</span><br><span class="line">					<span class="hljs-number">2'b11</span>:	store&lt;=	ALU_Out[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>];</span><br><span class="line">				<span class="hljs-keyword">endcase</span></span><br><span class="line">			<span class="hljs-keyword">end</span></span><br><span class="line">			<span class="hljs-number">4'b0111</span> : <span class="hljs-keyword">begin</span></span><br><span class="line">				<span class="hljs-keyword">case</span>(SW)</span><br><span class="line">					<span class="hljs-number">2'b00</span>:	store&lt;=	CurPC[<span class="hljs-number">7</span>:<span class="hljs-number">4</span>];</span><br><span class="line">					<span class="hljs-number">2'b01</span>:	store&lt;=	&#123;<span class="hljs-number">3'b000</span>,instcode[<span class="hljs-number">25</span>]&#125;;</span><br><span class="line">					<span class="hljs-number">2'b10</span>:	store&lt;=	&#123;<span class="hljs-number">3'b000</span>,instcode[<span class="hljs-number">20</span>]&#125;;</span><br><span class="line">					<span class="hljs-number">2'b11</span>:	store&lt;=	ALU_Out[<span class="hljs-number">7</span>:<span class="hljs-number">4</span>];</span><br><span class="line">				<span class="hljs-keyword">endcase</span></span><br><span class="line">			<span class="hljs-keyword">end</span></span><br><span class="line">		<span class="hljs-keyword">endcase</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="Debounce-v"><a href="#Debounce-v" class="headerlink" title="Debounce.v"></a>Debounce.v</h3><p>和单周期一样的按键消抖模块。Basys3板采用的是机械按键，在按下按键时按键会出现人眼无法观测但是系统会检测到的抖动变化，这可能会使短时间内电平频繁变化，导致程序接收到许多错误的触发信号而出现许多不可知的错误。消抖操作是每当检测到CLK上升沿到来时检测一次当前电平信号并记录，同计数器开始计数，若在计数器达到5000之前电平发生变化，则将计数器清零，若达到5000，则将该记录电平取反输出。<br>因为程序开始时已经运行第一条指令，为避免跳过第一条指令计算值的写入，我们的输入需要从下降沿开始，因此我们给按键信号取反后再输入。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> Debounce(clk,key_in,key_out);</span><br><span class="line">    <span class="hljs-keyword">parameter</span> SAMPLE_TIME = <span class="hljs-number">5000</span>;</span><br><span class="line">    <span class="hljs-keyword">input</span> clk;</span><br><span class="line">    <span class="hljs-keyword">input</span> key_in;</span><br><span class="line">    <span class="hljs-keyword">output</span> key_out;</span><br><span class="line">    <span class="hljs-keyword">reg</span> [<span class="hljs-number">21</span>:<span class="hljs-number">0</span>] count_low;</span><br><span class="line">    <span class="hljs-keyword">reg</span> [<span class="hljs-number">21</span>:<span class="hljs-number">0</span>] count_high;</span><br><span class="line">    <span class="hljs-keyword">reg</span> key_out_reg;</span><br><span class="line">    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)</span><br><span class="line">    <span class="hljs-keyword">if</span>(key_in ==<span class="hljs-number">1'b0</span>)</span><br><span class="line">        count_low &lt;= count_low + <span class="hljs-number">1</span>;</span><br><span class="line">    <span class="hljs-keyword">else</span></span><br><span class="line">        count_low &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)</span><br><span class="line">        <span class="hljs-keyword">if</span>(key_in ==<span class="hljs-number">1'b1</span>)</span><br><span class="line">            count_high &lt;= count_high + <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span></span><br><span class="line">            count_high &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">always</span> @(<span class="hljs-keyword">posedge</span> clk)</span><br><span class="line">        <span class="hljs-keyword">if</span>(count_high == SAMPLE_TIME)</span><br><span class="line">            key_out_reg &lt;= <span class="hljs-number">1</span>;</span><br><span class="line">        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(count_low == SAMPLE_TIME)</span><br><span class="line">            key_out_reg &lt;= <span class="hljs-number">0</span>;</span><br><span class="line">    <span class="hljs-keyword">assign</span> key_out = !key_out_reg;</span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="SegLED-v"><a href="#SegLED-v" class="headerlink" title="SegLED.v"></a>SegLED.v</h3><p>数码管译码模块。译码模块将CPU运算的结果转换成7段数码管中各个数码管显示所需的高低电平信号,该单元的输入为4-bit位宽的二进制数。其中，七段数码管的八个电平控制输出中最低位是小数点的显示信号，但小数点在CPU运行时没有用到，恰好用于标记Reset状态。</p>
<figure class="highlight verilog hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">`<span class="hljs-meta-keyword">timescale</span> 1ns / 1ps</span></span><br><span class="line"><span class="hljs-keyword">module</span> SegLED(</span><br><span class="line">	<span class="hljs-keyword">input</span>[<span class="hljs-number">3</span>:<span class="hljs-number">0</span>] Store,</span><br><span class="line">	<span class="hljs-keyword">input</span> Reset,</span><br><span class="line">	<span class="hljs-keyword">output</span> <span class="hljs-keyword">reg</span>[<span class="hljs-number">7</span>:<span class="hljs-number">0</span>] Out</span><br><span class="line">);</span><br><span class="line">	<span class="hljs-keyword">always</span>@(Store <span class="hljs-keyword">or</span> Reset)<span class="hljs-keyword">begin</span></span><br><span class="line">		<span class="hljs-keyword">begin</span></span><br><span class="line">			<span class="hljs-keyword">case</span>(Store)</span><br><span class="line">				<span class="hljs-number">4'b0000</span>:	Out=	<span class="hljs-number">8'b00000011</span>;	<span class="hljs-comment">//0</span></span><br><span class="line">				<span class="hljs-number">4'b0001</span>:	Out=	<span class="hljs-number">8'b10011111</span>;	<span class="hljs-comment">//1</span></span><br><span class="line">				<span class="hljs-number">4'b0010</span>:	Out=	<span class="hljs-number">8'b00100101</span>;	<span class="hljs-comment">//2</span></span><br><span class="line">				<span class="hljs-number">4'b0011</span>:	Out=	<span class="hljs-number">8'b00001101</span>;	<span class="hljs-comment">//3</span></span><br><span class="line">				<span class="hljs-number">4'b0100</span>:	Out=	<span class="hljs-number">8'b10011001</span>;	<span class="hljs-comment">//4</span></span><br><span class="line">				<span class="hljs-number">4'b0101</span>:	Out=	<span class="hljs-number">8'b01001001</span>;	<span class="hljs-comment">//5</span></span><br><span class="line">				<span class="hljs-number">4'b0110</span>:	Out=	<span class="hljs-number">8'b01000001</span>;	<span class="hljs-comment">//6</span></span><br><span class="line">				<span class="hljs-number">4'b0111</span>:	Out=	<span class="hljs-number">8'b00011111</span>;	<span class="hljs-comment">//7</span></span><br><span class="line">				<span class="hljs-number">4'b1000</span>:	Out=	<span class="hljs-number">8'b00000001</span>;	<span class="hljs-comment">//8</span></span><br><span class="line">				<span class="hljs-number">4'b1001</span>:	Out=	<span class="hljs-number">8'b00001001</span>;	<span class="hljs-comment">//9</span></span><br><span class="line">				<span class="hljs-number">4'b1010</span>:	Out=	<span class="hljs-number">8'b00010001</span>;	<span class="hljs-comment">//A</span></span><br><span class="line">				<span class="hljs-number">4'b1011</span>:	Out=	<span class="hljs-number">8'b11000001</span>;	<span class="hljs-comment">//b</span></span><br><span class="line">				<span class="hljs-number">4'b1100</span>:	Out=	<span class="hljs-number">8'b01100011</span>;	<span class="hljs-comment">//C</span></span><br><span class="line">				<span class="hljs-number">4'b1101</span>:	Out=	<span class="hljs-number">8'b10000101</span>;	<span class="hljs-comment">//d</span></span><br><span class="line">				<span class="hljs-number">4'b1110</span>:	Out=	<span class="hljs-number">8'b01100001</span>;	<span class="hljs-comment">//E</span></span><br><span class="line">				<span class="hljs-number">4'b1111</span>:	Out=	<span class="hljs-number">8'b01110001</span>;	<span class="hljs-comment">//F</span></span><br><span class="line">				<span class="hljs-keyword">default</span>:	Out=	<span class="hljs-number">8'b00000000</span>;	<span class="hljs-comment">//all light</span></span><br><span class="line">			<span class="hljs-keyword">endcase</span></span><br><span class="line">		<span class="hljs-keyword">end</span></span><br><span class="line">	<span class="hljs-keyword">end</span></span><br><span class="line"><span class="hljs-keyword">endmodule</span></span><br></pre></td></tr></table></figure>

<h3 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h3><h4 id="端口映射"><a href="#端口映射" class="headerlink" title="端口映射"></a>端口映射</h4><p><img src="https://img-blog.csdnimg.cn/20181221021436787.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h4 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h4><p><img src="https://img-blog.csdnimg.cn/20181123000309833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>所有寄存器被初始化为0。</p>
<h4 id="第1条指令addiu-1-0-8"><a href="#第1条指令addiu-1-0-8" class="headerlink" title="第1条指令addiu $1,$0,8"></a>第1条指令<code>addiu $1,$0,8</code></h4><p><img src="https://img-blog.csdnimg.cn/20181221190330815.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>当前地址00，下一地址04。<br><img src="https://img-blog.csdnimg.cn/20181221190655762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>0号寄存器，值为0。<br><img src="https://img-blog.csdnimg.cn/20181221190810804.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1号寄存器。立即数8。<br><img src="https://img-blog.csdnimg.cn/20181221190936342.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>运算结果8。</p>
<h4 id="第2条指令ori-2-0-2"><a href="#第2条指令ori-2-0-2" class="headerlink" title="第2条指令ori $2,$0,2"></a>第2条指令<code>ori $2,$0,2</code></h4><p><img src="https://img-blog.csdnimg.cn/20181221191719342.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>当前地址04，下一地址08。<br><img src="https://img-blog.csdnimg.cn/20181221191838658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>0号寄存器，值为0。<br><img src="https://img-blog.csdnimg.cn/20181221192006996.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>2号寄存器，立即数2。<br><img src="https://img-blog.csdnimg.cn/20181221192133926.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>ALU结果为2。</p>
<h4 id="第3条指令xori-3-2-8"><a href="#第3条指令xori-3-2-8" class="headerlink" title="第3条指令xori $3,$2,8"></a>第3条指令<code>xori $3,$2,8</code></h4><p><img src="https://img-blog.csdnimg.cn/20181221193904422.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>当前地址08，下一地址0c。<br><img src="https://img-blog.csdnimg.cn/20181221193958504.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>2号寄存器，值为02。<br><img src="https://img-blog.csdnimg.cn/20181221194104632.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>3号寄存器，值为0a（这里是已经写入后的结果）。<br><img src="https://img-blog.csdnimg.cn/20181221194202734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>ALU结果为0a。</p>
<h4 id="第4条指令sub-4-3-1"><a href="#第4条指令sub-4-3-1" class="headerlink" title="第4条指令sub $4,$3,$1"></a>第4条指令<code>sub $4,$3,$1</code></h4><p><img src="https://img-blog.csdnimg.cn/20181221194506471.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>当前地址0c，下一地址10。<br><img src="https://img-blog.csdnimg.cn/20181221194617211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>3号寄存器，值为0a。<br><img src="https://img-blog.csdnimg.cn/20181221194717607.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1号寄存器，值为08。<br><img src="https://img-blog.csdnimg.cn/20181221194834961.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>ALU结果为02。</p>
<h4 id="第5条指令and-5-4-2"><a href="#第5条指令and-5-4-2" class="headerlink" title="第5条指令and $5,$4,$2"></a>第5条指令<code>and $5,$4,$2</code></h4><p><img src="https://img-blog.csdnimg.cn/20181221194925863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>当前地址10，下一地址14。<br><img src="https://img-blog.csdnimg.cn/20181221195026307.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4号寄存器，值为2。<br><img src="https://img-blog.csdnimg.cn/20181221195135275.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>2号寄存器，值为2。<br><img src="https://img-blog.csdnimg.cn/20181221195239672.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfd2VpbGFu,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>ALU结果为2。</p>
<h1 id="实验心得"><a href="#实验心得" class="headerlink" title="实验心得"></a>实验心得</h1><p>多周期CPU相对于单周期主要是要多思考一下自动状态机转换的问题。此外，还需要单独增加几个寄存器用于接收中间的结果，并且需要连上时钟。</p>
<p>两个学期的实验课终于到此告一段落。作为公认较难的一门课，即使学分较为少，我觉得对人的锻炼却是非常大的。每一年计组的课题都会略有区别，这让我们很难找到参考的地方；甚至很多东西往年的资料和今年的完全相反，如果不加思考完全照抄可能反而会带来误导。因此，虽然难度较大，但是却更加符合我们日后工作科研中可能会遇到的情况。不管怎样，自己总是算是做掉了多周期CPU，几天来的心血没有白费。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-12T09:00:00.000Z">2018-12-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ACM/">ACM</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 读完 (大约 719 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/12/2018-12-12-CodeForces-1051F/">The Shortest Statement</a>
            
        </h1>
        <div class="content">
            <p><a href="https://vjudge.net/problem/CodeForces-1051F" target="_blank" rel="noopener">题目链接</a><br>数据结构课上机碰到的题目，也太硬核了……<br>题面上的特别条件<code>m-n&lt;21</code>是关键，要怎么用呢？<br>先随便选一个点作为根建一棵树，那么分以下两种情况来讨论：</p>
<ul>
<li>若s到t的最短路径不经过非树边，直接求出LCA就可以轻松得出答案。</li>
<li>若s到t的最短路径经过非树边，就可以直接用非树边的端点作为s到t的中转点来更新答案。由于非树边最多有21条，这样的特殊点最多有42个，直接预处理出这42个点到其它点的最短路就可以了。</li>
</ul>
<p>这里建树直接写了一个树剖，方便后面求LCA。<br>稀疏图上SPFA快的一比……</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;</span><br><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;</span><br><span class="line"><span class="hljs-keyword">const</span> ll INF = <span class="hljs-number">1e18</span>;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Graph</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Vertex</span></span></span><br><span class="line"><span class="hljs-class">	&#123;</span></span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; o, i;</span><br><span class="line">		<span class="hljs-keyword">int</span> siz, dep, top, dfn;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span> :</span> pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;</span><br><span class="line">	&#123;</span><br><span class="line">		ll len;</span><br><span class="line">		Edge(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, ll z) : pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(x, y), len(z) &#123;&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;Vertex&gt; v;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;Edge&gt; e;</span><br><span class="line">	Graph(<span class="hljs-keyword">int</span> n) : v(n) &#123;&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">const</span> Edge &amp;ed)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		v[ed.first].o.push_back(e.size());</span><br><span class="line">		v[ed.second].i.push_back(e.size());</span><br><span class="line">		e.push_back(ed);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ch</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> e[v[u].o[i]].second;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">fa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> e[v[u].i[i]].first;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">BellmanFord</span> :</span> Graph</span><br><span class="line">&#123;</span><br><span class="line">	BellmanFord(<span class="hljs-keyword">int</span> n) : Graph(n) &#123;&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ask</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-built_in">vector</span>&lt;ll&gt; &amp;d)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		d.assign(v.size(), INF);</span><br><span class="line">		<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; flag(v.size(), d[s] = <span class="hljs-number">0</span>);</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-built_in">deque</span>&lt;<span class="hljs-keyword">int</span>&gt; q(flag[s] = <span class="hljs-number">1</span>, s); !q.empty(); q.pop_front())</span><br><span class="line">			<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> u = q.front(), i = flag[u] = <span class="hljs-number">0</span>, k, to; i &lt; v[u].o.size(); ++i)</span><br><span class="line">				<span class="hljs-keyword">if</span> (k = v[u].o[i], to = e[k].second,</span><br><span class="line">					d[to] &gt; d[u] + e[k].len)</span><br><span class="line">				&#123;</span><br><span class="line">					d[to] = d[u] + e[k].len;</span><br><span class="line">					<span class="hljs-keyword">if</span> (!flag[to])</span><br><span class="line">						flag[to] = <span class="hljs-number">1</span>, q.push_back(to);</span><br><span class="line">				&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeDiagram</span> :</span> BellmanFord</span><br><span class="line">&#123;</span><br><span class="line">	TreeDiagram(<span class="hljs-keyword">const</span> Graph &amp;g, <span class="hljs-keyword">int</span> root) : BellmanFord(g.v.size())</span><br><span class="line">	&#123;</span><br><span class="line">		build(root, g);</span><br><span class="line">		<span class="hljs-keyword">int</span> cnt = v[root].dfn = v[root].dep = <span class="hljs-number">1</span>;</span><br><span class="line">		dfs(v[root].top = root, cnt);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">const</span> Graph &amp;g)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		v[u].siz = <span class="hljs-number">1</span>;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, k, to; i &lt; g.v[u].o.size(); ++i)</span><br><span class="line">			<span class="hljs-keyword">if</span> (k = g.v[u].o[i], to = g.e[k].second, !v[to].siz)</span><br><span class="line">			&#123;</span><br><span class="line">				build(to, g);</span><br><span class="line">				v[u].siz += v[to].siz;</span><br><span class="line">				Graph::add(g.e[k]);</span><br><span class="line">				<span class="hljs-keyword">if</span> (v[ch(u)].siz &lt; v[to].siz)</span><br><span class="line">					swap(v[u].o.front(), v[u].o.back());</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> &amp;cnt)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, to; i &lt; v[u].o.size(); ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			v[to = ch(u, i)].dfn = ++cnt;</span><br><span class="line">			v[to].top = i ? to : v[u].top;</span><br><span class="line">			v[to].dep = v[u].dep + <span class="hljs-number">1</span>;</span><br><span class="line">			dfs(to, cnt);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lca</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">for</span> (; v[x].top != v[y].top; x = fa(v[x].top))</span><br><span class="line">			<span class="hljs-keyword">if</span> (v[v[x].top].dep &lt; v[v[y].top].dep)</span><br><span class="line">				swap(x, y);</span><br><span class="line">		<span class="hljs-keyword">if</span> (v[x].dep &lt; v[y].dep)</span><br><span class="line">			swap(x, y);</span><br><span class="line">		<span class="hljs-keyword">return</span> y;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">int</span> n, m;</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;n, &amp;m);</span><br><span class="line">	<span class="hljs-function">BellmanFord <span class="hljs-title">g</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, x, y, z; i &lt; m; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d%d"</span>, &amp;x, &amp;y, &amp;z);</span><br><span class="line">		g.add(&#123;x, y, z&#125;);</span><br><span class="line">		g.add(&#123;y, x, z&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function">TreeDiagram <span class="hljs-title">t</span><span class="hljs-params">(g, <span class="hljs-number">1</span>)</span></span>;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;ll&gt; d[<span class="hljs-number">63</span>];</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m = <span class="hljs-number">0</span>; i &lt; n; ++i)</span><br><span class="line">		<span class="hljs-keyword">if</span> (t.v[i].o.size() + t.v[i].i.size() &lt; g.v[i].o.size())</span><br><span class="line">			g.ask(i, d[m++]);</span><br><span class="line">	t.ask(<span class="hljs-number">1</span>, d[m]);</span><br><span class="line">	<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, x, y; i &lt; n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d%d"</span>, &amp;x, &amp;y);</span><br><span class="line">		ll ans = d[m][x] + d[m][y] - <span class="hljs-number">2</span> * d[m][t.lca(x, y)];</span><br><span class="line">		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; ++j)</span><br><span class="line">			ans = min(ans, d[j][x] + d[j][y]);</span><br><span class="line">		<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%lld\n"</span>, ans);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-11T03:00:00.000Z">2018-12-11</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/函数程序设计实验/">函数程序设计实验</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1159 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/11/2018-12-11-带变量的布尔表达式/">函数程序设计实验十二：带变量的布尔表达式</a>
            
        </h1>
        <div class="content">
            <figure class="highlight haskell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">module</span> Lab3 <span class="hljs-keyword">where</span></span><br><span class="line"><span class="hljs-keyword">import</span> Data.List</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">一个布尔表达式就像一个算术表达式，只是这里的值都是布尔值True和False，</span></span><br><span class="line"><span class="hljs-comment">其中的变量也只能代入布尔值，各种运算用运算表给出。</span></span><br><span class="line"><span class="hljs-comment">布尔表达式的另一种解读是表示命题，如文件lab3.pdf所讲。</span></span><br><span class="line"><span class="hljs-comment">如果不理解命题，就看作布尔表达式好了。</span></span><br><span class="line"><span class="hljs-comment">本作业要求判断一个布尔表达式是不是永真式：即无论将变量代入什么值，其结果总是True。</span></span><br><span class="line"><span class="hljs-comment">一、定义命题类型及其Show特例</span></span><br><span class="line"><span class="hljs-comment">命题的集合可以如下定义</span></span><br><span class="line"><span class="hljs-comment">-真命题(记作T)和假命题(记作F)是命题；</span></span><br><span class="line"><span class="hljs-comment">-由一个字母表示的命题变元是一个命题；</span></span><br><span class="line"><span class="hljs-comment">-如果P是命题,则它的否定是一个命题,记作~P；"~"称为否定联结词；</span></span><br><span class="line"><span class="hljs-comment">-如果p,q是命题,则它们的合取是一个命题,记作p&amp;&amp;q; "&amp;&amp;"称为合取联结词；</span></span><br><span class="line"><span class="hljs-comment">-如果p,q是命题,则它们的析取是一个命题,记作p||q; "||"称为析取联结词；</span></span><br><span class="line"><span class="hljs-comment">-如果p,q是命题,则它们的蕴含是一个命题,记作p=&gt;q; "=&gt;"称为蕴含联结词；</span></span><br><span class="line"><span class="hljs-comment">-所有的命题由以上规则经过有限步生成。</span></span><br><span class="line"><span class="hljs-comment">所以,命题的集合是一个归纳定义的集合,可以用代数类型描述：</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">data</span> <span class="hljs-type">Prop</span>=<span class="hljs-type">Const</span> <span class="hljs-type">Bool</span></span></span><br><span class="line">    | <span class="hljs-type">Var</span> <span class="hljs-type">Char</span></span><br><span class="line">    | <span class="hljs-type">Not</span> <span class="hljs-type">Prop</span></span><br><span class="line">    | <span class="hljs-type">And</span> <span class="hljs-type">Prop</span> <span class="hljs-type">Prop</span></span><br><span class="line">    | <span class="hljs-type">Or</span> <span class="hljs-type">Prop</span> <span class="hljs-type">Prop</span></span><br><span class="line">    | <span class="hljs-type">Imply</span> <span class="hljs-type">Prop</span> <span class="hljs-type">Prop</span></span><br><span class="line">    <span class="hljs-keyword">deriving</span> <span class="hljs-type">Eq</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">习题1</span></span><br><span class="line"><span class="hljs-comment">试将类型Prop定义成类Show的特例,使得Prop中元素能够显示成定义中我们习惯的表示。</span></span><br><span class="line"><span class="hljs-comment">例如,Var 'A',And (Var 'P') (Var 'Q')分别显示成A和P&amp;&amp;Q等。</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">instance</span> <span class="hljs-type">Show</span> <span class="hljs-type">Prop</span> <span class="hljs-keyword">where</span></span></span><br><span class="line">    show (<span class="hljs-type">Const</span> <span class="hljs-type">True</span>)=<span class="hljs-string">"True"</span></span><br><span class="line">    show (<span class="hljs-type">Const</span> <span class="hljs-type">False</span>)=<span class="hljs-string">"False"</span></span><br><span class="line">    show (<span class="hljs-type">Var</span> x)=[x]</span><br><span class="line">    show (<span class="hljs-type">Not</span> x)=<span class="hljs-string">"~"</span>++show x</span><br><span class="line">    show (<span class="hljs-type">And</span> x y)=(show x)++<span class="hljs-string">"&amp;&amp;"</span>++(show y)</span><br><span class="line">    show (<span class="hljs-type">Or</span> x y)=(show x)++<span class="hljs-string">"||"</span>++(show y)</span><br><span class="line">    show (<span class="hljs-type">Imply</span> x y)=(show x)++<span class="hljs-string">"=&gt;"</span>++(show y)</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">习题2</span></span><br><span class="line"><span class="hljs-comment">定义下列值p1,p2,p3::Prop</span></span><br><span class="line"><span class="hljs-comment">使得它们个表示下列命题:</span></span><br><span class="line"><span class="hljs-comment">A&amp;&amp;~A</span></span><br><span class="line"><span class="hljs-comment">A||~A</span></span><br><span class="line"><span class="hljs-comment">A=&gt;(A&amp;&amp;B)</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">p1</span>=<span class="hljs-type">And</span> (<span class="hljs-type">Var</span> '<span class="hljs-type">A'</span>) (<span class="hljs-type">Not</span> (<span class="hljs-type">Var</span> '<span class="hljs-type">A'</span>))</span><br><span class="line"><span class="hljs-title">p2</span>=<span class="hljs-type">Or</span> (<span class="hljs-type">Var</span> '<span class="hljs-type">A'</span>) (<span class="hljs-type">Not</span> (<span class="hljs-type">Var</span> '<span class="hljs-type">A'</span>))</span><br><span class="line"><span class="hljs-title">p3</span>=<span class="hljs-type">Imply</span> (<span class="hljs-type">Var</span> '<span class="hljs-type">A'</span>) (<span class="hljs-type">And</span> (<span class="hljs-type">Var</span> '<span class="hljs-type">A'</span>) (<span class="hljs-type">Var</span> '<span class="hljs-type">B'</span>))</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">二、命题真值表</span></span><br><span class="line"><span class="hljs-comment">一个命题或者真,或者假。</span></span><br><span class="line"><span class="hljs-comment">例如,不包含变元的命题T表示真命题,命 题F表示假命题。</span></span><br><span class="line"><span class="hljs-comment">包含变元的命题的真假依赖于变元表示命题的真假,</span></span><br><span class="line"><span class="hljs-comment">所以,一个命题可以看作它包含的变元的函数,称为真值函数,</span></span><br><span class="line"><span class="hljs-comment">其中每个变元的取 值为真或者假,分别用TVue和False表示。</span></span><br><span class="line"><span class="hljs-comment">每个命题的取值和其中变元的关系可以用一个表来表示,称之为命题函数的真值表。</span></span><br><span class="line"><span class="hljs-comment">以下是命题联结词的真值表：</span></span><br><span class="line"><span class="hljs-comment">对应任意的命题函数，给定变元的一个代换，根据上述真值表可计算相应的真值。</span></span><br><span class="line"><span class="hljs-comment">例如,命题p3:A=&gt;(A &amp;&amp; B)在代换[('A',True),('B',False)]的真值是False。</span></span><br><span class="line"><span class="hljs-comment">我们可以用下列类型表示代换：</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-type">Subst</span>=[(<span class="hljs-type">Char</span>,<span class="hljs-type">Bool</span>)]</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">习题3</span></span><br><span class="line"><span class="hljs-comment">试根据以上解释定义函数:</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">eval</span>::<span class="hljs-type">Subst</span>-&gt;<span class="hljs-type">Prop</span>-&gt;<span class="hljs-type">Bool</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">例如</span></span><br><span class="line"><span class="hljs-comment">&gt;eval [('A',True),('B',False)] p3</span></span><br><span class="line"><span class="hljs-comment">False</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">eval</span> sub (<span class="hljs-type">Const</span> p)=p</span><br><span class="line"><span class="hljs-title">eval</span> sub (<span class="hljs-type">Var</span> p)=(getBool sub p) <span class="hljs-keyword">where</span></span><br><span class="line">    getBool sub x=</span><br><span class="line">        <span class="hljs-keyword">if</span> length xs &gt;<span class="hljs-number">1</span></span><br><span class="line">            <span class="hljs-keyword">then</span> error <span class="hljs-string">"Variable has more than 2 values."</span></span><br><span class="line">            <span class="hljs-keyword">else</span> head xs</span><br><span class="line">        <span class="hljs-keyword">where</span> xs=[k|(y,k)&lt;-sub,x==y]</span><br><span class="line"><span class="hljs-title">eval</span> sub (<span class="hljs-type">Not</span> p)=not (eval sub p)</span><br><span class="line"><span class="hljs-title">eval</span> sub (<span class="hljs-type">And</span> p q)=(eval sub p)&amp;&amp;(eval sub q)</span><br><span class="line"><span class="hljs-title">eval</span> sub (<span class="hljs-type">Or</span> p q)=(eval sub p)||(eval sub q)</span><br><span class="line"><span class="hljs-title">eval</span> sub (<span class="hljs-type">Imply</span> p q)=((eval sub p)&amp;&amp;(eval sub q))||(not (eval sub p))</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">习题4</span></span><br><span class="line"><span class="hljs-comment">试定义下列函数：</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">vars</span>::<span class="hljs-type">Prop</span>-&gt;[<span class="hljs-type">Char</span>]</span><br><span class="line"><span class="hljs-title">substs</span>::<span class="hljs-type">Prop</span>-&gt;[<span class="hljs-type">Subst</span>]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">其中vars p给出命题p中出现的所有不同变元,substs p给出命题p中变元的所有可能代换。例如</span></span><br><span class="line"><span class="hljs-comment">vars p3=['A','B']</span></span><br><span class="line"><span class="hljs-comment">substs p3=</span></span><br><span class="line"><span class="hljs-comment">    [</span></span><br><span class="line"><span class="hljs-comment">        [('A',True),('B',True)],</span></span><br><span class="line"><span class="hljs-comment">        [('A',True),('B',False)],</span></span><br><span class="line"><span class="hljs-comment">        [('A',False),('B',True)],</span></span><br><span class="line"><span class="hljs-comment">        [('A',False),('B',False)]</span></span><br><span class="line"><span class="hljs-comment">    ]</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">vars</span> (<span class="hljs-type">Const</span> x)=[]</span><br><span class="line"><span class="hljs-title">vars</span> (<span class="hljs-type">Var</span> x)=[x]</span><br><span class="line"><span class="hljs-title">vars</span> (<span class="hljs-type">Not</span> p)=vars p</span><br><span class="line"><span class="hljs-title">vars</span> (<span class="hljs-type">And</span> p q)=nub((vars p)++(vars q))</span><br><span class="line"><span class="hljs-title">vars</span> (<span class="hljs-type">Or</span> p q)=nub((vars p)++(vars q))</span><br><span class="line"><span class="hljs-title">vars</span> (<span class="hljs-type">Imply</span> p q)=nub((vars p)++(vars q))</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">substs</span> p=getsub (vars p) <span class="hljs-keyword">where</span></span><br><span class="line">    getsub []=[]</span><br><span class="line">    getsub [x]=[[(x,<span class="hljs-type">True</span>)]]++[[(x,<span class="hljs-type">False</span>)]]</span><br><span class="line">    getsub (x:xs)=[(x,<span class="hljs-type">True</span>):a|a&lt;-getsub(xs)]++[(x,<span class="hljs-type">False</span>):a|a&lt;-getsub(xs)]</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">三、定义一个判断命题是否永真的函数</span></span><br><span class="line"><span class="hljs-comment">如果一个命题函数在变元的任意代换下真值是True,则称之为永真式。</span></span><br><span class="line"><span class="hljs-comment">例如,命题p2是永真式。</span></span><br><span class="line"><span class="hljs-comment">试定义判定一个命题是否永真式的函数,并说明你的函 数定义的正确性：</span></span><br><span class="line"><span class="hljs-comment">习题5</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">isTaut</span>::<span class="hljs-type">Prop</span>-&gt;<span class="hljs-type">Bool</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">例如</span></span><br><span class="line"><span class="hljs-comment">&gt;isTaut p1</span></span><br><span class="line"><span class="hljs-comment">False</span></span><br><span class="line"><span class="hljs-comment">&gt;isTaut p2</span></span><br><span class="line"><span class="hljs-comment">True</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-title">isTaut</span> p=testisTaut p (substs p) <span class="hljs-keyword">where</span></span><br><span class="line">    testisTaut p [x]=(eval x p)</span><br><span class="line">    testisTaut p (x:xs)=<span class="hljs-keyword">if</span> (eval x p) <span class="hljs-keyword">then</span> testisTaut p xs <span class="hljs-keyword">else</span> <span class="hljs-type">False</span></span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-03T15:00:00.000Z">2018-12-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/函数程序设计实验/">函数程序设计实验</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 分钟 读完 (大约 546 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/03/2018-12-03-词频统计/">函数程序设计实验十一：词频统计</a>
            
        </h1>
        <div class="content">
            <figure class="highlight haskell hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment">&#123;-</span></span><br><span class="line"><span class="hljs-comment">给定一个文本文件，构建文件中所有单词及其出现次数的词频表，并将词频表按照格式要求写到一个文件中。</span></span><br><span class="line"><span class="hljs-comment">词频表按照单词出现次数从高到低次序排列，出现次数相同的按照字典序排列。第十四周上课提交。</span></span><br><span class="line"><span class="hljs-comment">输入文件样例（见text0.txt ）：</span></span><br><span class="line"><span class="hljs-comment">Mind-controlled Mouse</span></span><br><span class="line"><span class="hljs-comment">The three study participants are part of a clinical trial to test a brain-computer interface (BCI) called BrainGate. BrainGate translates participant’s brain activity into commands that a computer can understand. In the new study, researchers first implanted microelectrode arrays into the area of the brain that governs hand movement. The participants trained the system by thinking about moving their hands, something the BCI learned to translate into actions on the screen.</span></span><br><span class="line"><span class="hljs-comment">输出文件样例（见text0Fre.txt ）：</span></span><br><span class="line"><span class="hljs-comment">the:8</span></span><br><span class="line"><span class="hljs-comment">a:3</span></span><br><span class="line"><span class="hljs-comment">into:3</span></span><br><span class="line"><span class="hljs-comment">bci:2</span></span><br><span class="line"><span class="hljs-comment">brain:2</span></span><br><span class="line"><span class="hljs-comment">braingate:2</span></span><br><span class="line"><span class="hljs-comment">of:2</span></span><br><span class="line"><span class="hljs-comment">participants:2</span></span><br><span class="line"><span class="hljs-comment">study:2</span></span><br><span class="line"><span class="hljs-comment">that:2</span></span><br><span class="line"><span class="hljs-comment">to:2</span></span><br><span class="line"><span class="hljs-comment">about:1</span></span><br><span class="line"><span class="hljs-comment">actions:1</span></span><br><span class="line"><span class="hljs-comment">activity:1</span></span><br><span class="line"><span class="hljs-comment">are:1</span></span><br><span class="line"><span class="hljs-comment">area:1</span></span><br><span class="line"><span class="hljs-comment">arrays:1</span></span><br><span class="line"><span class="hljs-comment">brain-computer:1</span></span><br><span class="line"><span class="hljs-comment">by:1</span></span><br><span class="line"><span class="hljs-comment">called:1</span></span><br><span class="line"><span class="hljs-comment">can:1</span></span><br><span class="line"><span class="hljs-comment">clinical:1</span></span><br><span class="line"><span class="hljs-comment">commands:1</span></span><br><span class="line"><span class="hljs-comment">computer:1</span></span><br><span class="line"><span class="hljs-comment">first:1</span></span><br><span class="line"><span class="hljs-comment">governs:1</span></span><br><span class="line"><span class="hljs-comment">hand:1</span></span><br><span class="line"><span class="hljs-comment">hands:1</span></span><br><span class="line"><span class="hljs-comment">implanted:1</span></span><br><span class="line"><span class="hljs-comment">in:1</span></span><br><span class="line"><span class="hljs-comment">interface:1</span></span><br><span class="line"><span class="hljs-comment">learned:1</span></span><br><span class="line"><span class="hljs-comment">microelectrode:1</span></span><br><span class="line"><span class="hljs-comment">mind-controlled:1</span></span><br><span class="line"><span class="hljs-comment">mouse:1</span></span><br><span class="line"><span class="hljs-comment">movement:1</span></span><br><span class="line"><span class="hljs-comment">moving:1</span></span><br><span class="line"><span class="hljs-comment">new:1</span></span><br><span class="line"><span class="hljs-comment">on:1</span></span><br><span class="line"><span class="hljs-comment">part:1</span></span><br><span class="line"><span class="hljs-comment">participant:1</span></span><br><span class="line"><span class="hljs-comment">researchers:1</span></span><br><span class="line"><span class="hljs-comment">screen:1</span></span><br><span class="line"><span class="hljs-comment">something:1</span></span><br><span class="line"><span class="hljs-comment">system:1</span></span><br><span class="line"><span class="hljs-comment">test:1</span></span><br><span class="line"><span class="hljs-comment">their:1</span></span><br><span class="line"><span class="hljs-comment">thinking:1</span></span><br><span class="line"><span class="hljs-comment">three:1</span></span><br><span class="line"><span class="hljs-comment">trained:1</span></span><br><span class="line"><span class="hljs-comment">translate:1</span></span><br><span class="line"><span class="hljs-comment">translates:1</span></span><br><span class="line"><span class="hljs-comment">trial:1</span></span><br><span class="line"><span class="hljs-comment">understand:1</span></span><br><span class="line"><span class="hljs-comment">建议：</span></span><br><span class="line"><span class="hljs-comment">main ::IO </span></span><br><span class="line"><span class="hljs-comment">main = do</span></span><br><span class="line"><span class="hljs-comment">   ls &lt;- readFile inputfile</span></span><br><span class="line"><span class="hljs-comment">   let result = string2listofpairs ls</span></span><br><span class="line"><span class="hljs-comment">   let formatedResult = formatting result</span></span><br><span class="line"><span class="hljs-comment">   writeFile formatedResult</span></span><br><span class="line"><span class="hljs-comment">其中</span></span><br><span class="line"><span class="hljs-comment">string2listofpairs :: String -&gt;[(String, Int)]  -- 计算输入串中所有单词及其频率，并排序</span></span><br><span class="line"><span class="hljs-comment">formatting :: [(String, Int)] -&gt;String  -- 按照要求将词频列表转换为输出格式串</span></span><br><span class="line"><span class="hljs-comment">几点注意事项：</span></span><br><span class="line"><span class="hljs-comment">1. 大小写不敏感，所有结果用小写字母；</span></span><br><span class="line"><span class="hljs-comment">2. It's 视为单词 it；</span></span><br><span class="line"><span class="hljs-comment">3. brain-computer 视为一个单词。</span></span><br><span class="line"><span class="hljs-comment">-&#125;</span></span><br><span class="line"><span class="hljs-keyword">import</span> System.IO</span><br><span class="line"><span class="hljs-keyword">import</span> Text.Printf</span><br><span class="line"><span class="hljs-keyword">import</span> Data.Char</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">inputfile</span>=<span class="hljs-string">"text0.txt"</span></span><br><span class="line"><span class="hljs-title">outputfile</span>=<span class="hljs-string">"text0Fre.txt"</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-title">main</span>::<span class="hljs-type">IO</span>()</span><br><span class="line"><span class="hljs-title">main</span>=<span class="hljs-keyword">do</span></span><br><span class="line">   ls&lt;-readFile inputfile</span><br><span class="line">   <span class="hljs-keyword">let</span> result = string2listofpairs ls</span><br><span class="line">   <span class="hljs-keyword">let</span> formatedResult=formatting result</span><br><span class="line">   writeFile outputfile formatedResult</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="hljs-title">string2listofpairs</span>::<span class="hljs-type">String</span>-&gt;[(<span class="hljs-type">String</span>,<span class="hljs-type">Int</span>)]</span><br><span class="line"><span class="hljs-title">string2listofpairs</span> s=sortG(cal(group(sortS(words(tolow s)))))</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">sortS</span>::[<span class="hljs-type">String</span>]-&gt;[<span class="hljs-type">String</span>]</span><br><span class="line"><span class="hljs-title">sortS</span> []=[]</span><br><span class="line"><span class="hljs-title">sortS</span> (x:xs)=(sortS[y|y&lt;-xs,y&lt;x])++[x]++(sortS[y|y&lt;-xs,x&lt;=y])</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">cmp</span>::(<span class="hljs-type">String</span>,<span class="hljs-type">Int</span>)-&gt;(<span class="hljs-type">String</span>,<span class="hljs-type">Int</span>)-&gt;<span class="hljs-type">Bool</span></span><br><span class="line"><span class="hljs-title">cmp</span> (a,b) (c,d)=</span><br><span class="line">    <span class="hljs-keyword">if</span> b/=d</span><br><span class="line">        <span class="hljs-keyword">then</span> b&gt;d</span><br><span class="line">        <span class="hljs-keyword">else</span> a&lt;c</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">sortG</span>::[(<span class="hljs-type">String</span>,<span class="hljs-type">Int</span>)]-&gt;[(<span class="hljs-type">String</span>,<span class="hljs-type">Int</span>)]</span><br><span class="line"><span class="hljs-title">sortG</span> []=[]</span><br><span class="line"><span class="hljs-title">sortG</span> (x:xs)=(sortG[y|y&lt;-xs,cmp y x])++[x]++(sortG[y|y&lt;-xs,cmp y x==<span class="hljs-type">False</span>])</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">group</span>::[<span class="hljs-type">String</span>]-&gt;[[<span class="hljs-type">String</span>]]</span><br><span class="line"><span class="hljs-title">group</span> []=[]</span><br><span class="line"><span class="hljs-title">group</span> (x:xs)=[[x]++[y|y&lt;-xs,y==x]]++(group[y|y&lt;-xs,y/=x])</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">tolow</span>::<span class="hljs-type">String</span>-&gt;<span class="hljs-type">String</span></span><br><span class="line"><span class="hljs-title">tolow</span> []=[]</span><br><span class="line"><span class="hljs-title">tolow</span> (x:xs)=</span><br><span class="line">    <span class="hljs-keyword">if</span> (isSpace x)||(isAlphaNum x)||(x=='-')</span><br><span class="line">        <span class="hljs-keyword">then</span> ((toLower x):(tolow xs))</span><br><span class="line">        <span class="hljs-keyword">else</span> tolow xs</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">cal</span>::[[<span class="hljs-type">String</span>]]-&gt;[(<span class="hljs-type">String</span>,<span class="hljs-type">Int</span>)]</span><br><span class="line"><span class="hljs-title">cal</span> []=[]</span><br><span class="line"><span class="hljs-title">cal</span> (x:xs)=((x!!<span class="hljs-number">0</span>,length x):(cal xs))</span><br><span class="line"></span><br><span class="line"><span class="hljs-title">formatting</span> :: [(<span class="hljs-type">String</span>, <span class="hljs-type">Int</span>)] -&gt;<span class="hljs-type">String</span>  <span class="hljs-comment">-- 按照要求将词频列表转换为输出格式串</span></span><br><span class="line"><span class="hljs-title">formatting</span> []=[]</span><br><span class="line"><span class="hljs-title">formatting</span> ((a,b):xs)=(printf <span class="hljs-string">"%s:%d\n"</span> a b)++(formatting xs)</span><br></pre></td></tr></table></figure>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-03T00:30:00.000Z">2018-12-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/学习笔记/">学习笔记</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    44 分钟 读完 (大约 6659 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/03/2018-12-03-概率论与数理统计/">概率论与数理统计</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p><strong>参考</strong><a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes" target="_blank" rel="noopener">斯坦福大学2014（吴恩达）机器学习教程中文笔记</a>，感谢编者黄海广博士。</p>
</blockquote>
<h1 id="概率论的基本概念"><a href="#概率论的基本概念" class="headerlink" title="概率论的基本概念"></a>概率论的基本概念</h1><h2 id="随机试验"><a href="#随机试验" class="headerlink" title="随机试验"></a>随机试验</h2><p>在概率论中，将具有以下三个特点的事件称为<strong>随机试验</strong>：</p>
<ul>
<li>可以在相同的条件下重复进行</li>
<li>每次试验的可能结果不止一个，并且事先能够明确事件的所有可能结果</li>
<li>进行一次试验前不能确定哪个结果会出现</li>
</ul>
<h2 id="样本空间、随机事件"><a href="#样本空间、随机事件" class="headerlink" title="样本空间、随机事件"></a>样本空间、随机事件</h2><h3 id="样本空间"><a href="#样本空间" class="headerlink" title="样本空间"></a>样本空间</h3><p>随机事件$E$的所有基本结果组成的集合为$E$的<strong>样本空间</strong>，记为$S$。样本空间的元素，即$E$的每个结果，称为样本点或基本事件，有时记为$\omega$。</p>
<h3 id="随机事件"><a href="#随机事件" class="headerlink" title="随机事件"></a>随机事件</h3><p>称试验$E$的样本空间$S$的子集为$E$的<strong>随机事件</strong>，简称<strong>事件</strong>。在每次试验中，当且仅当这一子集中的一个样本点出现时，称这一<strong>事件发生</strong>。<br>特别地，由一个样本点组成的单点集，称为<strong>基本事件</strong>；样本空间$S$包含所有的基本点，每次试验中总是发生，称为<strong>必然事件</strong>，记为$\Omega$；空集$\varnothing$每次都不可能发生，称为<strong>不可能事件</strong>。</p>
<h3 id="事件间的关系与事件的运算"><a href="#事件间的关系与事件的运算" class="headerlink" title="事件间的关系与事件的运算"></a>事件间的关系与事件的运算</h3><h4 id="子事件"><a href="#子事件" class="headerlink" title="子事件"></a>子事件</h4><p>$A \subset B$，若$A$发生，则$B$发生。</p>
<h4 id="相等事件"><a href="#相等事件" class="headerlink" title="相等事件"></a>相等事件</h4><p>$A = B$，即$A \subset B$，且$B \subset A$ 。</p>
<h4 id="和事件"><a href="#和事件" class="headerlink" title="和事件"></a>和事件</h4><p>$A\bigcup B$（或$A + B$），$A$与$B$中至少有一个发生。</p>
<h4 id="差事件"><a href="#差事件" class="headerlink" title="差事件"></a>差事件</h4><p>$A - B={x|x\in A,x\not\in B}$，$A$发生但$B$不发生。</p>
<h4 id="积事件"><a href="#积事件" class="headerlink" title="积事件"></a>积事件</h4><p>$A\bigcap B$（或${AB}$），$A$与$B$同时发生。</p>
<h4 id="互斥事件（互不相容）"><a href="#互斥事件（互不相容）" class="headerlink" title="互斥事件（互不相容）"></a>互斥事件（互不相容）</h4><p>$A\bigcap B$=$\varnothing$。基本事件是两两互斥的。</p>
<h4 id="互逆事件（对立事件）"><a href="#互逆事件（对立事件）" class="headerlink" title="互逆事件（对立事件）"></a>互逆事件（对立事件）</h4><p>$A\bigcap B=\varnothing ,A\bigcup B=\Omega ,A=\overline{B},B=\overline{A}$</p>
<h4 id="完全事件组"><a href="#完全事件组" class="headerlink" title="完全事件组"></a>完全事件组</h4><p>${ {A}<em>{1} }{ {A}</em>{2} }\cdots { {A}<em>{n} }$两两互斥，且和事件为必然事件，即$A_i\bigcap A_j=\varnothing,i\ne j,\bigcap</em>{i=1}^n=\Omega$</p>
<h4 id="交换律"><a href="#交换律" class="headerlink" title="交换律"></a>交换律</h4><p>$A\bigcup B=B\bigcup A,A\bigcap B=B\bigcap A$</p>
<h4 id="结合律"><a href="#结合律" class="headerlink" title="结合律"></a>结合律</h4><p>$(A\bigcup B)\bigcup C=A\bigcup (B\bigcup C)$</p>
<h4 id="分配律"><a href="#分配律" class="headerlink" title="分配律"></a>分配律</h4><p>$(A\bigcap B)\bigcap C=A\bigcap (B\bigcap C)$</p>
<h4 id="德·摩根律"><a href="#德·摩根律" class="headerlink" title="德·摩根律"></a>德·摩根律</h4><p>$\overline{A\bigcup B}=\overline{A}\bigcap \overline{B}$<br>$\overline{A\bigcap B}=\overline{A}\bigcup \overline{B}$</p>
<h2 id="频率与概率"><a href="#频率与概率" class="headerlink" title="频率与概率"></a>频率与概率</h2><h3 id="频率"><a href="#频率" class="headerlink" title="频率"></a>频率</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>相同条件下进行了n次试验，在这n次试验当中，事件A发生的频率$n_A$称为事件A的频数，比值$f_n(A)=\frac{n_A}{n}$称为事件A发生的频率。</p>
<h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul>
<li>$0\leq f_n(A)\leq 1$</li>
<li>$f_n(S)=1$</li>
<li>有限可加性：若$A_1,A_2,\ldots,a_k$是两两互不相容的事件，则$f_n(A_1\bigcup A_2\bigcup\ldots\bigcup A_k)=f_n(A_1)+f_n(A_2)+\ldots+f_n(A_k)$</li>
</ul>
<h3 id="概率"><a href="#概率" class="headerlink" title="概率"></a>概率</h3><h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><p>设E是随机试验，S是它的样本空间，对于E的每一事件A赋予一个实数$P(A)$，称为事件A的概率，如果集合函数$P(\cdot)$满足下列条件：</p>
<h5 id="非负性"><a href="#非负性" class="headerlink" title="非负性"></a>非负性</h5><p>对于每一事件A，有$P(A)\ge 0$</p>
<h5 id="规范性"><a href="#规范性" class="headerlink" title="规范性"></a>规范性</h5><p>对于必然事件S，有$P(S)=1$</p>
<h5 id="可列可加性"><a href="#可列可加性" class="headerlink" title="可列可加性"></a>可列可加性</h5><p>设$A_1,A_2,\ldots$是两两互不相容的事件，则$P(A_1\bigcup A_2\bigcup\ldots)=P(A_1)+P(A_2)+\ldots$</p>
<h4 id="性质-1"><a href="#性质-1" class="headerlink" title="性质"></a>性质</h4><ul>
<li>$P(\varnothing)=0$</li>
<li>有限可加性：$P(A_1\bigcup A_2\bigcup\ldots\bigcup A_n)=P(A_1)+P(A_2)+\ldots+P(A_n)$，可由上一条性质和可列可加性推出。</li>
<li>若$A\subset B$，则$P(B-A)=P(B)-P(A)\ge 0$</li>
<li>$P(A)\le 1$</li>
<li>逆事件的概率：$P(\overline{A})=1-P(A)$</li>
<li>加法公式：$P(A\bigcup B)=P(A)+P(B)-P(AB)$，推广到三元：$P(A\bigcup B\bigcup C)=P(A)+P(B)+P(C)-P(AB)-P(BC)-P(AC)+P(ABC)$</li>
<li>$P(A-B)=P(A)-P(AB)$</li>
<li>$P(A\overline{B})=P(A)-P(AB)$</li>
<li>$P(A)=P(AB)+P(A\overline{B})$</li>
<li>$P(A\bigcup B)=P(A)+P(\overline{A}B)=P(AB)+P(A\overline{B})+P(\overline{A}B)$</li>
</ul>
<h2 id="等可能概型（古典概型）"><a href="#等可能概型（古典概型）" class="headerlink" title="等可能概型（古典概型）"></a>等可能概型（古典概型）</h2><p>具备以下两个特点的试验被称作等可能概型（古典概型）：</p>
<ul>
<li>试验的样本空间只包含有限个元素</li>
<li>试验中每个基本事件发生的可能性相同</li>
</ul>
<h3 id="古典概型计算公式"><a href="#古典概型计算公式" class="headerlink" title="古典概型计算公式"></a>古典概型计算公式</h3><p>$P(A)=\frac{A包含的基本事件数}{S包含的事件数}$</p>
<h3 id="实际推断原理"><a href="#实际推断原理" class="headerlink" title="实际推断原理"></a>实际推断原理</h3><p>概率很小的事件在一次试验中实际上几乎是不发生的。</p>
<h2 id="条件概率"><a href="#条件概率" class="headerlink" title="条件概率"></a>条件概率</h2><h3 id="条件概率-1"><a href="#条件概率-1" class="headerlink" title="条件概率"></a>条件概率</h3><p>$P(B|A)=\frac{P(AB)}{P(A)}$,表示$A$发生的条件下，$B$发生的概率。<br>条件概率$P(\centerdot |B)$满足概率的所有性质，例如：</p>
<ul>
<li>$P({ {\overline{A} }<em>{1} }|B)=1-P({ {A}</em>{1} }|B)$</li>
<li>$P({ {A}<em>{1} }\bigcup { {A}</em>{2} }|B)=P({ {A}<em>{1} }|B)+P({ {A}</em>{2} }|B)-P({ {A}<em>{1} }{ {A}</em>{2} }|B)$</li>
<li>$P({ {A}<em>{1} }{ {A}</em>{2} }|B)=P({ {A}<em>{1} }|B)P({ {A}</em>{2} }|{ {A}_{1} }B)$</li>
</ul>
<h4 id="非负性-1"><a href="#非负性-1" class="headerlink" title="非负性"></a>非负性</h4><p>对于每一事件$B$，有$P(B|A)\ge 0$</p>
<h4 id="规范性-1"><a href="#规范性-1" class="headerlink" title="规范性"></a>规范性</h4><p>对于必然事件$S$，有$P(S|A)=1$</p>
<h4 id="可列可加性-1"><a href="#可列可加性-1" class="headerlink" title="可列可加性"></a>可列可加性</h4><p>$P(\underset{i=1}{\overset{\infty}{\mathop{\bigcup } } },{ {B}<em>{i} }|A)=\sum</em>{i=1}^\infty P(B_i|A)$</p>
<h3 id="乘法定理"><a href="#乘法定理" class="headerlink" title="乘法定理"></a>乘法定理</h3><p>$P({ {A}<em>{1} }{ {A}</em>{2} })=P({ {A}<em>{1} })P({ {A}</em>{2} }|{ {A}<em>{1} })=P({ {A}</em>{2} })P({ {A}<em>{1} }|{ {A}</em>{2} })$<br>$P({ {A}<em>{1} }{ {A}</em>{2} }\cdots { {A}<em>{n} })=P({ {A}</em>{1} })P({ {A}<em>{2} }|{ {A}</em>{1} })P({ {A}<em>{3} }|{ {A}</em>{1} }{ {A}<em>{2} })\cdots P({ {A}</em>{n} }|{ {A}<em>{1} }{ {A}</em>{2} }\cdots { {A}_{n-1} })$</p>
<h3 id="全概率公式和贝叶斯公式"><a href="#全概率公式和贝叶斯公式" class="headerlink" title="全概率公式和贝叶斯公式"></a>全概率公式和贝叶斯公式</h3><h4 id="全概率公式"><a href="#全概率公式" class="headerlink" title="全概率公式"></a>全概率公式</h4><p>$P(A)=\sum\limits_{i=1}^{n}{P(A|{ {B}<em>{i} })P({ {B}</em>{i} }),{ {B}<em>{i} }{ {B}</em>{j} } }=\varnothing ,i\ne j,\underset{i=1}{\overset{n}{\mathop{\bigcup } } },{ {B}_{i} }=\Omega$</p>
<h4 id="Bayes（贝叶斯）公式"><a href="#Bayes（贝叶斯）公式" class="headerlink" title="Bayes（贝叶斯）公式"></a>Bayes（贝叶斯）公式</h4><p>$P({ {B}<em>{j} }|A)=\frac{P(A|{ {B}</em>{j} })P({ {B}<em>{j} })}{\sum\limits</em>{i=1}^{n}{P(A|{ {B}<em>{i} })P({ {B}</em>{i} })} },j=1,2,\cdots ,n$<br>上述公式中事件${ {B}_{i} }$的个数可为可列个。</p>
<h2 id="独立性"><a href="#独立性" class="headerlink" title="独立性"></a>独立性</h2><p>若干个事件，如果对于其中任意个事件，它们的积事件的概率都等于各事件概率的积，则称这几个事件相互独立。</p>
<ul>
<li>$A$与$B$相互独立$\Leftrightarrow P(AB)=P(A)P(B)$</li>
<li>$A$，$B$，$C$两两独立$\Leftrightarrow P(AB)=P(A)P(B)$;$P(BC)=P(B)P(C)$;$P(AC)=P(A)P(C)$;</li>
<li>$A$，$B$，$C$相互独立$\Leftrightarrow P(AB)=P(A)P(B)$;$P(BC)=P(B)P(C)$;$P(AC)=P(A)P(C)$;$P(ABC)=P(A)P(B)P(C)$</li>
</ul>
<h3 id="独立重复试验"><a href="#独立重复试验" class="headerlink" title="独立重复试验"></a>独立重复试验</h3><p>将某试验独立重复$n$次，若每次试验中事件A发生的概率为$p$，则$n$次试验中$A$发生$k$次的概率为：$P{X=k}=C_{n}^{k}{ {p}^{k} }{ {(1-p)}^{n-k} }$</p>
<h3 id="性质-2"><a href="#性质-2" class="headerlink" title="性质"></a>性质</h3><ul>
<li>若${ {A}<em>{1} },{ {A}</em>{2} },\cdots ,{ {A}<em>{n} }$相互独立，则$P(\bigcap\limits</em>{i=1}^{n}{ { {A}<em>{i} } })=\prod\limits</em>{i=1}^{n}{P({ {A}<em>{i} })},$<br>$P(\bigcup\limits</em>{i=1}^{n}{ { {A}<em>{i} } })=\prod\limits</em>{i=1}^{n}{(1-P({ {A}_{i} }))}$</li>
<li>若${ {A}<em>{1} },{ {A}</em>{2} },\cdots ,{ {A}<em>{m} },{ {B}</em>{1} },{ {B}<em>{2} },\cdots ,{ {B}</em>{n} }$相互独立，则$f({ {A}<em>{1} },{ {A}</em>{2} },\cdots ,{ {A}<em>{m} })$与$g({ {B}</em>{1} },{ {B}<em>{2} },\cdots ,{ {B}</em>{n} })$也相互独立，其中$f(\centerdot ),g(\centerdot )$分别表示对相应事件做任意事件运算后所得的事件，另外，概率为1（或0）的事件与任何事件相互独立。</li>
</ul>
<h3 id="互斥、互逆与独立性之间的关系"><a href="#互斥、互逆与独立性之间的关系" class="headerlink" title="互斥、互逆与独立性之间的关系"></a>互斥、互逆与独立性之间的关系</h3><p>$A$与$B$互逆$\Rightarrow$ $A$与$B$互斥，但反之不成立，$A$与$B$互斥（或互逆）且均非零概率事件$\Rightarrow$ $A$与$B$不独立。</p>
<h1 id="随机变量及其分布"><a href="#随机变量及其分布" class="headerlink" title="随机变量及其分布"></a>随机变量及其分布</h1><h2 id="随机变量"><a href="#随机变量" class="headerlink" title="随机变量"></a>随机变量</h2><p>设随机试验的样本空间为$S={e}$，称定义在样本空间$S$上的实值单值函数$X=X(e)$为随机变量。</p>
<h2 id="离散型随机变量及其分布律"><a href="#离散型随机变量及其分布律" class="headerlink" title="离散型随机变量及其分布律"></a>离散型随机变量及其分布律</h2><p>取值有限或可列无限的随机变量称为<strong>离散型随机变量</strong>。<br>设X的所有取值为$x_k(k=1,2,\ldots)$，称X取各个事件的概率$P{X=x_k}=p_k,k=1,2,\ldots$为离散型随机变量X的分布律，也可以写成表格形式：</p>
<table>
<thead>
<tr>
<th>$X$</th>
<th>$x_1$</th>
<th>$x_2$</th>
<th>$\ldots$</th>
<th>$x_n$</th>
<th>$\ldots$</th>
</tr>
</thead>
<tbody><tr>
<td>$p_k$</td>
<td>$p_1$</td>
<td>$p_2$</td>
<td>$\ldots$</td>
<td>$p_n$</td>
<td>$\ldots$</td>
</tr>
</tbody></table>
<p>其中，$p_k$满足：</p>
<ul>
<li>$p_k\ge 0,k=1,2,\ldots$</li>
<li>$\sum_{k=1}^\infty p_k=1$</li>
</ul>
<h3 id="0-1分布（两点分布）"><a href="#0-1分布（两点分布）" class="headerlink" title="0-1分布（两点分布）"></a>0-1分布（两点分布）</h3><p>$P{X=k} = p^{k}{(1 - p)}^{1 - k},k = 0,1$，则称X服从以p为参数的0-1分布（两点分布）</p>
<h3 id="伯努利试验、二项分布"><a href="#伯努利试验、二项分布" class="headerlink" title="伯努利试验、二项分布"></a>伯努利试验、二项分布</h3><h4 id="Binomial-Distribution（二项分布）"><a href="#Binomial-Distribution（二项分布）" class="headerlink" title="Binomial Distribution（二项分布）"></a>Binomial Distribution（二项分布）</h4><p>背景：n重Bernoulli 试验中，每次试验感兴趣的事件A 在 n 次试验中发生的次数 —— X是一离散型随机变量。<br>若$P(A)=p$,则$P_n(k)=P{X=k}=C_n^kp^k(1-p)^{n-k},k=0,1\ldots n$称X服从参数为$n, p$的二项分布，记作$X\sim B(n,p)$<br>特别地，$0 – 1$分布是$n=1$的二项分布.</p>
<h4 id="Poisson-（泊松）分布"><a href="#Poisson-（泊松）分布" class="headerlink" title="Poisson （泊松）分布"></a>Poisson （泊松）分布</h4><p>背景：已知某事发生速率为每单位时间b次，观察时间为T时间单位，X为该观察时间内发生该事的总次数$\lambda=bT$<br>设随机变量X的所有可能值是全体非负整数，若$P{X=k}=e^{-\lambda}\frac{\lambda^k}{k!},k=0,1,\ldots$其中$\lambda&gt;0$是常数，则称 X 服从参数为$\lambda$的Poisson 分布，记作$\pi(\lambda)$或$P(\lambda)$</p>
<h5 id="泊松定理"><a href="#泊松定理" class="headerlink" title="泊松定理"></a>泊松定理</h5><p>可用于泊松分布逼近二项分布。设随机变量X服从二项分布，其分布律为$P{X=K}=C_n^kp^k(1-p)^{n-k}$,又设$np=\lambda$是常数，则有$\lim_{n\to\infty}P{X=K}=e^{-\lambda}\frac{\lambda^k}{k!}$<br>在实际计算中,当$n\ge 20,p\leq 0.05$时，可用上述公式近似计算；而当$n\ge 100,np\leq 10$时，精度更好。</p>
<h4 id="几何分布"><a href="#几何分布" class="headerlink" title="几何分布"></a>几何分布</h4><p>在n次伯努利试验中，试验k次才得到第一次成功的机率。<br>$G(p):P{X=k} = {(1 - p)}^{k - 1}p,0 &lt; p &lt; 1,k = 1,2,\cdots,P{X = m + k|X &gt; m} = P{X=k}$</p>
<h4 id="超几何分布"><a href="#超几何分布" class="headerlink" title="超几何分布"></a>超几何分布</h4><p>设有产品N件，其中次品D件，其余为正品，从中随机地抽取n件。记X为抽到的的次品件数，求X的分布律.<br>此时抽到k件次品的概率为$H(N,M,n):P{X=k} = \frac{C_{M}^{k}C_{N - M}^{n -k} }{C_{N}^{n} },k =0,1,\cdots,min(n,M)$，称X服从超几何分布. 可以证明超几何分布的极限分布就是二项分布.</p>
<h4 id="负二项分布-Pascal分布"><a href="#负二项分布-Pascal分布" class="headerlink" title="负二项分布(Pascal分布)"></a>负二项分布(Pascal分布)</h4><h4 id="离散均匀分布"><a href="#离散均匀分布" class="headerlink" title="离散均匀分布"></a>离散均匀分布</h4><h2 id="随机变量的分布函数"><a href="#随机变量的分布函数" class="headerlink" title="随机变量的分布函数"></a>随机变量的分布函数</h2><h3 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h3><p>$F(x) = P(X \leq x), - \infty &lt; x &lt; + \infty$</p>
<h3 id="性质-3"><a href="#性质-3" class="headerlink" title="性质"></a>性质</h3><ul>
<li>$0 \leq F(x) \leq 1$</li>
<li>$F(x)$单调不减</li>
<li>右连续$F(x) = F(x+0)$</li>
<li>$F( - \infty) = 0,F( + \infty) = 1$</li>
</ul>
<h2 id="连续型随机变量及其概率密度"><a href="#连续型随机变量及其概率密度" class="headerlink" title="连续型随机变量及其概率密度"></a>连续型随机变量及其概率密度</h2><p>概率密度$f(x)$非负可积，且:</p>
<ul>
<li>$f(x) \geq 0$</li>
<li>$\int_{- \infty}^{+\infty}{f(x){dx} = 1}$</li>
<li>$x$为$f(x)$的连续点，则:<br>$f(x) = F’(x)$分布函数$F(x) = \int_{- \infty}^{x}{f(t){dt} }$</li>
</ul>
<h3 id="均匀分布"><a href="#均匀分布" class="headerlink" title="均匀分布"></a>均匀分布</h3><p>设连续型随机变量X具有概率密度<br>$p(x)=\begin{cases}\frac{1}{b-a},a\leq x\leq b,\0,其它\end{cases}$则称X在$(a,b)$上服从均匀分布，记作$X\sim U(a,b)$<br>分布函数$F(x)=\begin{cases}0,x&lt;a\ \frac{x-a}{b-a},a\leq x&lt; b\1,x\ge b\end{cases}$</p>
<h3 id="指数分布"><a href="#指数分布" class="headerlink" title="指数分布"></a>指数分布</h3><p>设连续型随机变量X具有概率密度<br>$p(X)=\begin{cases}\lambda e^{-\lambda x},x\ge 0,\0,x&lt;0\end{cases}$，其中$\lambda &gt;0$为常数，则称X在$(a,b)$上服从指数分布。<br>分布函数$F(x)=\begin{cases}1-e^{-\frac{x}{\theta}},x&gt;0\0,x\le 0\end{cases}$<br><strong>无记忆性</strong>：$\forall s,t&gt;0$，$P{x&gt;s+t|x&gt;s}=p{x&gt;t}$，即，如果T是某一元件的寿命，已知元件使用了s小时，它总共使用至少s+t小时的条件概率，与从开始使用时算起它使用至少t小时的概率相等。</p>
<h3 id="正态分布（高斯分布，Gauss）"><a href="#正态分布（高斯分布，Gauss）" class="headerlink" title="正态分布（高斯分布，Gauss）"></a>正态分布（高斯分布，Gauss）</h3><p>设连续型随机变量X具有概率密度<br>$p(X)=\frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{(x-\mu)^2}{2\sigma^2} }$则称X服从参数为$\mu,\sigma$的正态分布或高斯分布，记作$X\sim N(\mu,\sigma^2)$<br>$\mu$是位置参数，即固定$\sigma$，对于不同的$\mu$，对应的f(x)的形状不变化，只是位置不同。<br>$\sigma$是形状参数，即固定$\mu$，对于不同的$\sigma$，对应f(x)位置不变化，只是$\sigma$越小，靠近$\mu$附近取值的概率越大，相应拐点越接近于ox轴。$\sigma$大小与曲线陡峭程度成反比（几何意义），与数据分散程度成正比（数据意义）。</p>
<h4 id="标准正态分布N-0-1"><a href="#标准正态分布N-0-1" class="headerlink" title="标准正态分布N(0,1)"></a>标准正态分布N(0,1)</h4><p>密度函数$\varphi(x)=\frac{1}{\sqrt{2\pi} }e^{-\frac{x^2}{2} }$是偶函数，其分布函数为$\Phi(x)=\frac{1}{\sqrt{2\pi} }\int_{-\infty}^xe^{-\frac{t^2}{2} },dt$，其值可查表。<br><img src="https://www.mianfeiwendang.com/pic/e18309c08f2600f948bb1837/1-1344-jpg_6_0_______-929-0-0-929.jpg" alt="正态分布表"><br>$\varphi(0) = \frac{1}{\sqrt{2\pi} },\Phi(0) =\frac{1}{2},$ $\Phi( - a) = P(X \leq - a) = 1 - \Phi(a)$<br>$X\sim N\left( \mu,\sigma^{2} \right) \Rightarrow \frac{X -\mu}{\sigma}\sim N\left( 0,1 \right),P(X \leq a) = \Phi(\frac{a -\mu}{\sigma})$</p>
<h2 id="随机变量的函数的分布"><a href="#随机变量的函数的分布" class="headerlink" title="随机变量的函数的分布"></a>随机变量的函数的分布</h2><ul>
<li>离散型：$P(X = x_{1}) = p_{i},Y = g(X)$，则: $P(Y = y_{j}) = \sum_{g(x_{i}) = y_{i} }^{}{P(X = x_{i})}$</li>
<li>连续型：$X\sim f_{X}(x),Y = g(x)$，则:$F_{y}(y) = P(Y \leq y) = P(g(X) \leq y) = \int_{g(x) \leq y}^{}{f_{x}(x)dx}$， $f_{Y}(y) = F’_{Y}(y)$</li>
<li>离散型随机变量的分布函数为阶梯间断函数；连续型随机变量的分布函数为连续函数，但不一定为处处可导函数。</li>
<li>存在既非离散也非连续型随机变量。</li>
</ul>
<h1 id="多维随机变量及其分布"><a href="#多维随机变量及其分布" class="headerlink" title="多维随机变量及其分布"></a>多维随机变量及其分布</h1><h2 id="二维随机变量"><a href="#二维随机变量" class="headerlink" title="二维随机变量"></a>二维随机变量</h2><p>由两个随机变量构成的随机向量$(X,Y)$， 联合分布为$F(x,y) = P{X \le x,Y \le y}$<br>$P{ X = x_{i},Y = y_{j}} = p_{ {ij} };i,j =1,2,\cdots$<br>$f(x,y) \geq 0$<br>$\int_{- \infty}^{+ \infty}{\int_{- \infty}^{+ \infty}{f(x,y)dxdy} } = 1$<br>$F(x,y) = \int_{- \infty}^{x}{\int_{- \infty}^{y}{f(u,v)dudv} }$</p>
<h2 id="边缘分布"><a href="#边缘分布" class="headerlink" title="边缘分布"></a>边缘分布</h2><p>$p_{i \cdot} = \sum_{j = 1}^{\infty}p_{ {ij} },i =1,2,\cdots$ $p_{\cdot j} = \sum_{i}^{\infty}p_{ {ij} },j = 1,2,\cdots$<br>$f_{X}\left( x \right) = \int_{- \infty}^{+ \infty}{f\left( x,y \right){dy} }$ $f_{Y}(y) = \int_{- \infty}^{+ \infty}{f(x,y)dx}$</p>
<h2 id="条件分布"><a href="#条件分布" class="headerlink" title="条件分布"></a>条件分布</h2><p>$P{ X = x_{i}|Y = y_{j}} = \frac{p_{ {ij} } }{p_{\cdot j} }$<br>$P{ Y = y_{j}|X = x_{i}} = \frac{p_{ {ij} } }{p_{i \cdot} }$<br>$f_{X|Y}\left( x \middle| y \right) = \frac{f\left( x,y \right)}{f_{Y}\left( y \right)}$<br>$f_{Y|X}(y|x) = \frac{f(x,y)}{f_{X}(x)}$</p>
<h2 id="相互独立的随机变量"><a href="#相互独立的随机变量" class="headerlink" title="相互独立的随机变量"></a>相互独立的随机变量</h2><p>若$P{X\le x,Y\le y}=P{X\le x}P{Y\le y}$，即$F(x,y)=F_X(x)F_Y(y)$，则称随机变量$X,Y$是相互独立的。<br>对于连续型随机变量，即$f(x,y)=f_X(x)f_Y(y)$在平面上几乎（除去面积为0的集合外）处处成立。<br>对于离散型随机变量，即$P{X=x_i,Y=y_i}=P{X=x_i}P{Y=y_i}$。<br>对于二维正态随机变量$(X,Y)$，$X,Y$相互独立的充要条件是参数$\rho=0$。</p>
<h2 id="两个随机变量的函数的分布"><a href="#两个随机变量的函数的分布" class="headerlink" title="两个随机变量的函数的分布"></a>两个随机变量的函数的分布</h2><h3 id="二维均匀分布"><a href="#二维均匀分布" class="headerlink" title="二维均匀分布"></a>二维均匀分布</h3><p>$(x,y) \sim U(D)$ ,$f(x,y) = \begin{cases} \frac{1}{S(D)},(x,y) \in D \   0,其他  \end{cases}$</p>
<h3 id="二维正态分布"><a href="#二维正态分布" class="headerlink" title="二维正态分布"></a>二维正态分布</h3><p>$(X,Y)\sim N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},\rho)$,$(X,Y)\sim N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},\rho)$<br>$f(x,y) = \frac{1}{2\pi\sigma_{1}\sigma_{2}\sqrt{1 - \rho^{2} } }.\exp\left{ \frac{- 1}{2(1 - \rho^{2})}\lbrack\frac{ {(x - \mu_{1})}^{2} }{\sigma_{1}^{2} } - 2\rho\frac{(x - \mu_{1})(y - \mu_{2})}{\sigma_{1}\sigma_{2} } + \frac{ {(y - \mu_{2})}^{2} }{\sigma_{2}^{2} }\rbrack \right}$</p>
<h2 id="随机变量的独立性和相关性"><a href="#随机变量的独立性和相关性" class="headerlink" title="随机变量的独立性和相关性"></a>随机变量的独立性和相关性</h2><p>$X$和$Y$的相互独立:$\Leftrightarrow F\left( x,y \right) = F_{X}\left( x \right)F_{Y}\left( y \right)$:<br>$\Leftrightarrow p_{ {ij} } = p_{i \cdot} \cdot p_{\cdot j}$（离散型）<br>$\Leftrightarrow f\left( x,y \right) = f_{X}\left( x \right)f_{Y}\left( y \right)$（连续型）<br>$X$和$Y$的相关性：</p>
<p>相关系数$\rho_{ {XY} } = 0$时，称$X$和$Y$不相关，<br>否则称$X$和$Y$相关</p>
<h2 id="两个随机变量的函数的分布-1"><a href="#两个随机变量的函数的分布-1" class="headerlink" title="两个随机变量的函数的分布"></a>两个随机变量的函数的分布</h2><h3 id="Z-X-Y-的分布"><a href="#Z-X-Y-的分布" class="headerlink" title="$Z=X+Y$的分布"></a>$Z=X+Y$的分布</h3><p>$f_{X+Y}(z)=\int_{-\infty}^\infty f(x,z-x)dx$</p>
<h3 id="Z-frac-Y-X-的分布、-Z-XY-的分布"><a href="#Z-frac-Y-X-的分布、-Z-XY-的分布" class="headerlink" title="$Z=\frac{Y}{X}$的分布、$Z=XY$的分布"></a>$Z=\frac{Y}{X}$的分布、$Z=XY$的分布</h3><p>$f_{Y/X}(z)=\int_{-\infty}^\infty |x|f(x,xz)dx$<br>$f_{XY}(z)=\int_{-\infty}^\infty \frac{1}{|x|}f(x,\frac{z}{x})dx$</p>
<h3 id="M-max-X-Y-的分布、-N-min-X-Y-的分布"><a href="#M-max-X-Y-的分布、-N-min-X-Y-的分布" class="headerlink" title="$M=\max{X,Y}$的分布、$N=\min{X,Y}$的分布"></a>$M=\max{X,Y}$的分布、$N=\min{X,Y}$的分布</h3><p>$F_{max}(z)=\Pi F_{x_i}(z)$<br>$F_{min}(z)=1-\Pi (1-F_{x_i}(z))$</p>
<h3 id="离散型"><a href="#离散型" class="headerlink" title="离散型"></a>离散型</h3><p>$P\left( X = x_{i},Y = y_{i} \right) = p_{ {ij} },Z = g\left( X,Y \right)$ 则：<br>$P(Z = z_{k}) = P\left{ g\left( X,Y \right) = z_{k} \right} = \sum_{g\left( x_{i},y_{i} \right) = z_{k} }^{}{P\left( X = x_{i},Y = y_{j} \right)}$</p>
<h3 id="连续型"><a href="#连续型" class="headerlink" title="连续型"></a>连续型</h3><p>$\left( X,Y \right) \sim f\left( x,y \right),Z = g\left( X,Y \right)$<br>则：<br>$F_{z}\left( z \right) = P\left{ g\left( X,Y \right) \leq z \right} = \iint_{g(x,y) \leq z}^{}{f(x,y)dxdy}$，$f_{z}(z) = F’_{z}(z)$</p>
<h3 id="重要公式与结论"><a href="#重要公式与结论" class="headerlink" title="重要公式与结论"></a>重要公式与结论</h3><p>$f_{X}(x) = \int_{- \infty}^{+ \infty}{f(x,y)dy,}$<br>$f_{Y}(y) = \int_{- \infty}^{+ \infty}{f(x,y)dx}$<br>$P\left{ \left( X,Y \right) \in D \right} = \iint_{D}^{}{f\left( x,y \right){dxdy} }$<br>若$(X,Y)$服从二维正态分布$N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},\rho)$<br>则有：</p>
<ul>
<li>$X\sim N\left( \mu_{1},\sigma_{1}^{2} \right),Y\sim N(\mu_{2},\sigma_{2}^{2}).$</li>
<li>$X$与$Y$相互独立$\Leftrightarrow \rho = 0$，即$X$与$Y$不相关。</li>
<li>$C_{1}X + C_{2}Y\sim N(C_{1}\mu_{1} + C_{2}\mu_{2},C_{1}^{2}\sigma_{1}^{2} + C_{2}^{2}\sigma_{2}^{2} + 2C_{1}C_{2}\sigma_{1}\sigma_{2}\rho)$</li>
<li>${\ X}$关于$Y=y$的条件分布为： $N(\mu_{1} + \rho\frac{\sigma_{1} }{\sigma_{2} }(y - \mu_{2}),\sigma_{1}^{2}(1 - \rho^{2}))$</li>
<li>$Y$关于$X = x$的条件分布为： $N(\mu_{2} + \rho\frac{\sigma_{2} }{\sigma_{1} }(x - \mu_{1}),\sigma_{2}^{2}(1 - \rho^{2}))$</li>
</ul>
<p>若$X$与$Y$独立，且分别服从$N(\mu_{1},\sigma_{1}^{2}),N(\mu_{1},\sigma_{2}^{2}),$<br>则：$\left( X,Y \right)\sim N(\mu_{1},\mu_{2},\sigma_{1}^{2},\sigma_{2}^{2},0),$</p>
<p>$C_{1}X + C_{2}Y\sim{\ }N(C_{1}\mu_{1} + C_{2}\mu_{2},C_{1}^{2}\sigma_{1}^{2} C_{2}^{2}\sigma_{2}^{2}).$</p>
<p>若$X$与$Y$相互独立，$f\left( x \right)$和$g\left( x \right)$为连续函数， 则$f\left( X \right)$和$g(Y)$也相互独立。</p>
<h1 id="随机变量的数字特征"><a href="#随机变量的数字特征" class="headerlink" title="随机变量的数字特征"></a>随机变量的数字特征</h1><h2 id="数学期望"><a href="#数学期望" class="headerlink" title="数学期望"></a>数学期望</h2><p>数学期望简称期望，又称均值。数学期望完全由概率分布决定。</p>
<h3 id="离散型-1"><a href="#离散型-1" class="headerlink" title="离散型"></a>离散型</h3><p>若离散型随机变量$X$的分布律为$P\left{ X = x_{i} \right} = p_{i}$ ，且级数$E(X) = \sum_{i}^{}{x_{i}p_{i} }$绝对收敛，则称$E(x)$为随机变量$X$的数学期望。</p>
<h3 id="连续型-1"><a href="#连续型-1" class="headerlink" title="连续型"></a>连续型</h3><p>$X\sim f(x),E(X) = \int_{- \infty}^{+ \infty}{xf(x)dx}$</p>
<h3 id="性质-4"><a href="#性质-4" class="headerlink" title="性质"></a>性质</h3><ul>
<li>$E(C) = C,E\lbrack E(X)\rbrack = E(X)$</li>
<li>$E(C_{1}X + C_{2}Y) = C_{1}E(X) + C_{2}E(Y)$</li>
<li>若$X$和$Y$独立，则$E(XY) = E(X)E(Y)$</li>
<li>$\left\lbrack E(XY) \right\rbrack^{2} \leq E(X^{2})E(Y^{2})$</li>
</ul>
<h3 id="随机变量函数的数学期望"><a href="#随机变量函数的数学期望" class="headerlink" title="随机变量函数的数学期望"></a>随机变量函数的数学期望</h3><p>对于函数$Y = g(x)$</p>
<h4 id="X-为离散型"><a href="#X-为离散型" class="headerlink" title="$X$为离散型"></a>$X$为离散型</h4><p>$P{ X = x_{i}} = p_{i},E(Y) = \sum_{i}^{}{g(x_{i})p_{i} }$；</p>
<h4 id="X-为连续型"><a href="#X-为连续型" class="headerlink" title="$X$为连续型"></a>$X$为连续型</h4><p>$X\sim f(x),E(Y) = \int_{- \infty}^{+ \infty}{g(x)f(x)dx}$<br>扩展到多维函数：$Z = g(X,Y)$;$\left( X,Y \right)\sim P{ X = x_{i},Y = y_{j}} = p_{ {ij} }$;$E(Z) = \sum_{i}^{}{\sum_{j}^{}{g(x_{i},y_{j})p_{ {ij} } } }$ $\left( X,Y \right)\sim f(x,y)$;$E(Z) = \int_{- \infty}^{+ \infty}{\int_{- \infty}^{+ \infty}{g(x,y)f(x,y)dxdy} }$</p>
<h2 id="方差"><a href="#方差" class="headerlink" title="方差"></a>方差</h2><p>$D(X) = E\left\lbrack X - E(X) \right\rbrack^{2} = E(X^{2}) - \left\lbrack E(X) \right\rbrack^{2}$，有时也记作$Var(X)$。<br>同时引入标准差（均方差）$\sigma (x)=\sqrt{D(X)}$。</p>
<h3 id="离散型-2"><a href="#离散型-2" class="headerlink" title="离散型"></a>离散型</h3><p>$D(X) = \sum_{i}^{}{\left\lbrack x_{i} - E(X) \right\rbrack^{2}p_{i} }$</p>
<h3 id="连续型-2"><a href="#连续型-2" class="headerlink" title="连续型"></a>连续型</h3><p>$D(X) = {\int_{- \infty}^{+ \infty}\left\lbrack x - E(X) \right\rbrack}^{2}f(x)dx$</p>
<h3 id="性质-5"><a href="#性质-5" class="headerlink" title="性质"></a>性质</h3><ul>
<li>$\ D(X) = E(X^{2}) - E^{2}(X)$</li>
<li>$\ D(C) = 0,D\lbrack E(X)\rbrack = 0,D\lbrack D(X)\rbrack = 0$<ul>
<li>$\ D\left( C_{1}X + C_{2} \right) = C_{1}^{2}D\left( X \right)$</li>
</ul>
</li>
<li>$X$与$Y$相互独立，则$D(X \pm Y) = D(X) + D(Y)$</li>
<li>$\ D(X) = 0 \Leftrightarrow P\left{ X = C \right} = 1$</li>
<li>$\ D\left( X \right) &lt; E\left( X - C \right)^{2},C \neq E\left( X \right)$</li>
</ul>
<h3 id="Chebyshev（切比雪夫）不等式"><a href="#Chebyshev（切比雪夫）不等式" class="headerlink" title="Chebyshev（切比雪夫）不等式"></a>Chebyshev（切比雪夫）不等式</h3><p>若随机变量$X$满足$E(X)=\mu$，方差$D(x)=\sigma^2$，则对于任意正数$\varepsilon$，有切比雪夫不等式$P{|X-\mu|\ge\varepsilon}\leq\frac{\sigma^2}{\varepsilon^2}$成立。</p>
<h2 id="协方差及相关系数"><a href="#协方差及相关系数" class="headerlink" title="协方差及相关系数"></a>协方差及相关系数</h2><p>$Cov(X,Y) = E\left\lbrack (X - E(X)(Y - E(Y)) \right\rbrack$称为随机变量$X,Y$的协方差，$\rho_{ {XY} } = \frac{Cov(X,Y)}{\sqrt{D(X)}\sqrt{D(Y)} }$称为他们的相关系数。</p>
<h3 id="性质-6"><a href="#性质-6" class="headerlink" title="性质"></a>性质</h3><ul>
<li>$\ Cov(X,Y) = Cov(Y,X)$</li>
<li>$\ Cov(aX,bY) = abCov(Y,X)$</li>
<li>$\ Cov(X_{1} + X_{2},Y) = Cov(X_{1},Y) + Cov(X_{2},Y)$</li>
<li>$\ \left| \rho\left( X,Y \right) \right| \leq 1$</li>
<li>$\ \rho\left( X,Y \right) = 1 \Leftrightarrow P\left( Y = aX + b \right) = 1$ ，其中$a &gt; 0$</li>
<li>$\rho\left( X,Y \right) = - 1 \Leftrightarrow P\left( Y = aX + b \right) = 1$，其中$a &lt; 0$</li>
<li>一般有 $D(X \pm Y) = D(X) + D(Y) \pm 2Cov(X,Y) = D(X) + D(Y) \pm 2\rho\sqrt{D(X)}\sqrt{D(Y)}$</li>
</ul>
<h3 id="重要公式与结论-1"><a href="#重要公式与结论-1" class="headerlink" title="重要公式与结论"></a>重要公式与结论</h3><ul>
<li>$\ Cov(X,Y) = E(XY) - E(X)E(Y)$</li>
<li>$\left| \rho\left( X,Y \right) \right| \leq 1,$且 $\rho\left( X,Y \right) = 1 \Leftrightarrow P\left( Y = aX + b \right) = 1$，其中$a &gt; 0$</li>
<li>$\rho\left( X,Y \right) = - 1 \Leftrightarrow P\left( Y = aX + b \right) = 1$，其中$a &lt; 0$</li>
<li>下面5个条件互为充要条件：$\rho(X,Y) = 0$ $\Leftrightarrow Cov(X,Y) = 0$ $\Leftrightarrow E(X,Y) = E(X)E(Y)$ $\Leftrightarrow D(X + Y) = D(X) + D(Y)$ $\Leftrightarrow  D(X - Y) = D(X) + D(Y)$。注：$X$与$Y$独立为上述5个条件中任何一个成立的充分条件，但非必要条件。</li>
</ul>
<h2 id="矩、协方差矩阵（待补充）"><a href="#矩、协方差矩阵（待补充）" class="headerlink" title="矩、协方差矩阵（待补充）"></a>矩、协方差矩阵（待补充）</h2><p>$E(X^{k})$称为$X$的$k$阶原点矩，简称$k$阶矩。<br>$E\left{ {\lbrack X - E(X)\rbrack}^{k} \right},k=2,3,\ldots$称为$X$的$k$阶中心矩。<br>$E(X^{k}Y^{l})$称为$X,Y$的$k+l$阶混合矩。<br>$E\left{ {\lbrack X - E(X)\rbrack}^{k}  {\lbrack Y - E(Y)\rbrack}^{l}\right},k,l=2,3,\ldots$称为$X,Y$的$k+l$阶混合中心矩。<br>显然，$E(X)$是$X的一阶原点矩，$D(X)$是$X的二阶中心矩，$Cov(X,Y)$是$X,Y$的二阶混合中心矩。</p>
<h1 id="大数定律及中心极限定理"><a href="#大数定律及中心极限定理" class="headerlink" title="大数定律及中心极限定理"></a>大数定律及中心极限定理</h1><h2 id="大数定律"><a href="#大数定律" class="headerlink" title="大数定律"></a>大数定律</h2><h3 id="辛钦大数定理（弱大数定理）"><a href="#辛钦大数定理（弱大数定理）" class="headerlink" title="辛钦大数定理（弱大数定理）"></a>辛钦大数定理（弱大数定理）</h3><p>设随机变量$X_1,X_2,\ldots,X_n,\ldots$相互独立，服从同一分布且具有数学期望$E(X_k)=\mu,(k=1,2,\ldots)$，则序列$\overline{X}=\frac{1}{n}\sum_{k=1}^nX_k$依概率收敛于$\mu$。</p>
<h3 id="伯努利大数定理"><a href="#伯努利大数定理" class="headerlink" title="伯努利大数定理"></a>伯努利大数定理</h3><p>伯努利大数定理是辛钦大数定理的一个重要推论，它表明：试验次数很大时，可用事件的频率代替事件的概率。<br>设$f_A$是n次独立重复试验中事件A发生的次数，$p$是事件A在每次试验中发生的概率，则对于任意的正数$\varepsilon$，有$\lim_{n\to\infty}P{|\frac{f_A}{n}-p|&lt;\varepsilon}=1$，$\lim_{n\to\infty}P{|\frac{f_A}{n}-p|\ge\varepsilon}=0$。</p>
<h2 id="中心极限定理"><a href="#中心极限定理" class="headerlink" title="中心极限定理"></a>中心极限定理</h2><h3 id="独立同分布的中心极限定理"><a href="#独立同分布的中心极限定理" class="headerlink" title="独立同分布的中心极限定理"></a>独立同分布的中心极限定理</h3><p>设随机变量$X_1,X_2,\ldots,X_n,\ldots$相互独立，服从同一分布且具有数学期望和方差$E(X_k)=\mu,D(X_k)=\sigma^2&gt;0,(k=1,2,\ldots)$，则随机变量之和$\sum_{k=1}^nX_k$的标准化变量$Y_n=\frac{\sum_{k=1}^nX_k-n\mu}{\sqrt{n}\sigma}$的分布函数$F_n(x)$对任意x满足$\lim_{n\to\infty}F_n(x)=\Phi(x)$。<br>这就是说，n足够大的时候，近似地有$\frac{\sum_{k=1}^nX_k-n\mu}{\sqrt{n}\sigma}\sim N(0,1)$或$\overline{X}~N(\mu,\frac{\sigma^2}{n})$</p>
<h3 id="Lyapunov（李雅普诺夫）定理"><a href="#Lyapunov（李雅普诺夫）定理" class="headerlink" title="Lyapunov（李雅普诺夫）定理"></a>Lyapunov（李雅普诺夫）定理</h3><p>设随机变量$X_1,X_2,\ldots,X_n,\ldots$相互独立，具有数学期望和方差$E(X_k)=\mu_k,D(X_k)=\sigma_k^2&gt;0,(k=1,2,\ldots)$，记$B_n=\sum_{k=1}^n\sigma_k^2$，若存在正数$\delta$，使得当$n\to\infty$时，$\frac{1}{B_n^{2+\delta}}\sum_{k=1}^nE{|X_k-\mu_k|^{2+\delta}}\to 0$，则随机化变量之和$\sum_{k=1}^nX_k$的标准化变量$Z_n=\frac{\sum_{k=1}^nX_k-\sum_{k=1}^n\mu_k}{B_n}$的分布函数$F_n(x)$对于任意x满足$\lim_{n\to\infty}F_n(x)=\Phi(x)$。<br>该定理表明，n足够大的时候，近似地有$Z_n\sim N(0,1)$。</p>
<h3 id="De-Moivre-Laplace（棣莫弗-拉普拉斯）定理"><a href="#De-Moivre-Laplace（棣莫弗-拉普拉斯）定理" class="headerlink" title="De Moivre-Laplace（棣莫弗-拉普拉斯）定理"></a>De Moivre-Laplace（棣莫弗-拉普拉斯）定理</h3><p>独立同分布的中心极限定理的特殊情况，设随机变量$\eta_n(n=1,2,\ldots)$服从参数为$n,p(0 &lt; p &lt; 1) $的二项分布，则对于任意x，有$\lim_{n\to\infty}P{\frac{\eta_n-np}{\sqrt{np(1-p)}}\leq x}=\Phi(x)$。</p>
<h1 id="样本及抽样分布"><a href="#样本及抽样分布" class="headerlink" title="样本及抽样分布"></a>样本及抽样分布</h1><h2 id="随机样本"><a href="#随机样本" class="headerlink" title="随机样本"></a>随机样本</h2><h3 id="总体"><a href="#总体" class="headerlink" title="总体"></a>总体</h3><p>研究对象的全体，它是一个随机变量，用$X$表示。</p>
<h3 id="个体"><a href="#个体" class="headerlink" title="个体"></a>个体</h3><p>组成总体的每个基本元素。</p>
<h3 id="简单随机样本"><a href="#简单随机样本" class="headerlink" title="简单随机样本"></a>简单随机样本</h3><p>来自总体$X$的$n$个相互独立且与总体同分布的随机变量$X_{1},X_{2}\cdots,X_{n}$，称为容量为$n$的简单随机样本，简称样本。</p>
<h2 id="直方图和箱线图"><a href="#直方图和箱线图" class="headerlink" title="直方图和箱线图"></a>直方图和箱线图</h2><h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><h3 id="箱线图"><a href="#箱线图" class="headerlink" title="箱线图"></a>箱线图</h3><h4 id="样本分位数"><a href="#样本分位数" class="headerlink" title="样本分位数"></a>样本分位数</h4><p>若$P(X \leq x_{\alpha}) = \alpha,$则称$x_{\alpha}$为$X$的$\alpha$分位数</p>
<h2 id="抽样分布"><a href="#抽样分布" class="headerlink" title="抽样分布"></a>抽样分布</h2><h3 id="统计量"><a href="#统计量" class="headerlink" title="统计量"></a>统计量</h3><p>设$X_{1},X_{2}\cdots,X_{n},$是来自总体$X$的一个样本，$g(X_{1},X_{2}\cdots,X_{n})$）是样本的连续函数，且$g()$中不含任何未知参数，则称$g(X_{1},X_{2}\cdots,X_{n})$为统计量。</p>
<h4 id="样本均值"><a href="#样本均值" class="headerlink" title="样本均值"></a>样本均值</h4><p>$\overline{X} = \frac{1}{n}\sum_{i = 1}^{n}X_{i}$</p>
<h4 id="样本方差"><a href="#样本方差" class="headerlink" title="样本方差"></a>样本方差</h4><p>$S^{2} = \frac{1}{n - 1}\sum_{i = 1}^{n}{(X_{i} - \overline{X})}^{2}$</p>
<h4 id="样本矩"><a href="#样本矩" class="headerlink" title="样本矩"></a>样本矩</h4><p>样本$k$阶原点矩：$A_{k} = \frac{1}{n}\sum_{i = 1}^{n}X_{i}^{k},k = 1,2,\cdots$</p>
<h4 id="样本k阶中心矩"><a href="#样本k阶中心矩" class="headerlink" title="样本k阶中心矩"></a>样本k阶中心矩</h4><p>$B_{k} = \frac{1}{n}\sum_{i = 1}^{n}{(X_{i} - \overline{X})}^{k},k = 1,2,\cdots$</p>
<h3 id="常用统计量分布"><a href="#常用统计量分布" class="headerlink" title="常用统计量分布"></a>常用统计量分布</h3><h4 id="chi-2-分布"><a href="#chi-2-分布" class="headerlink" title="$\chi^{2}$分布"></a>$\chi^{2}$分布</h4><p>$\chi^{2} = X_{1}^{2} + X_{2}^{2} + \cdots + X_{n}^{2}\sim\chi^{2}(n)$，其中$X_{1},X_{2}\cdots,X_{n},$相互独立，且同服从$N(0,1)$</p>
<h4 id="t-分布"><a href="#t-分布" class="headerlink" title="$t$分布"></a>$t$分布</h4><p>$T = \frac{X}{\sqrt{Y/n} }\sim t(n)$ ，其中$X\sim N\left( 0,1 \right),Y\sim\chi^{2}(n),$且$X$，$Y$ 相互独立。</p>
<h4 id="F-分布"><a href="#F-分布" class="headerlink" title="$F$分布"></a>$F$分布</h4><p>$F = \frac{X/n_{1} }{Y/n_{2} }\sim F(n_{1},n_{2})$，其中$X\sim\chi^{2}\left( n_{1} \right),Y\sim\chi^{2}(n_{2}),$且$X$，$Y$相互独立。</p>
<h4 id="正态总体的常用样本分布"><a href="#正态总体的常用样本分布" class="headerlink" title="正态总体的常用样本分布"></a>正态总体的常用样本分布</h4><p>设$X_{1},X_{2}\cdots,X_{n}$为来自正态总体$N(\mu,\sigma^{2})$的样本，$\overline{X} = \frac{1}{n}\sum_{i = 1}^{n}X_{i},S^{2} = \frac{1}{n - 1}\sum_{i = 1}^{n}{ {(X_{i} - \overline{X})}^{2} }$，则：</p>
<ul>
<li>$\overline{X}\sim N\left( \mu,\frac{\sigma^{2} }{n} \right){\ \ }$或者$\frac{\overline{X} - \mu}{\frac{\sigma}{\sqrt{n} } }\sim N(0,1)$</li>
<li>$\frac{(n - 1)S^{2} }{\sigma^{2} } = \frac{1}{\sigma^{2} }\sum_{i = 1}^{n}{ {(X_{i} - \overline{X})}^{2}\sim\chi^{2}(n - 1)}$</li>
<li>$\frac{1}{\sigma^{2} }\sum_{i = 1}^{n}{ {(X_{i} - \mu)}^{2}\sim\chi^{2}(n)}$</li>
<li>${\ \ }\frac{\overline{X} - \mu}{S/\sqrt{n} }\sim t(n - 1)$</li>
</ul>
<h4 id="重要公式与结论-2"><a href="#重要公式与结论-2" class="headerlink" title="重要公式与结论"></a>重要公式与结论</h4><ul>
<li>对于$\chi^{2}\sim\chi^{2}(n)$，有$E(\chi^{2}(n)) = n,D(\chi^{2}(n)) = 2n$；</li>
<li>对于$T\sim t(n)$，有$E(T) = 0,D(T) = \frac{n}{n - 2}(n &gt; 2)$；</li>
<li>对于$F\sim{\ }F(m,n)$，有 $\frac{1}{F}\sim F(n,m),F_{a/2}(m,n) = \frac{1}{F_{1 - a/2}(n,m)}$；</li>
<li>对于任意总体$X$，有 $E(\overline{X}) = E(X),E(S^{2}) = D(X),D(\overline{X}) = \frac{D(X)}{n}$</li>
</ul>
<h1 id="参数估计"><a href="#参数估计" class="headerlink" title="参数估计"></a>参数估计</h1><h2 id="点估计"><a href="#点估计" class="headerlink" title="点估计"></a>点估计</h2><h3 id="矩估计法"><a href="#矩估计法" class="headerlink" title="矩估计法"></a>矩估计法</h3><h3 id="最大似然估计法"><a href="#最大似然估计法" class="headerlink" title="最大似然估计法"></a>最大似然估计法</h3><h2 id="基于截尾样本的最大似然估计"><a href="#基于截尾样本的最大似然估计" class="headerlink" title="基于截尾样本的最大似然估计"></a>基于截尾样本的最大似然估计</h2><h2 id="估计量的评选标准"><a href="#估计量的评选标准" class="headerlink" title="估计量的评选标准"></a>估计量的评选标准</h2><h3 id="无偏性"><a href="#无偏性" class="headerlink" title="无偏性"></a>无偏性</h3><h3 id="有效性"><a href="#有效性" class="headerlink" title="有效性"></a>有效性</h3><h3 id="相和性"><a href="#相和性" class="headerlink" title="相和性"></a>相和性</h3><h2 id="区间估计"><a href="#区间估计" class="headerlink" title="区间估计"></a>区间估计</h2><h2 id="正态总体均值与方差的区间估计"><a href="#正态总体均值与方差的区间估计" class="headerlink" title="正态总体均值与方差的区间估计"></a>正态总体均值与方差的区间估计</h2><h2 id="0-1-分布参数的区间估计"><a href="#0-1-分布参数的区间估计" class="headerlink" title="(0-1)分布参数的区间估计"></a>(0-1)分布参数的区间估计</h2><h2 id="单侧置信区间"><a href="#单侧置信区间" class="headerlink" title="单侧置信区间"></a>单侧置信区间</h2><h1 id="假设试验"><a href="#假设试验" class="headerlink" title="假设试验"></a>假设试验</h1><h2 id="假设检验"><a href="#假设检验" class="headerlink" title="假设检验"></a>假设检验</h2><h2 id="正态总体均值的假设检验"><a href="#正态总体均值的假设检验" class="headerlink" title="正态总体均值的假设检验"></a>正态总体均值的假设检验</h2><h3 id="单个总体-N-mu-sigma-2-均值-mu-的检验"><a href="#单个总体-N-mu-sigma-2-均值-mu-的检验" class="headerlink" title="单个总体$N(\mu,\sigma^2)$均值$\mu$的检验"></a>单个总体$N(\mu,\sigma^2)$均值$\mu$的检验</h3><h4 id="sigma-2-已知，关于-mu-的检验（Z检验）"><a href="#sigma-2-已知，关于-mu-的检验（Z检验）" class="headerlink" title="$\sigma^2$已知，关于$\mu$的检验（Z检验）"></a>$\sigma^2$已知，关于$\mu$的检验（Z检验）</h4><h4 id="mu-已知，关于-sigma-2-的检验（t检验）"><a href="#mu-已知，关于-sigma-2-的检验（t检验）" class="headerlink" title="$\mu$已知，关于$\sigma^2$的检验（t检验）"></a>$\mu$已知，关于$\sigma^2$的检验（t检验）</h4><h3 id="两个正态总体均值差的检验（t检验）"><a href="#两个正态总体均值差的检验（t检验）" class="headerlink" title="两个正态总体均值差的检验（t检验）"></a>两个正态总体均值差的检验（t检验）</h3><h3 id="基于成对数据的检验（t检验）"><a href="#基于成对数据的检验（t检验）" class="headerlink" title="基于成对数据的检验（t检验）"></a>基于成对数据的检验（t检验）</h3><h2 id="正态总体方差的假设检验"><a href="#正态总体方差的假设检验" class="headerlink" title="正态总体方差的假设检验"></a>正态总体方差的假设检验</h2><h3 id="单个总体的情况"><a href="#单个总体的情况" class="headerlink" title="单个总体的情况"></a>单个总体的情况</h3><h3 id="两个总体的情况"><a href="#两个总体的情况" class="headerlink" title="两个总体的情况"></a>两个总体的情况</h3><h2 id="置信区间与假设检验之间的关系"><a href="#置信区间与假设检验之间的关系" class="headerlink" title="置信区间与假设检验之间的关系"></a>置信区间与假设检验之间的关系</h2><h2 id="样本容量的选取"><a href="#样本容量的选取" class="headerlink" title="样本容量的选取"></a>样本容量的选取</h2><h2 id="分布拟合检验"><a href="#分布拟合检验" class="headerlink" title="分布拟合检验"></a>分布拟合检验</h2><h3 id="单个分布的-chi-2-拟合检验法"><a href="#单个分布的-chi-2-拟合检验法" class="headerlink" title="单个分布的$\chi^2$拟合检验法"></a>单个分布的$\chi^2$拟合检验法</h3><h3 id="分布族的-chi-2-拟合检验"><a href="#分布族的-chi-2-拟合检验" class="headerlink" title="分布族的$\chi^2$拟合检验"></a>分布族的$\chi^2$拟合检验</h3><h3 id="偏度、峰度检验"><a href="#偏度、峰度检验" class="headerlink" title="偏度、峰度检验"></a>偏度、峰度检验</h3><h2 id="秩和检验"><a href="#秩和检验" class="headerlink" title="秩和检验"></a>秩和检验</h2><h2 id="假设检验问题的p值检验法"><a href="#假设检验问题的p值检验法" class="headerlink" title="假设检验问题的p值检验法"></a>假设检验问题的p值检验法</h2>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-12-03T00:00:00.000Z">2018-12-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/学习笔记/">学习笔记</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 分钟 读完 (大约 1039 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/12/03/2018-12-03-线性代数基础/">线性代数</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p><strong>转载自</strong><a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes" target="_blank" rel="noopener">斯坦福大学2014（吴恩达）机器学习教程中文笔记</a>，感谢编者黄海广博士。</p>
</blockquote>
<h1 id="线性代数"><a href="#线性代数" class="headerlink" title="线性代数"></a>线性代数</h1><h2 id="行列式"><a href="#行列式" class="headerlink" title="行列式"></a>行列式</h2><p><strong>1.行列式按行（列）展开定理</strong></p>
<p>(1) 设$A = ( a_{ {ij} } )<em>{n \times n}$，则：$a</em>{i1}A_{j1} +a_{i2}A_{j2} + \cdots + a_{ {in} }A_{ {jn} } = \begin{cases}|A|,i=j\ 0,i \neq j\end{cases}$</p>
<p>或$a_{1i}A_{1j} + a_{2i}A_{2j} + \cdots + a_{ {ni} }A_{ {nj} } = \begin{cases}|A|,i=j\ 0,i \neq j\end{cases}$即 $AA^{<em>} = A^{</em>}A = \left| A \right|E,$其中：$A^{*} = \begin{pmatrix} A_{11} &amp; A_{12} &amp; \ldots &amp; A_{1n} \ A_{21} &amp; A_{22} &amp; \ldots &amp; A_{2n} \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots \ A_{n1} &amp; A_{n2} &amp; \ldots &amp; A_{ {nn} } \ \end{pmatrix} = (A_{ {ji} }) = {(A_{ {ij} })}^{T}$</p>
<p>$D_{n} = \begin{vmatrix} 1 &amp; 1 &amp; \ldots &amp; 1 \ x_{1} &amp; x_{2} &amp; \ldots &amp; x_{n} \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots \ x_{1}^{n - 1} &amp; x_{2}^{n - 1} &amp; \ldots &amp; x_{n}^{n - 1} \ \end{vmatrix} = \prod_{1 \leq j &lt; i \leq n}^{},(x_{i} - x_{j})$</p>
<p>(2) 设$A,B$为$n$阶方阵，则$\left| {AB} \right| = \left| A \right|\left| B \right| = \left| B \right|\left| A \right| = \left| {BA} \right|$，但$\left| A \pm B \right| = \left| A \right| \pm \left| B \right|$不一定成立。</p>
<p>(3) $\left| {kA} \right| = k^{n}\left| A \right|$,$A$为$n$阶方阵。</p>
<p>(4) 设$A$为$n$阶方阵，$|A^{T}| = |A|;|A^{- 1}| = |A|^{- 1}$（若$A$可逆），$|A^{*}| = |A|^{n - 1}$</p>
<p>$n \geq 2$</p>
<p>(5) $\left| \begin{matrix}  &amp; {A\quad O} \  &amp; {O\quad B} \ \end{matrix} \right| = \left| \begin{matrix}  &amp; {A\quad C} \  &amp; {O\quad B} \ \end{matrix} \right| = \left| \begin{matrix}  &amp; {A\quad O} \  &amp; {C\quad B} \ \end{matrix} \right| =| A||B|$<br>，$A,B$为方阵，但$\left| \begin{matrix} {O} &amp; A_{m \times m} \  B_{n \times n} &amp; { O} \ \end{matrix} \right| = ({- 1)}^{ {mn} }|A||B|$ 。</p>
<p>(6) 范德蒙行列式$D_{n} = \begin{vmatrix} 1 &amp; 1 &amp; \ldots &amp; 1 \ x_{1} &amp; x_{2} &amp; \ldots &amp; x_{n} \ \ldots &amp; \ldots &amp; \ldots &amp; \ldots \ x_{1}^{n - 1} &amp; x_{2}^{n 1} &amp; \ldots &amp; x_{n}^{n - 1} \ \end{vmatrix} =  \prod_{1 \leq j &lt; i \leq n}^{},(x_{i} - x_{j})$</p>
<p>设$A$是$n$阶方阵，$\lambda_{i}(i = 1,2\cdots,n)$是$A$的$n$个特征值，则<br>$|A| = \prod_{i = 1}^{n}\lambda_{i}​$</p>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><p>矩阵：$m \times n$个数$a_{ {ij} }$排成$m$行$n$列的表格$\begin{bmatrix}  a_{11}\quad a_{12}\quad\cdots\quad a_{1n} \ a_{21}\quad a_{22}\quad\cdots\quad a_{2n} \ \quad\cdots\cdots\cdots\cdots\cdots \  a_{m1}\quad a_{m2}\quad\cdots\quad a_{ {mn} } \ \end{bmatrix}$ 称为矩阵，简记为$A$，或者$\left( a_{ {ij} } \right)_{m \times n}$ 。若$m = n$，则称$A$是$n$阶矩阵或$n$阶方阵。</p>
<p><strong>矩阵的线性运算</strong></p>
<p><strong>1.矩阵的加法</strong></p>
<p>设$A = (a_{ {ij} }),B = (b_{ {ij} })$是两个$m \times n$矩阵，则$m \times n$ 矩阵$C = c_{ {ij} }) = a_{ {ij} } + b_{ {ij} }$称为矩阵$A$与$B$的和，记为$A + B = C$ 。</p>
<p><strong>2.矩阵的数乘</strong></p>
<p>设$A = (a_{ {ij} })$是$m \times n$矩阵，$k$是一个常数，则$m \times n$矩阵$(ka_{ {ij} })$称为数$k$与矩阵$A$的数乘，记为${kA}$。</p>
<p><strong>3.矩阵的乘法</strong></p>
<p>设$A = (a_{ {ij} })$是$m \times n$矩阵，$B = (b_{ {ij} })$是$n \times s$矩阵，那么$m \times s$矩阵$C = (c_{ {ij} })$，其中$c_{ {ij} } = a_{i1}b_{1j} + a_{i2}b_{2j} + \cdots + a_{ {in} }b_{ {nj} } = \sum_{k =1}^{n}{a_{ {ik} }b_{ {kj} } }$称为${AB}$的乘积，记为$C = AB$ 。</p>
<p><strong>4.</strong> $\mathbf{A}^{\mathbf{T} }$<strong>、</strong>$\mathbf{A}^{\mathbf{-1} }$<strong>、</strong>$\mathbf{A}^{\mathbf{<em>} }$*</em>三者之间的关系**</p>
<p>(1) ${(A^{T})}^{T} = A,{(AB)}^{T} = B^{T}A^{T},{(kA)}^{T} = kA^{T},{(A \pm B)}^{T} = A^{T} \pm B^{T}$</p>
<p>(2) $\left( A^{- 1} \right)^{- 1} = A,\left( {AB} \right)^{- 1} = B^{- 1}A^{- 1},\left( {kA} \right)^{- 1} = \frac{1}{k}A^{- 1},$</p>
<p>但 ${(A \pm B)}^{- 1} = A^{- 1} \pm B^{- 1}$不一定成立。</p>
<p>(3) $\left( A^{<em>} \right)^{</em>} = |A|^{n - 2}\ A\ \ (n \geq 3)$，$\left({AB} \right)^{<em>} = B^{</em>}A^{<em>},$ $\left( {kA} \right)^{</em>} = k^{n -1}A^{*}{\ \ }\left( n \geq 2 \right)$</p>
<p>但$\left( A \pm B \right)^{<em>} = A^{</em>} \pm B^{*}$不一定成立。</p>
<p>(4) ${(A^{- 1})}^{T} = {(A^{T})}^{- 1},\ \left( A^{- 1} \right)^{<em>} ={(AA^{</em>})}^{- 1},{(A^{<em>})}^{T} = \left( A^{T} \right)^{</em>}$</p>
<p><strong>5.有关</strong>$\mathbf{A}^{\mathbf{<em>} }$*</em>的结论**</p>
<p>(1) $AA^{<em>} = A^{</em>}A = |A|E$</p>
<p>(2) $|A^{<em>}| = |A|^{n - 1}\ (n \geq 2),\ \ \ \ {(kA)}^{</em>} = k^{n -1}A^{<em>},{ {\ \ }\left( A^{</em>} \right)}^{*} = |A|^{n - 2}A(n \geq 3)$</p>
<p>(3) 若$A$可逆，则$A^{<em>} = |A|A^{- 1},{(A^{</em>})}^{*} = \frac{1}{|A|}A$</p>
<p>(4) 若$A​$为$n​$阶方阵，则：</p>
<p>$r(A^*)=\begin{cases}n,\quad r(A)=n\ 1,\quad r(A)=n-1\ 0,\quad r(A)&lt;n-1\end{cases}$</p>
<p><strong>6.有关</strong>$\mathbf{A}^{\mathbf{- 1} }$<strong>的结论</strong></p>
<p>$A$可逆$\Leftrightarrow AB = E; \Leftrightarrow |A| \neq 0; \Leftrightarrow r(A) = n;$</p>
<p>$\Leftrightarrow A$可以表示为初等矩阵的乘积；$\Leftrightarrow A;\Leftrightarrow Ax = 0$。</p>
<p><strong>7.有关矩阵秩的结论</strong></p>
<p>(1) 秩$r(A)$=行秩=列秩；</p>
<p>(2) $r(A_{m \times n}) \leq \min(m,n);$</p>
<p>(3) $A \neq 0 \Rightarrow r(A) \geq 1$；</p>
<p>(4) $r(A \pm B) \leq r(A) + r(B);$</p>
<p>(5) 初等变换不改变矩阵的秩</p>
<p>(6) $r(A) + r(B) - n \leq r(AB) \leq \min(r(A),r(B)),$特别若$AB = O$<br>则：$r(A) + r(B) \leq n$</p>
<p>(7) 若$A^{- 1}$存在$\Rightarrow r(AB) = r(B);$ 若$B^{- 1}$存在<br>$\Rightarrow r(AB) = r(A);$</p>
<p>若$r(A_{m \times n}) = n \Rightarrow r(AB) = r(B);$ 若$r(A_{m \times s}) = n\Rightarrow r(AB) = r\left( A \right)$。</p>
<p>(8) $r(A_{m \times s}) = n \Leftrightarrow Ax = 0$只有零解</p>
<p><strong>8.分块求逆公式</strong></p>
<p>$\begin{pmatrix} A &amp; O \ O &amp; B \ \end{pmatrix}^{- 1} = \begin{pmatrix} A^{-1} &amp; O \ O &amp; B^{- 1} \ \end{pmatrix}$； $\begin{pmatrix} A &amp; C \ O &amp; B \\end{pmatrix}^{- 1} = \begin{pmatrix} A^{- 1}&amp; - A^{- 1}CB^{- 1} \ O &amp; B^{- 1} \ \end{pmatrix}$；</p>
<p>$\begin{pmatrix} A &amp; O \ C &amp; B \ \end{pmatrix}^{- 1} = \begin{pmatrix}  A^{- 1}&amp;{O} \   - B^{- 1}CA^{- 1} &amp; B^{- 1} \\end{pmatrix}$； $\begin{pmatrix} O &amp; A \ B &amp; O \ \end{pmatrix}^{- 1} =\begin{pmatrix} O &amp; B^{- 1} \ A^{- 1} &amp; O \ \end{pmatrix}$</p>
<p>这里$A$，$B$均为可逆方阵。</p>
<h2 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h2><p><strong>1.有关向量组的线性表示</strong></p>
<p>(1)$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性相关$\Leftrightarrow$至少有一个向量可以用其余向量线性表示。</p>
<p>(2)$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性无关，$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$，$\beta$线性相关$\Leftrightarrow \beta$可以由$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$唯一线性表示。</p>
<p>(3) $\beta$可以由$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性表示<br>$\Leftrightarrow r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s}) =r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s},\beta)$ 。</p>
<p><strong>2.有关向量组的线性相关性</strong></p>
<p>(1)部分相关，整体相关；整体无关，部分无关.</p>
<p>(2) ① $n$个$n$维向量<br>$\alpha_{1},\alpha_{2}\cdots\alpha_{n}$线性无关$\Leftrightarrow \left|\left\lbrack \alpha_{1}\alpha_{2}\cdots\alpha_{n} \right\rbrack \right| \neq0$， $n$个$n$维向量$\alpha_{1},\alpha_{2}\cdots\alpha_{n}$线性相关<br>$\Leftrightarrow |\lbrack\alpha_{1},\alpha_{2},\cdots,\alpha_{n}\rbrack| = 0$<br>。</p>
<p>② $n + 1$个$n$维向量线性相关。</p>
<p>③ 若$\alpha_{1},\alpha_{2}\cdots\alpha_{S}$线性无关，则添加分量后仍线性无关；或一组向量线性相关，去掉某些分量后仍线性相关。</p>
<p><strong>3.有关向量组的线性表示</strong></p>
<p>(1) $\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性相关$\Leftrightarrow$至少有一个向量可以用其余向量线性表示。</p>
<p>(2) $\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性无关，$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$，$\beta$线性相关$\Leftrightarrow\beta$ 可以由$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$唯一线性表示。</p>
<p>(3) $\beta$可以由$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性表示<br>$\Leftrightarrow r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s}) =r(\alpha_{1},\alpha_{2},\cdots,\alpha_{s},\beta)$</p>
<p><strong>4.向量组的秩与矩阵的秩之间的关系</strong></p>
<p>设$r(A_{m \times n}) =r$，则$A$的秩$r(A)$与$A$的行列向量组的线性相关性关系为：</p>
<p>(1) 若$r(A_{m \times n}) = r = m$，则$A$的行向量组线性无关。</p>
<p>(2) 若$r(A_{m \times n}) = r &lt; m$，则$A$的行向量组线性相关。</p>
<p>(3) 若$r(A_{m \times n}) = r = n$，则$A$的列向量组线性无关。</p>
<p>(4) 若$r(A_{m \times n}) = r &lt; n$，则$A$的列向量组线性相关。</p>
<p><strong>5.</strong>$\mathbf{n}$<strong>维向量空间的基变换公式及过渡矩阵</strong></p>
<p>若$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$与$\beta_{1},\beta_{2},\cdots,\beta_{n}$是向量空间$V$的两组基，则基变换公式为：</p>
<p>$(\beta_{1},\beta_{2},\cdots,\beta_{n}) = (\alpha_{1},\alpha_{2},\cdots,\alpha_{n})\begin{bmatrix}  c_{11}&amp; c_{12}&amp; \cdots &amp; c_{1n} \  c_{21}&amp; c_{22}&amp;\cdots &amp; c_{2n} \ \cdots &amp; \cdots &amp; \cdots &amp; \cdots \  c_{n1}&amp; c_{n2} &amp; \cdots &amp; c_{ {nn} } \\end{bmatrix} = (\alpha_{1},\alpha_{2},\cdots,\alpha_{n})C$</p>
<p>其中$C$是可逆矩阵，称为由基$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$到基$\beta_{1},\beta_{2},\cdots,\beta_{n}$的过渡矩阵。</p>
<p><strong>6.坐标变换公式</strong></p>
<p>若向量$\gamma$在基$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$与基$\beta_{1},\beta_{2},\cdots,\beta_{n}$的坐标分别是<br>$X = {(x_{1},x_{2},\cdots,x_{n})}^{T}$，</p>
<p>$Y = \left( y_{1},y_{2},\cdots,y_{n} \right)^{T}$ 即： $\gamma =x_{1}\alpha_{1} + x_{2}\alpha_{2} + \cdots + x_{n}\alpha_{n} = y_{1}\beta_{1} +y_{2}\beta_{2} + \cdots + y_{n}\beta_{n}$，则向量坐标变换公式为$X = CY$ 或$Y = C^{- 1}X$，其中$C$是从基$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$到基$\beta_{1},\beta_{2},\cdots,\beta_{n}$的过渡矩阵。</p>
<p><strong>7.向量的内积</strong></p>
<p>$(\alpha,\beta) = a_{1}b_{1} + a_{2}b_{2} + \cdots + a_{n}b_{n} = \alpha^{T}\beta = \beta^{T}\alpha$</p>
<p><strong>8.Schmidt正交化</strong></p>
<p>若$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$线性无关，则可构造$\beta_{1},\beta_{2},\cdots,\beta_{s}$使其两两正交，且$\beta_{i}$仅是$\alpha_{1},\alpha_{2},\cdots,\alpha_{i}$的线性组合$(i= 1,2,\cdots,n)$，再把$\beta_{i}$单位化，记$\gamma_{i} =\frac{\beta_{i} }{\left| \beta_{i}\right|}$，则$\gamma_{1},\gamma_{2},\cdots,\gamma_{i}$是规范正交向量组。其中<br>$\beta_{1} = \alpha_{1}$， $\beta_{2} = \alpha_{2} -\frac{(\alpha_{2},\beta_{1})}{(\beta_{1},\beta_{1})}\beta_{1}$ ， $\beta_{3} =\alpha_{3} - \frac{(\alpha_{3},\beta_{1})}{(\beta_{1},\beta_{1})}\beta_{1} -\frac{(\alpha_{3},\beta_{2})}{(\beta_{2},\beta_{2})}\beta_{2}$ ，</p>
<p>…………</p>
<p>$\beta_{s} = \alpha_{s} - \frac{(\alpha_{s},\beta_{1})}{(\beta_{1},\beta_{1})}\beta_{1} - \frac{(\alpha_{s},\beta_{2})}{(\beta_{2},\beta_{2})}\beta_{2} - \cdots - \frac{(\alpha_{s},\beta_{s - 1})}{(\beta_{s - 1},\beta_{s - 1})}\beta_{s - 1}$</p>
<p><strong>9.正交基及规范正交基</strong></p>
<p>向量空间一组基中的向量如果两两正交，就称为正交基；若正交基中每个向量都是单位向量，就称其为规范正交基。</p>
<h2 id="线性方程组"><a href="#线性方程组" class="headerlink" title="线性方程组"></a>线性方程组</h2><p><strong>1．克莱姆法则</strong></p>
<p>线性方程组$\begin{cases}  a_{11}x_{1} + a_{12}x_{2} + \cdots +a_{1n}x_{n} = b_{1} \   a_{21}x_{1} + a_{22}x_{2} + \cdots + a_{2n}x_{n} =b_{2} \   \quad\cdots\cdots\cdots\cdots\cdots\cdots\cdots\cdots\cdots \ a_{n1}x_{1} + a_{n2}x_{2} + \cdots + a_{ {nn} }x_{n} = b_{n} \ \end{cases}$，如果系数行列式$D = \left| A \right| \neq 0$，则方程组有唯一解，$x_{1} = \frac{D_{1} }{D},x_{2} = \frac{D_{2} }{D},\cdots,x_{n} =\frac{D_{n} }{D}$，其中$D_{j}$是把$D$中第$j$列元素换成方程组右端的常数列所得的行列式。</p>
<p><strong>2.</strong> $n$阶矩阵$A$可逆$\Leftrightarrow Ax = 0$只有零解。$\Leftrightarrow\forall b,Ax = b$总有唯一解，一般地，$r(A_{m \times n}) = n \Leftrightarrow Ax= 0$只有零解。</p>
<p><strong>3.非奇次线性方程组有解的充分必要条件，线性方程组解的性质和解的结构</strong></p>
<p>(1) 设$A$为$m \times n$矩阵，若$r(A_{m \times n}) = m$，则对$Ax =b$而言必有$r(A) = r(A \vdots b) = m$，从而$Ax = b$有解。</p>
<p>(2) 设$x_{1},x_{2},\cdots x_{s}$为$Ax = b$的解，则$k_{1}x_{1} + k_{2}x_{2}\cdots + k_{s}x_{s}$当$k_{1} + k_{2} + \cdots + k_{s} = 1$时仍为$Ax =b$的解；但当$k_{1} + k_{2} + \cdots + k_{s} = 0$时，则为$Ax =0$的解。特别$\frac{x_{1} + x_{2} }{2}$为$Ax = b$的解；$2x_{3} - (x_{1} +x_{2})$为$Ax = 0$的解。</p>
<p>(3) 非齐次线性方程组${Ax} = b$无解$\Leftrightarrow r(A) + 1 =r(\overline{A}) \Leftrightarrow b$不能由$A$的列向量$\alpha_{1},\alpha_{2},\cdots,\alpha_{n}$线性表示。</p>
<p><strong>4.奇次线性方程组的基础解系和通解，解空间，非奇次线性方程组的通解</strong></p>
<p>(1) 齐次方程组${Ax} = 0$恒有解(必有零解)。当有非零解时，由于解向量的任意线性组合仍是该齐次方程组的解向量，因此${Ax}= 0$的全体解向量构成一个向量空间，称为该方程组的解空间，解空间的维数是$n - r(A)$，解空间的一组基称为齐次方程组的基础解系。</p>
<p>(2) $\eta_{1},\eta_{2},\cdots,\eta_{t}$是${Ax} = 0$的基础解系，即：</p>
<p>1) $\eta_{1},\eta_{2},\cdots,\eta_{t}$是${Ax} = 0$的解；</p>
<p>2) $\eta_{1},\eta_{2},\cdots,\eta_{t}$线性无关；</p>
<p>3) ${Ax} = 0$的任一解都可以由$\eta_{1},\eta_{2},\cdots,\eta_{t}$线性表出.<br>$k_{1}\eta_{1} + k_{2}\eta_{2} + \cdots + k_{t}\eta_{t}$是${Ax} = 0$的通解，其中$k_{1},k_{2},\cdots,k_{t}$是任意常数。</p>
<h2 id="矩阵的特征值和特征向量"><a href="#矩阵的特征值和特征向量" class="headerlink" title="矩阵的特征值和特征向量"></a>矩阵的特征值和特征向量</h2><p><strong>1.矩阵的特征值和特征向量的概念及性质</strong></p>
<p>(1) 设$\lambda$是$A$的一个特征值，则 ${kA},{aA} + {bE},A^{2},A^{m},f(A),A^{T},A^{- 1},A^{*}$有一个特征值分别为<br>${kλ},{aλ} + b,\lambda^{2},\lambda^{m},f(\lambda),\lambda,\lambda^{- 1},\frac{|A|}{\lambda},$且对应特征向量相同（$A^{T}$ 例外）。</p>
<p>(2)若$\lambda_{1},\lambda_{2},\cdots,\lambda_{n}$为$A$的$n$个特征值，则$\sum_{i= 1}^{n}\lambda_{i} = \sum_{i = 1}^{n}a_{ {ii} },\prod_{i = 1}^{n}\lambda_{i}= |A|$ ,从而$|A| \neq 0 \Leftrightarrow A$没有特征值。</p>
<p>(3)设$\lambda_{1},\lambda_{2},\cdots,\lambda_{s}$为$A$的$s$个特征值，对应特征向量为$\alpha_{1},\alpha_{2},\cdots,\alpha_{s}$，</p>
<p>若: $\alpha = k_{1}\alpha_{1} + k_{2}\alpha_{2} + \cdots + k_{s}\alpha_{s}$ ,</p>
<p>则: $A^{n}\alpha = k_{1}A^{n}\alpha_{1} + k_{2}A^{n}\alpha_{2} + \cdots +k_{s}A^{n}\alpha_{s} = k_{1}\lambda_{1}^{n}\alpha_{1} +k_{2}\lambda_{2}^{n}\alpha_{2} + \cdots k_{s}\lambda_{s}^{n}\alpha_{s}$ 。</p>
<p><strong>2.相似变换、相似矩阵的概念及性质</strong></p>
<p>(1) 若$A \sim B$，则</p>
<p>1) $A^{T} \sim B^{T},A^{- 1} \sim B^{- 1},,A^{<em>} \sim B^{</em>}$</p>
<p>2) $|A| = |B|,\sum_{i = 1}^{n}A_{ {ii} } = \sum_{i =1}^{n}b_{ {ii} },r(A) = r(B)$</p>
<p>3) $|\lambda E - A| = |\lambda E - B|$，对$\forall\lambda$成立</p>
<p><strong>3.矩阵可相似对角化的充分必要条件</strong></p>
<p>(1)设$A$为$n$阶方阵，则$A$可对角化$\Leftrightarrow$对每个$k_{i}$重根特征值$\lambda_{i}$，有$n-r(\lambda_{i}E - A) = k_{i}$</p>
<p>(2) 设$A$可对角化，则由$P^{- 1}{AP} = \Lambda,$有$A = {PΛ}P^{-1}$，从而$A^{n} = P\Lambda^{n}P^{- 1}$</p>
<p>(3) 重要结论</p>
<p>1) 若$A \sim B,C \sim D​$，则$\begin{bmatrix}  A &amp; O \ O &amp; C \\end{bmatrix} \sim \begin{bmatrix} B &amp; O \  O &amp; D \\end{bmatrix}​$.</p>
<p>2) 若$A \sim B$，则$f(A) \sim f(B),\left| f(A) \right| \sim \left| f(B)\right|$，其中$f(A)$为关于$n$阶方阵$A$的多项式。</p>
<p>3) 若$A$为可对角化矩阵，则其非零特征值的个数(重根重复计算)＝秩($A$)</p>
<p><strong>4.实对称矩阵的特征值、特征向量及相似对角阵</strong></p>
<p>(1)相似矩阵：设$A,B$为两个$n$阶方阵，如果存在一个可逆矩阵$P$，使得$B =P^{- 1}{AP}$成立，则称矩阵$A$与$B$相似，记为$A \sim B$。</p>
<p>(2)相似矩阵的性质：如果$A \sim B$则有：</p>
<p>1) $A^{T} \sim B^{T}$</p>
<p>2) $A^{- 1} \sim B^{- 1}$ （若$A$，$B$均可逆）</p>
<p>3) $A^{k} \sim B^{k}$ （$k$为正整数）</p>
<p>4) $\left| {λE} - A \right| = \left| {λE} - B \right|$，从而$A,B$<br>有相同的特征值</p>
<p>5) $\left| A \right| = \left| B \right|$，从而$A,B$同时可逆或者不可逆</p>
<p>6) 秩$\left( A \right) =$秩$\left( B \right),\left| {λE} - A \right| =\left| {λE} - B \right|$，$A,B$不一定相似</p>
<h2 id="二次型"><a href="#二次型" class="headerlink" title="二次型"></a>二次型</h2><p><strong>1.</strong>$\mathbf{n}$<strong>个变量</strong>$\mathbf{x}<em>{\mathbf{1} }\mathbf{,}\mathbf{x}</em>{\mathbf{2} }\mathbf{,\cdots,}\mathbf{x}_{\mathbf{n} }$<strong>的二次齐次函数</strong></p>
<p>$f(x_{1},x_{2},\cdots,x_{n}) = \sum_{i = 1}^{n}{\sum_{j =1}^{n}{a_{ {ij} }x_{i}y_{j} } }$，其中$a_{ {ij} } = a_{ {ji} }(i,j =1,2,\cdots,n)$，称为$n$元二次型，简称二次型. 若令$x = \ \begin{bmatrix}x_{1} \ x_{1} \  \vdots \ x_{n} \ \end{bmatrix},A = \begin{bmatrix}  a_{11}&amp; a_{12}&amp; \cdots &amp; a_{1n} \  a_{21}&amp; a_{22}&amp; \cdots &amp; a_{2n} \ \cdots &amp;\cdots &amp;\cdots &amp;\cdots \  a_{n1}&amp; a_{n2} &amp; \cdots &amp; a_{ {nn} } \\end{bmatrix}$,这二次型$f$可改写成矩阵向量形式$f =x^{T}{Ax}$。其中$A$称为二次型矩阵，因为$a_{ {ij} } =a_{ {ji} }(i,j =1,2,\cdots,n)$，所以二次型矩阵均为对称矩阵，且二次型与对称矩阵一一对应，并把矩阵$A$的秩称为二次型的秩。</p>
<p><strong>2.惯性定理，二次型的标准形和规范形</strong></p>
<p>(1) 惯性定理</p>
<p>对于任一二次型，不论选取怎样的合同变换使它化为仅含平方项的标准型，其正负惯性指数与所选变换无关，这就是所谓的惯性定理。</p>
<p>(2) 标准形</p>
<p>二次型$f = \left( x_{1},x_{2},\cdots,x_{n} \right) =x^{T}{Ax}$经过合同变换$x = {Cy}$化为$f = x^{T}{Ax} =y^{T}C^{T}{AC}$</p>
<p>$y = \sum_{i = 1}^{r}{d_{i}y_{i}^{2} }$称为 $f(r \leq n)$的标准形。在一般的数域内，二次型的标准形不是唯一的，与所作的合同变换有关，但系数不为零的平方项的个数由$r(A)$唯一确定。</p>
<p>(3) 规范形</p>
<p>任一实二次型$f$都可经过合同变换化为规范形$f = z_{1}^{2} + z_{2}^{2} + \cdots z_{p}^{2} - z_{p + 1}^{2} - \cdots -z_{r}^{2}$，其中$r$为$A$的秩，$p$为正惯性指数，$r -p$为负惯性指数，且规范型唯一。</p>
<p><strong>3.用正交变换和配方法化二次型为标准形，二次型及其矩阵的正定性</strong></p>
<p>设$A$正定$\Rightarrow {kA}(k &gt; 0),A^{T},A^{- 1},A^{*}$正定；$|A| &gt;0$,$A$可逆；$a_{ {ii} } &gt; 0$，且$|A_{ {ii} }| &gt; 0$</p>
<p>$A$，$B$正定$\Rightarrow A +B$正定，但${AB}$，${BA}$不一定正定</p>
<p>$A$正定$\Leftrightarrow f(x) = x^{T}{Ax} &gt; 0,\forall x \neq 0$</p>
<p>$\Leftrightarrow A$的各阶顺序主子式全大于零</p>
<p>$\Leftrightarrow A$的所有特征值大于零</p>
<p>$\Leftrightarrow A$的正惯性指数为$n$</p>
<p>$\Leftrightarrow$存在可逆阵$P$使$A = P^{T}P$</p>
<p>$\Leftrightarrow$存在正交矩阵$Q$，使$Q^{T}{AQ} = Q^{- 1}{AQ} =\begin{pmatrix} \lambda_{1} &amp; &amp; \ \begin{matrix}  &amp; \  &amp; \ \end{matrix} &amp;\ddots &amp; \  &amp; &amp; \lambda_{n} \ \end{pmatrix},$</p>
<p>其中$\lambda_{i} &gt; 0,i = 1,2,\cdots,n.$正定$\Rightarrow {kA}(k &gt;0),A^{T},A^{- 1},A^{*}$正定； $|A| &gt; 0,A$可逆；$a_{ {ii} } &gt;0$，且$|A_{ {ii} }| &gt; 0$ 。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-11-30T05:30:00.000Z">2018-11-30</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/学习笔记/">学习笔记</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    30 分钟 读完 (大约 4493 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/11/30/2018-11-30-数学分析/">数学分析</a>
            
        </h1>
        <div class="content">
            <h1 id="数学分析"><a href="#数学分析" class="headerlink" title="数学分析"></a>数学分析</h1><h2 id="增长趋势"><a href="#增长趋势" class="headerlink" title="增长趋势"></a>增长趋势</h2><p>$n\to+\infty,\forall p,q&gt;0,a&gt;1,{(\ln n)}^q\ll n^p\ll a^n\ll n!\ll n^n$</p>
<h2 id="积分表"><a href="#积分表" class="headerlink" title="积分表"></a>积分表</h2><p>反读可得导数表，此处略。<br>$\int k,\mathrm{d}x=kx+C$<br>$\int x^a,dx=\frac{x^{a+1} }{a+1}+C$<br>$\int\frac{1}{x},dx=\ln|x|+C$<br>$\int e^x,dx=e^x + C$<br>$\int a^x,dx=\frac{a^x}{\ln a}+C$<br>$\int\cos x,dx=\sin x+C$<br>$\int\sin x,dx=-\cos x+C$<br>$\int\frac{1}{cos^2x},dx=\int\sec^2 x,dx=\tan x+C$<br>$\int\frac{1}{sin^2x},dx=\int\csc^2 x,dx=-\cot x+C$<br>$\int\frac{1}{\sqrt{1-x^2} },dx=\arcsin x+C=-\arccos x + C$<br>$\int\frac{1}{1+x^2},dx=\arctan x+C=-arccot,x+C$<br>$\int\sec x\tan x,dx=\sec x+C$<br>$\int\csc x\cot x,dx=-\csc x+C$<br>$\int\tan x,dx=-\ln|\cos x|+C$<br>$\int\cot x,dx=\ln|\sin x|+C$<br>$\int\sec x,dx=\ln|\sec x+\tan x|+C$<br>$\int\csc x,dx=\ln|\csc x-\cot x|+C$<br>$\int sh,x,dx=ch,x+C$<br>$\int ch,x,dx=sh,x+C$<br>$\int\frac{1}{x^2+a^2},dx=\frac{1}{a}\arctan\frac{x}{a}+C$<br>$\int\frac{1}{x^2-a^2},dx=\frac{1}{2a}\ln|\frac{x-a}{x+a}| + C$<br>$\int\frac{1}{\sqrt{a^2-x^2} },dx=\arcsin\frac{x}{a}+C$<br>$\int\frac{1}{\sqrt{x^2-a^2} },dx=\ln|x+\sqrt{x^2-a^2}|+C$<br>$\int\frac{1}{\sqrt{x^2+a^2} },dx=\ln|x+\sqrt{x^2+a^2}|+C$</p>
<h2 id="积分求几何量"><a href="#积分求几何量" class="headerlink" title="积分求几何量"></a>积分求几何量</h2><h3 id="面积"><a href="#面积" class="headerlink" title="面积"></a>面积</h3><p>若简单闭曲线$\begin{cases}x=x(t),\y=y(t),\end{cases}t\in[\alpha,\beta]$端点处连续（$x(\alpha)=x(\beta),y(\alpha)=y(\beta)$）且其他地方不自交，$x(t),y(t)$都逐段有连续微商，则此闭合曲线围起来的有界区域面积$S=-\int_\alpha^\beta x’(t)y(t),dt=-\int_\alpha^\beta y(t),dx(t)=-\oint_\Gamma y,dx=\oint_\Gamma x,dy$等式右边称为曲线$\Gamma$上的积分，其计算方法是带入参数方程到定积分计算式中，积分上下限为始点与终点对应的参数值。下限并不总是小于上限，参数从下限到上限变化时对应曲线的正向（沿正向观察时，曲线所围的区域永远在左侧）。<br>极坐标下，连续非负曲线$r=r(\theta)$与向径$\theta=\alpha,\theta=\beta$，其中$0\leq\beta-\alpha\leq2\pi$所围成的平面图形面积$S=\frac{1}{2}\int_\alpha^\beta r^2(\theta),d\theta$</p>
<h3 id="体积"><a href="#体积" class="headerlink" title="体积"></a>体积</h3><p>记立体过x点且垂直于x轴的截面面积为$S(x)$，则其体积$V=\int_a^bS(x),dx$连续曲线$y=f(x)\ge 0,x\in[a,b]$绕x轴旋转一周产生的旋转体体积$V=\pi\int_a^by^2,dx$</p>
<h3 id="弧长"><a href="#弧长" class="headerlink" title="弧长"></a>弧长</h3><p>若简单闭曲线$\begin{cases}x=x(t),\y=y(t),\end{cases}t\in[\alpha,\beta]$端点处重合（$x(\alpha)=x(\beta),y(\alpha)=y(\beta)$）且其他地方不自交，$x(t),y(t)$连续且满足$[x’(t)]^2+[y’(t)]^2\ne0,\forall t\in[\alpha,\beta]$此时称曲线光滑，其长度$s=\int_\alpha^\beta\sqrt{[x’(t)]^2+[y’(t)]^2},dt$此式可对称推广到高维空间曲线。<br>极坐标下，$r=r(\theta),\theta\in[\alpha,\beta]$的长度为$s=\int_\alpha^\beta\sqrt{[r(\theta)]^2+[r’(\theta)]^2},d\theta$</p>
<h3 id="曲率"><a href="#曲率" class="headerlink" title="曲率"></a>曲率</h3><p>若曲线由参数方程$\begin{cases}x=x(t),\y=y(t),\end{cases}t\in[\alpha,\beta]$给出且有二阶微商，则其在一点的曲率$K=\frac{|y’’x’-y’x’’|}{[x’^2+y’^2]^{\frac{3}{2} } }$若$y=f(x)$，则$K=\frac{|y’’|}{(1+y’^2)^\frac{3}{2} }$同时记$\frac{1}{K}$为曲率半径。</p>
<h3 id="旋转体侧面积"><a href="#旋转体侧面积" class="headerlink" title="旋转体侧面积"></a>旋转体侧面积</h3><p>若曲线由参数方程$\begin{cases}x=x(t),\y=y(t),\end{cases}t\in[\alpha,\beta]$给出，则其绕x轴旋转体的侧面积$s=2\pi\int_\alpha^\beta y(t)\sqrt{[x’(t)]^2+[y’(t)]^2},dt$</p>
<h3 id="空间曲线的切线与法平面"><a href="#空间曲线的切线与法平面" class="headerlink" title="空间曲线的切线与法平面"></a>空间曲线的切线与法平面</h3><p>若已知曲线上一点$P(x_0,y_0,z_0)$处的切向量为$\tau(x_0,y_0,z_0)=(A,B,C)$则曲线在该点的切线方程为$\frac{x-x_0}A=\frac{y-y_0}B=\frac{z-z_0}C$法平面方程为$A(x-x_0)+B(y-y_0)+C(z-z_0)=0$当曲线由参数方程$\begin{cases}x=x(t),\y=y(t),\z=z(t),\end{cases}t\in[\alpha,\beta]$给出时，曲线在P点的切向量为$\tau=\pm(x’(t_0),y’(t_0),z’(t_0))$更一般地，若曲线用两曲面的交线给出$\begin{cases}F(x,y,z)=0,\G(x,y,z)=0,\end{cases}$且在P点的某邻域能确定函数组$y=y(x),z=z(x)$满足$y_0=y(x_0),z_0=z(x_0)$，且$y’(x),z’(x)$存在，则曲线在P点的切向量$\tau=\pm(\frac{\partial(F,G)}{\partial(y,z)},\frac{\partial(F,G)}{\partial(z,x)},\frac{\partial(F,G)}{\partial(x,y)})$</p>
<h3 id="空间曲面的切平面与法线"><a href="#空间曲面的切平面与法线" class="headerlink" title="空间曲面的切平面与法线"></a>空间曲面的切平面与法线</h3><p>若已知曲面上一点$P(x_0,y_0,z_0)$处的切平面的法向量为$\vec n=(A’,B’,C’)$则曲线在该点的法线方程为$\frac{x-x_0}{A’}=\frac{y-y_0}{B’}=\frac{z-z_0}{C’}$切平面方程为$A’(x-x_0)+B’(y-y_0)+C’(z-z_0)=0$当曲面方程为$\pi:F(x,y,z)=0$在曲面上任取一条过P的曲线，设其方程为$\begin{cases}x=x(t),\y=y(t),\z=z(t),\end{cases}t\in[\alpha,\beta]$此时有$F(x(t),y(t),z(t))=0$令$t=t_0$两边对t求导，并写成向量的内积式，得$(F_x,F_y,F_z)_P\cdot(x’(t_0),y’(t_0),z’(t_0))=0$则曲线在P点的法向量为$\vec{n}=\pm(F_x,F_y,F_z)_P$若曲线由参数方程给出$\begin{cases}x=x(u,v),\y=y(u,v),\z=z(u,v),\end{cases}$<br>则曲线在P点的法向量$\vec{n}=\pm(\frac{\partial(y,z)}{\partial(u,v)},\frac{\partial(z,x)}{\partial(u,v)},\frac{\partial(x,y)}{\partial(u,v)})$</p>
<h3 id="方向导数"><a href="#方向导数" class="headerlink" title="方向导数"></a>方向导数</h3><p>设三元函数$u=f(x,y,z)$在点$P_0(x_0,y_0,z_0)$的某邻域内有定义，任意给定始于点$P_0$的射线$l$，$P(x,y,z)$为l上且含于定义域内的点。若极限$\lim_{r(p,p_0)\to0^+}\frac{f(P)-f(P_0)}{r(P,P_0)}=\lim_{r(p,p_0)\to0^+}\frac{\Delta_lf(P_0)}{r(P,P_0)}$存在，则称该极限值为函数$f$在点$P_0$沿方向$l$的方向导数，记为$\frac{\partial f}{\partial l}|<em>{P_0}$或$\frac{\partial f(P_0)}{\partial l}$，$\frac{\Delta_lf(P_0)}{r(P,P_0)}$称为函数在$P_0$点沿$l$方向的增量。特别地，$\frac{\partial f(P_0)}{\partial x}$就是函数在$P_0$点沿$x$轴正向的方向导数，$y,z$轴上的方向导数同理。若函数在$P_0$点可微，则其在$P_0$沿任何方向$l$的方向导数都存在，则有以下公式$\frac{\partial f(P_0)}{\partial l}=(\frac{\partial f}{\partial x},\frac{\partial f}{\partial y},\frac{\partial f}{\partial z})|</em>{P_0}\cdot\vec{l_0}$其中$\vec{l_0}=(\cos\alpha,\cos\beta,cos\gamma)=\frac{1}{\rho}(\Delta x,\Delta y,\Delta z)$为$l$的方向余弦。</p>
<h2 id="泰勒公式"><a href="#泰勒公式" class="headerlink" title="泰勒公式"></a>泰勒公式</h2><p>用$f^{(n)}(x)$表示f(x)的n阶导数。<br>只要让<code>余项&lt;EPS</code>即可计算指定函数到任意精确度。<br>特别取a=0时称为麦克劳林公式。<br>$f(x)=f(a)+f^{(1)}(a)(x-a)+\frac{f^{(2)}(a)}{2!}(x-a)^2+\ldots+\frac{f^{(n)}(a)}{n!}(x-a)^n+R_n(x)$<br>$R_n(x)=o((x-a)^n)$，佩亚诺余项<br>$R_n(x)=\frac{1}{n!}\int_a^x(x-t)^nf^{(n+1)}(t),dt$，积分余项<br>$R_n(x)=\frac{f^{(n+1)}(\xi)}{(n+1)!}(x-a)^{n+1},a&lt;\xi&lt;x$，拉格朗日余项<br>$R_n(x)=\frac{(x-a)^{n+1} }{n!}(1-\theta)^nf^{(n+1)}(a+\theta(x-a)),0&lt;\theta&lt;1$，柯西余项</p>
<h3 id="指数函数"><a href="#指数函数" class="headerlink" title="指数函数"></a>指数函数</h3><p>$(e^x)^{(n)}=e^x$<br>$e^x=1+x+\frac{x^2}{2!}+\frac{x^3}{3!}+\ldots+\frac{x^n}{n!}+R_n(x)$<br>$R_n(x)=\frac{e^{\theta x} }{(n+1)!}x^{n+1},\xi=\theta x,0&lt;\theta&lt;1$</p>
<h3 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h3><p>$(\sin x)^{(n)}=\sin(x+\frac{n\pi}{2})$<br>$\sin x=x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!}+\ldots+(-1)^{k-1}\frac{x^{2k-1} }{(2k-1)!}+R_{2k}(x)$<br>$R_{2k}(x)=(-1)^k\frac{\cos\theta x}{(2k+1)!}x^{2k+1}$<br>$(\cos x)^{(n)}=\cos(x+\frac{n\pi}{2})$<br>$\cos x=1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\ldots+(-1)^{k-1}\frac{x^{2k-2} }{(2k-2)!}+R_{2k-1}(x)$<br>$R_{2k-1}(x)=(-1)^k\frac{\cos\theta x}{(2k)!}x^{2k}$</p>
<h3 id="对数函数"><a href="#对数函数" class="headerlink" title="对数函数"></a>对数函数</h3><p>$[\ln(1+x)]^{(n)}=(-1)^{n-1}(n-1)!(1+x)^{-n}$<br>$\ln(1+x)=x-\frac{x^2}{2}+\frac{x^3}{3}-\frac{x^4}{4}+\ldots+(-1)^{n-1}\frac{x^n}{n}+R_n(x)$</p>
<h3 id="幂函数"><a href="#幂函数" class="headerlink" title="幂函数"></a>幂函数</h3><p>$[(1+x)^a]^{(n)}=a(a-1)\ldots(a-n+1)(1+x)^{a-n}$<br>$(1+x)^a=1+ax+\frac{a(a-1)}{2!}x^2+\dots+\frac{a(a-1)\ldots(a-n+1)}{n!}x^n+R_n(x)$</p>
<h3 id="二元函数"><a href="#二元函数" class="headerlink" title="二元函数"></a>二元函数</h3><p>设$f(x,y)$在$P_0(x_0,y_0)$的某邻域$O(P_0)$内有直到$n+1$阶连续偏导数，则对$O(P_0)$内$\forall(x_0+\Delta x,y_0+\Delta y),\exists\theta\in(0,1)$，使得$f(x_0+\Delta x,y_0+\Delta y)=\sum_{k=0}^n\frac{1}{k!}(\frac{\partial}{\partial x}\Delta x+\frac{\partial}{\partial y}\Delta y)^kf(x_0,y_0)+R_n$其中$R_n=\frac{1}{(n+1)!}(\frac{\partial}{\partial x}\Delta x+\frac{\partial}{\partial y}\Delta y)^{n+1}f(x_0+\theta\Delta x,y_0+\theta\Delta y)$</p>
<h2 id="级数部分和"><a href="#级数部分和" class="headerlink" title="级数部分和"></a>级数部分和</h2><h3 id="调和级数"><a href="#调和级数" class="headerlink" title="调和级数"></a>调和级数</h3><p>$n\to\infty,\sum_{i=1}^n\frac 1 i\to\ln n+r,r\approx0.5772156649015328\ldots$</p>
<h3 id="幂级数"><a href="#幂级数" class="headerlink" title="幂级数"></a>幂级数</h3><p>快速计算幂级数的部分和$\sum_{i=1}^ni^k\mod M$可借助伯努利数，详见<a href="https://blog.csdn.net/w_weilan/article/details/80500741" target="_blank" rel="noopener">模板·组合数学</a>。<br>$\sum_{i=1}^ni^1=\frac 1 2n(n+1)$<br>$\sum_{i=1}^ni^2=\frac 1 6n(n+1)(2n+1)$<br>$\sum_{i=1}^ni^3=\frac 1 4[n(n+1)]^2$<br>$\sum_{i=1}^ni^4=\frac 1{30}n(n+1)(2n+1)(3n^2+3n-1)$<br>$\sum_{i=1}^ni^5=\frac 1{12}[n(n+1)]^2(2n^2+2n-1)$<br>$\sum_{i=1}^ni^6=\frac 1{42}n(n+1)(2n+1)(3n^4+6n^3-3n+1)$</p>
<h2 id="二分求零点、三分求极值点"><a href="#二分求零点、三分求极值点" class="headerlink" title="二分求零点、三分求极值点"></a>二分求零点、三分求极值点</h2><p>需要$f(x)$在区间$[l,r]$上单调/凹凸性唯一。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">bs</span><span class="hljs-params">(<span class="hljs-keyword">double</span> l,<span class="hljs-keyword">double</span> r,<span class="hljs-keyword">double</span> f(<span class="hljs-keyword">double</span> x))</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"> <span class="hljs-keyword">if</span>(r-l&lt;EPS)<span class="hljs-keyword">return</span> l;</span><br><span class="line"> <span class="hljs-keyword">double</span> m=(l+r)/<span class="hljs-number">2</span>;</span><br><span class="line"> <span class="hljs-keyword">return</span> sgn(f(l)*f(m))&lt;<span class="hljs-number">0</span>?bs(l,m,f):ts(m,r,f);</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">ts</span><span class="hljs-params">(<span class="hljs-keyword">double</span> l,<span class="hljs-keyword">double</span> r,<span class="hljs-keyword">double</span> f(<span class="hljs-keyword">double</span> x))</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line"> <span class="hljs-keyword">if</span>(r-l&lt;EPS)<span class="hljs-keyword">return</span> l;</span><br><span class="line"> <span class="hljs-keyword">double</span> d=(r-l)/<span class="hljs-number">3</span>,lm=l+d,rm=r-d;</span><br><span class="line"> <span class="hljs-keyword">return</span> f(lm)&lt;f(rm)?ts(l,rm,f):ts(lm,r,f);<span class="hljs-comment">//极小值</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="自适应辛普森求函数积分"><a href="#自适应辛普森求函数积分" class="headerlink" title="自适应辛普森求函数积分"></a><a href="https://vjudge.net/solution/16740138" target="_blank" rel="noopener">自适应辛普森求函数积分</a></h2><figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Simpson</span></span></span><br><span class="line"><span class="hljs-class">&#123;</span></span><br><span class="line">	<span class="hljs-function">lf <span class="hljs-title">simpson</span><span class="hljs-params">(lf a,lf b,lf f(lf x))</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		<span class="hljs-keyword">return</span> (f(a)+<span class="hljs-number">4</span>*f((a+b)/<span class="hljs-number">2</span>)+f(b))*(b-a)/<span class="hljs-number">6</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-function">lf <span class="hljs-title">ask</span><span class="hljs-params">(lf a,lf b,lf f(lf x),lf e=EPS)</span></span></span><br><span class="line"><span class="hljs-function">	</span>&#123;</span><br><span class="line">		lf c=(a+b)/<span class="hljs-number">2</span>,L=simpson(a,c,f),R=simpson(c,b,f),A=simpson(a,b,f);</span><br><span class="line">		<span class="hljs-keyword">return</span> <span class="hljs-built_in">fabs</span>(L+R-A)&lt;EPS*<span class="hljs-number">15</span>?L+R+(L+R-A)/<span class="hljs-number">15</span>:ask(a,c,f,e/<span class="hljs-number">2</span>)+ask(c,b,f,e/<span class="hljs-number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="插值法"><a href="#插值法" class="headerlink" title="插值法"></a>插值法</h2><p>拉格朗日插值法：插值多项式和插值基函数的形式对称，容易编程。但是，增加节点时，需要重新计算每一个插值基函数。要在$\pmod p$意义下进行的话，那么p只能是质数。<br>牛顿插值法：当插值节点增加时，之前已计算的结果仍然能用，每增加一个节点，只要再增加一项即可，从而避免了重复性计算。如果要mod非质数的话，那么就要用牛顿插值法。</p>
<figure class="highlight cpp hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">complex</span>&lt;<span class="hljs-keyword">double</span>&gt; Coord;</span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> X real()</span></span><br><span class="line"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> Y imag()</span></span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">lagrange</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;Coord&gt; &amp;p,<span class="hljs-keyword">double</span> x)</span><span class="hljs-comment">//返回p确定的多项式函数在x处的值</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">double</span> ret=<span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;p.size(); ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">double</span> tmp=p[i].Y;</span><br><span class="line">		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;p.size(); ++j)</span><br><span class="line">			<span class="hljs-keyword">if</span>(i!=j)tmp*=(x-p[j].X)/(p[i].X-p[j].X);</span><br><span class="line">		ret+=tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; lagrange(<span class="hljs-built_in">vector</span>&lt;Coord&gt; p)<span class="hljs-comment">//返回p确定的多项式系数向量</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; ret(p.size()),sum(p.size());</span><br><span class="line">	ret[<span class="hljs-number">0</span>]=p[<span class="hljs-number">0</span>].Y,sum[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;p.size(); ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=p.size()<span class="hljs-number">-1</span>; j&gt;=i; --j)</span><br><span class="line">			p[j].Y=(p[j].Y-p[j<span class="hljs-number">-1</span>].Y)/(p[j].X-p[j-i].X);</span><br><span class="line">		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=i; ~j; --j)</span><br><span class="line">			sum[j]=(j?sum[j<span class="hljs-number">-1</span>]:<span class="hljs-number">0</span>)-sum[j]*p[i<span class="hljs-number">-1</span>].X,</span><br><span class="line">			       ret[j]+=sum[j]*p[i].Y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">differenceQuotient</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;Coord&gt; &amp;p,<span class="hljs-keyword">int</span> k)</span><span class="hljs-comment">//计算差商</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">double</span> ret=<span class="hljs-number">0</span>;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;=k; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">double</span> tmp=p[i].Y;</span><br><span class="line">		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;=k; ++j)</span><br><span class="line">			<span class="hljs-keyword">if</span>(i!=j)tmp/=p[i].X-p[j].X;</span><br><span class="line">		ret+=tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">newton</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;Coord&gt; &amp;p,<span class="hljs-keyword">double</span> x)</span></span></span><br><span class="line"><span class="hljs-function"></span>&#123;</span><br><span class="line">	<span class="hljs-keyword">double</span> ret=p[<span class="hljs-number">0</span>].Y;</span><br><span class="line">	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;p.size(); ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="hljs-keyword">double</span> tmp=differenceQuotient(p,i);<span class="hljs-comment">//多次求，可O(n^3)预处理优化</span></span><br><span class="line">		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;i; ++j)tmp*=x-p[j].X;</span><br><span class="line">		ret+=tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="hljs-keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="转载"><a href="#转载" class="headerlink" title="转载"></a>转载</h1><blockquote>
<p>以下<strong>转载自</strong><a href="https://github.com/fengdu78/Coursera-ML-AndrewNg-Notes" target="_blank" rel="noopener">斯坦福大学2014（吴恩达）机器学习教程中文笔记</a>，感谢编者黄海广博士。</p>
</blockquote>
<h2 id="导数定义"><a href="#导数定义" class="headerlink" title="导数定义"></a>导数定义</h2><p>导数和微分的概念</p>
<p>$f’({ {x}<em>{0} })=\underset{\Delta x\to 0}{\mathop{\lim } },\frac{f({ {x}</em>{0} }+\Delta x)-f({ {x}_{0} })}{\Delta x}$    （1）</p>
<p>或者：</p>
<p>$f’({ {x}<em>{0} })=\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{f(x)-f({ {x}<em>{0} })}{x-{ {x}</em>{0} } }$           （2）</p>
<h2 id="左右导数导数的几何意义和物理意义"><a href="#左右导数导数的几何意义和物理意义" class="headerlink" title="左右导数导数的几何意义和物理意义"></a>左右导数导数的几何意义和物理意义</h2><p>函数$f(x)$在$x_0$处的左、右导数分别定义为：</p>
<p>左导数：${ { {f}’}<em>{-} }({ {x}</em>{0} })=\underset{\Delta x\to { {0}^{-} } }{\mathop{\lim } },\frac{f({ {x}<em>{0} }+\Delta x)-f({ {x}</em>{0} })}{\Delta x}=\underset{x\to x_{0}^{-} }{\mathop{\lim } },\frac{f(x)-f({ {x}<em>{0} })}{x-{ {x}</em>{0} } },(x={ {x}_{0} }+\Delta x)$</p>
<p>右导数：${ { {f}’}<em>{+} }({ {x}</em>{0} })=\underset{\Delta x\to { {0}^{+} } }{\mathop{\lim } },\frac{f({ {x}<em>{0} }+\Delta x)-f({ {x}</em>{0} })}{\Delta x}=\underset{x\to x_{0}^{+} }{\mathop{\lim } },\frac{f(x)-f({ {x}<em>{0} })}{x-{ {x}</em>{0} } }$</p>
<h2 id="函数的可导性与连续性之间的关系"><a href="#函数的可导性与连续性之间的关系" class="headerlink" title="函数的可导性与连续性之间的关系"></a>函数的可导性与连续性之间的关系</h2><h3 id="Th1"><a href="#Th1" class="headerlink" title="Th1"></a>Th1</h3><p>函数$f(x)$在$x_0$处可微$\Leftrightarrow f(x)$在$x_0$处可导</p>
<h3 id="Th2"><a href="#Th2" class="headerlink" title="Th2"></a>Th2</h3><p>若函数在点$x_0$处可导，则$y=f(x)$在点$x_0$处连续，反之则不成立。即函数连续不一定可导。</p>
<h3 id="Th3"><a href="#Th3" class="headerlink" title="Th3"></a>Th3</h3><p>${f}’({ {x}<em>{0} })$存在$\Leftrightarrow { { {f}’}</em>{-} }({ {x}<em>{0} })={ { {f}’}</em>{+} }({ {x}_{0} })$</p>
<h2 id="平面曲线的切线和法线"><a href="#平面曲线的切线和法线" class="headerlink" title="平面曲线的切线和法线"></a>平面曲线的切线和法线</h2><p>切线方程 : $y-{ {y}<em>{0} }=f’({ {x}</em>{0} })(x-{ {x}<em>{0} })$<br>法线方程：$y-{ {y}</em>{0} }=-\frac{1}{f’({ {x}<em>{0} })}(x-{ {x}</em>{0} }),f’({ {x}_{0} })\ne 0$</p>
<h2 id="四则运算法则"><a href="#四则运算法则" class="headerlink" title="四则运算法则"></a>四则运算法则</h2><p>设函数$u=u(x)，v=v(x)$]在点$x$可导则<br>(1) $(u\pm v{)}’={u}’\pm {v}’$       $d(u\pm v)=du\pm dv$<br>(2)$(uv{)}’=u{v}’+v{u}’$        $d(uv)=udv+vdu$<br>(3) $(\frac{u}{v}{)}’=\frac{v{u}’-u{v}’}{ { {v}^{2} } }(v\ne 0)$       $d(\frac{u}{v})=\frac{vdu-udv}{ { {v}^{2} } }$</p>
<h2 id="基本导数与微分表"><a href="#基本导数与微分表" class="headerlink" title="基本导数与微分表"></a>基本导数与微分表</h2><p>(1) $y=c$（常数）       ${y}’=0$          $dy=0$<br>(2) $y={ {x}^{\alpha } }$($\alpha $为实数)    ${y}’=\alpha { {x}^{\alpha -1} }$      $dy=\alpha { {x}^{\alpha -1} }dx$<br>(3) $y={ {a}^{x} }$      ${y}’={ {a}^{x} }\ln a$         $dy={ {a}^{x} }\ln adx$<br>  特例:   $({ { {e} }^{x} }{)}’={ { {e} }^{x} }$             $d({ { {e} }^{x} })={ { {e} }^{x} }dx$</p>
<p>(4) ${y}’=\frac{1}{x\ln a}$           </p>
<p>$dy=\frac{1}{x\ln a}dx$<br>  特例:$y=\ln x$                      $(\ln x{)}’=\frac{1}{x}$       $d(\ln x)=\frac{1}{x}dx$</p>
<p>(5) $y=\sin x$         </p>
<p>${y}’=\cos x$        $d(\sin x)=\cos xdx$</p>
<p>(6) $y=\cos x$      </p>
<p>${y}’=-\sin x$       $d(\cos x)=-\sin xdx$</p>
<p>(7) $y=\tan x$  </p>
<p>${y}’=\frac{1}{ { {\cos }^{2} }x}={ {\sec }^{2} }x$  $d(\tan x)={ {\sec }^{2} }xdx$<br>(8) $y=\cot x$ ${y}’=-\frac{1}{ { {\sin }^{2} }x}=-{ {\csc }^{2} }x$  $d(\cot x)=-{ {\csc }^{2} }xdx$<br>(9) $y=\sec x$ ${y}’=\sec x\tan x$     </p>
<p> $d(\sec x)=\sec x\tan xdx$<br>(10) $y=\csc x$ ${y}’=-\csc x\cot x$    </p>
<p>$d(\csc x)=-\csc x\cot xdx$<br>(11) $y=\arcsin x$  </p>
<p>${y}’=\frac{1}{\sqrt{1-{ {x}^{2} } } }$   </p>
<p>$d(\arcsin x)=\frac{1}{\sqrt{1-{ {x}^{2} } } }dx$<br>(12) $y=\arccos x$ </p>
<p>${y}’=-\frac{1}{\sqrt{1-{ {x}^{2} } } }$     $d(\arccos x)=-\frac{1}{\sqrt{1-{ {x}^{2} } } }dx$</p>
<p>(13) $y=\arctan x$ </p>
<p>${y}’=\frac{1}{1+{ {x}^{2} } }$     $d(\arctan x)=\frac{1}{1+{ {x}^{2} } }dx$</p>
<p>(14) $y=\operatorname{arc}\cot x$      </p>
<p>${y}’=-\frac{1}{1+{ {x}^{2} } }$   </p>
<p>$d(\operatorname{arc}\cot x)=-\frac{1}{1+{ {x}^{2} } }dx$<br>(15) $y=shx$    </p>
<p>${y}’=chx$       $d(shx)=chxdx$</p>
<p>(16) $y=chx$    </p>
<p>${y}’=shx$       $d(chx)=shxdx$</p>
<h2 id="复合函数，反函数，隐函数以及参数方程所确定的函数的微分法"><a href="#复合函数，反函数，隐函数以及参数方程所确定的函数的微分法" class="headerlink" title="复合函数，反函数，隐函数以及参数方程所确定的函数的微分法"></a>复合函数，反函数，隐函数以及参数方程所确定的函数的微分法</h2><p>(1) 反函数的运算法则: 设$y=f(x)$在点$x$的某邻域内单调连续，在点$x$处可导且${f}’(x)\ne 0$，则其反函数在点$x$所对应的$y$处可导，并且有$\frac{dy}{dx}=\frac{1}{\frac{dx}{dy} }$<br>(2) 复合函数的运算法则:若$\mu =\varphi (x)$在点$x$可导,而$y=f(\mu )$在对应点$\mu $($\mu =\varphi (x)$)可导,则复合函数$y=f(\varphi (x))$在点$x$可导,且${y}’={f}’(\mu )\cdot {\varphi }’(x)$<br>(3) 隐函数导数$\frac{dy}{dx}$的求法一般有三种方法：<br>1)方程两边对$x$求导，要记住$y$是$x$的函数，则$y$的函数是$x$的复合函数.例如$\frac{1}{y}$，${ {y}^{2} }$，$ln y$，${ { {e} }^{y} }$等均是$x$的复合函数.<br>对$x$求导应按复合函数连锁法则做.<br>2)公式法.由$F(x,y)=0$知 $\frac{dy}{dx}=-\frac{ { { { {F}’} }<em>{x} }(x,y)}{ { { { {F}’} }</em>{y} }(x,y)}$,其中，${ { {F}’}<em>{x} }(x,y)$，<br>${ { {F}’}</em>{y} }(x,y)$分别表示$F(x,y)$对$x$和$y$的偏导数<br>3)利用微分形式不变性</p>
<h2 id="常用高阶导数公式"><a href="#常用高阶导数公式" class="headerlink" title="常用高阶导数公式"></a>常用高阶导数公式</h2><p>（1）$({ {a}^{x} }){ {,}^{(n)} }={ {a}^{x} }{ {\ln }^{n} }a\quad (a&gt;{0})\quad \quad ({ { {e} }^{x} }){ {,}^{(n)} }={e}{ {,}^{x} }$<br>（2）$(\sin kx{)}{ {,}^{(n)} }={ {k}^{n} }\sin (kx+n\cdot \frac{\pi }{ {2} })$<br>（3）$(\cos kx{)}{ {,}^{(n)} }={ {k}^{n} }\cos (kx+n\cdot \frac{\pi }{ {2} })$<br>（4）$({ {x}^{m} }){ {,}^{(n)} }=m(m-1)\cdots (m-n+1){ {x}^{m-n} }$<br>（5）$(\ln x){ {,}^{(n)} }={ {(-{1})}^{(n-{1})} }\frac{(n-{1})!}{ { {x}^{n} } }$<br>（6）莱布尼兹公式：若$u(x),,v(x)$均$n$阶可导，则<br> ${ {(uv)}^{(n)} }=\sum\limits_{i={0} }^{n}{c_{n}^{i}{ {u}^{(i)} }{ {v}^{(n-i)} } }$，其中${ {u}^{({0})} }=u$，${ {v}^{({0})} }=v$</p>
<h2 id="微分中值定理，泰勒公式"><a href="#微分中值定理，泰勒公式" class="headerlink" title="微分中值定理，泰勒公式"></a>微分中值定理，泰勒公式</h2><h3 id="Th1-费马定理"><a href="#Th1-费马定理" class="headerlink" title="Th1(费马定理)"></a>Th1(费马定理)</h3><p>若函数$f(x)$满足条件：<br>(1)函数$f(x)$在${ {x}<em>{0} }$的某邻域内有定义，并且在此邻域内恒有<br>$f(x)\le f({ {x}</em>{0} })$或$f(x)\ge f({ {x}_{0} })$,</p>
<p>(2) $f(x)$在${ {x}<em>{0} }$处可导,则有 ${f}’({ {x}</em>{0} })=0$</p>
<h3 id="Th2-罗尔定理"><a href="#Th2-罗尔定理" class="headerlink" title="Th2(罗尔定理)"></a>Th2(罗尔定理)</h3><p>设函数$f(x)$满足条件：<br>(1)在闭区间$[a,b]$上连续；</p>
<p>(2)在$(a,b)$内可导；</p>
<p>(3)$f(a)=f(b)$；</p>
<p>则在$(a,b)$内一存在个$\xi $，使  ${f}’(\xi )=0$</p>
<h3 id="Th3-拉格朗日中值定理"><a href="#Th3-拉格朗日中值定理" class="headerlink" title="Th3(拉格朗日中值定理)"></a>Th3(拉格朗日中值定理)</h3><p>设函数$f(x)$满足条件：<br>(1)在$[a,b]$上连续；</p>
<p>(2)在$(a,b)$内可导；</p>
<p>则在$(a,b)$内一存在个$\xi $，使  $\frac{f(b)-f(a)}{b-a}={f}’(\xi )$</p>
<h3 id="Th4-柯西中值定理"><a href="#Th4-柯西中值定理" class="headerlink" title="Th4(柯西中值定理)"></a>Th4(柯西中值定理)</h3><p> 设函数$f(x)$，$g(x)$满足条件：<br>(1) 在$[a,b]$上连续；</p>
<p>(2) 在$(a,b)$内可导且${f}’(x)$，${g}’(x)$均存在，且${g}’(x)\ne 0$</p>
<p>则在$(a,b)$内存在一个$\xi $，使  $\frac{f(b)-f(a)}{g(b)-g(a)}=\frac{ {f}’(\xi )}{ {g}’(\xi )}$</p>
<h2 id="洛必达法则"><a href="#洛必达法则" class="headerlink" title="洛必达法则"></a>洛必达法则</h2><p>法则Ⅰ ($\frac{0}{0}$型)<br>设函数$f\left( x \right),g\left( x \right)$满足条件：<br> $\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },f\left( x \right)=0,\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },g\left( x \right)=0$; </p>
<p>$f\left( x \right),g\left( x \right)$在${ {x}<em>{0} }$的邻域内可导，(在${ {x}</em>{0} }$处可除外)且${g}’\left( x \right)\ne 0$;</p>
<p>$\underset{x\to { {x}_{0} } }{\mathop{\lim } },\frac{ {f}’\left( x \right)}{ {g}’\left( x \right)}$存在(或$\infty $)。</p>
<p>则:<br>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },\frac{f\left( x \right)}{g\left( x \right)}=\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{ {f}’\left( x \right)}{ {g}’\left( x \right)}$。<br>法则${ {I}’}$ ($\frac{0}{0}$型)设函数$f\left( x \right),g\left( x \right)$满足条件：<br>$\underset{x\to \infty }{\mathop{\lim } },f\left( x \right)=0,\underset{x\to \infty }{\mathop{\lim } },g\left( x \right)=0$;</p>
<p>存在一个$X&gt;0$,当$\left| x \right|&gt;X$时,$f\left( x \right),g\left( x \right)$可导,且${g}’\left( x \right)\ne 0$;$\underset{x\to { {x}_{0} } }{\mathop{\lim } },\frac{ {f}’\left( x \right)}{ {g}’\left( x \right)}$存在(或$\infty $)。</p>
<p>则:<br>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },\frac{f\left( x \right)}{g\left( x \right)}=\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{ {f}’\left( x \right)}{ {g}’\left( x \right)}$<br>法则Ⅱ($\frac{\infty }{\infty }$型) 设函数$f\left( x \right),g\left( x \right)$满足条件：<br>$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },f\left( x \right)=\infty ,\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },g\left( x \right)=\infty $;   $f\left( x \right),g\left( x \right)$在${ {x}<em>{0} }$ 的邻域内可导(在${ {x}</em>{0} }$处可除外)且${g}’\left( x \right)\ne 0$;$\underset{x\to { {x}<em>{0} } }{\mathop{\lim } },\frac{ {f}’\left( x \right)}{ {g}’\left( x \right)}$存在(或$\infty $)。则<br>$\underset{x\to { {x}</em>{0} } }{\mathop{\lim } },\frac{f\left( x \right)}{g\left( x \right)}=\underset{x\to { {x}_{0} } }{\mathop{\lim } },\frac{ {f}’\left( x \right)}{ {g}’\left( x \right)}.$同理法则${I{I}’}$($\frac{\infty }{\infty }$型)仿法则${ {I}’}$可写出。</p>
<h2 id="泰勒公式-1"><a href="#泰勒公式-1" class="headerlink" title="泰勒公式"></a>泰勒公式</h2><p>设函数$f(x)$在点${ {x}<em>{0} }$处的某邻域内具有$n+1$阶导数，则对该邻域内异于${ {x}</em>{0} }$的任意点$x$，在${ {x}<em>{0} }$与$x$之间至少存在<br>一个$\xi $，使得：<br>$f(x)=f({ {x}</em>{0} })+{f}’({ {x}<em>{0} })(x-{ {x}</em>{0} })+\frac{1}{2!}{f}’’({ {x}<em>{0} }){ {(x-{ {x}</em>{0} })}^{2} }+\cdots $<br>$+\frac{ { {f}^{(n)} }({ {x}<em>{0} })}{n!}{ {(x-{ {x}</em>{0} })}^{n} }+{ {R}<em>{n} }(x)$<br> 其中 ${ {R}</em>{n} }(x)=\frac{ { {f}^{(n+1)} }(\xi )}{(n+1)!}{ {(x-{ {x}<em>{0} })}^{n+1} }$称为$f(x)$在点${ {x}</em>{0} }$处的$n$阶泰勒余项。</p>
<p>令${ {x}<em>{0} }=0$，则$n$阶泰勒公式<br>$f(x)=f(0)+{f}’(0)x+\frac{1}{2!}{f}’’(0){ {x}^{2} }+\cdots +\frac{ { {f}^{(n)} }(0)}{n!}{ {x}^{n} }+{ {R}</em>{n} }(x)$……(1)<br>其中 ${ {R}_{n} }(x)=\frac{ { {f}^{(n+1)} }(\xi )}{(n+1)!}{ {x}^{n+1} }$，$\xi $在0与$x$之间.(1)式称为麦克劳林公式</p>
<h2 id="常用五种函数在-x-0-0-处的泰勒公式"><a href="#常用五种函数在-x-0-0-处的泰勒公式" class="headerlink" title="常用五种函数在${ {x}_{0} }=0$处的泰勒公式"></a>常用五种函数在${ {x}_{0} }=0$处的泰勒公式</h2><p>(1) ${ { {e} }^{x} }=1+x+\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{1}{n!}{ {x}^{n} }+\frac{ { {x}^{n+1} } }{(n+1)!}{ {e}^{\xi } }$ </p>
<p>或 $=1+x+\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{1}{n!}{ {x}^{n} }+o({ {x}^{n} })$</p>
<p>(2) $\sin x=x-\frac{1}{3!}{ {x}^{3} }+\cdots +\frac{ { {x}^{n} } }{n!}\sin \frac{n\pi }{2}+\frac{ { {x}^{n+1} } }{(n+1)!}\sin (\xi +\frac{n+1}{2}\pi )$</p>
<p>或  $=x-\frac{1}{3!}{ {x}^{3} }+\cdots +\frac{ { {x}^{n} } }{n!}\sin \frac{n\pi }{2}+o({ {x}^{n} })$</p>
<p>(3) $\cos x=1-\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{ { {x}^{n} } }{n!}\cos \frac{n\pi }{2}+\frac{ { {x}^{n+1} } }{(n+1)!}\cos (\xi +\frac{n+1}{2}\pi )$</p>
<p>或   $=1-\frac{1}{2!}{ {x}^{2} }+\cdots +\frac{ { {x}^{n} } }{n!}\cos \frac{n\pi }{2}+o({ {x}^{n} })$</p>
<p>(4) $\ln (1+x)=x-\frac{1}{2}{ {x}^{2} }+\frac{1}{3}{ {x}^{3} }-\cdots +{ {(-1)}^{n-1} }\frac{ { {x}^{n} } }{n}+\frac{ { {(-1)}^{n} }{ {x}^{n+1} } }{(n+1){ {(1+\xi )}^{n+1} } }$</p>
<p>或      $=x-\frac{1}{2}{ {x}^{2} }+\frac{1}{3}{ {x}^{3} }-\cdots +{ {(-1)}^{n-1} }\frac{ { {x}^{n} } }{n}+o({ {x}^{n} })$</p>
<p>(5) ${ {(1+x)}^{m} }=1+mx+\frac{m(m-1)}{2!}{ {x}^{2} }+\cdots +\frac{m(m-1)\cdots (m-n+1)}{n!}{ {x}^{n} }$<br>$+\frac{m(m-1)\cdots (m-n+1)}{(n+1)!}{ {x}^{n+1} }{ {(1+\xi )}^{m-n-1} }$ </p>
<p>或 ${ {(1+x)}^{m} }=1+mx+\frac{m(m-1)}{2!}{ {x}^{2} }+\cdots $ $+\frac{m(m-1)\cdots (m-n+1)}{n!}{ {x}^{n} }+o({ {x}^{n} })$</p>
<h2 id="函数单调性的判断"><a href="#函数单调性的判断" class="headerlink" title="函数单调性的判断"></a>函数单调性的判断</h2><p><strong>Th1:</strong>  设函数$f(x)$在$(a,b)$区间内可导，如果对$\forall x\in (a,b)$，都有$f,‘(x)&gt;0$（或$f,‘(x)&lt;0$），则函数$f(x)$在$(a,b)$内是单调增加的（或单调减少）</p>
<p><strong>Th2:</strong> （取极值的必要条件）设函数$f(x)$在${ {x}<em>{0} }$处可导，且在${ {x}</em>{0} }$处取极值，则$f,‘({ {x}_{0} })=0$。</p>
<p><strong>Th3:</strong> （取极值的第一充分条件）设函数$f(x)$在${ {x}<em>{0} }$的某一邻域内可微，且$f,‘({ {x}</em>{0} })=0$（或$f(x)$在${ {x}<em>{0} }$处连续，但$f,‘({ {x}</em>{0} })$不存在。）<br>(1)若当$x$经过${ {x}<em>{0} }$时，$f,‘(x)$由“+”变“-”，则$f({ {x}</em>{0} })$为极大值；<br>(2)若当$x​$经过${ {x}<em>{0} }​$时，$f,‘(x)$由“-”变“+”，则$f({ {x}</em>{0} })$为极小值；<br>(3)若$f,‘(x)$经过$x={ {x}<em>{0} }$的两侧不变号，则$f({ {x}</em>{0} })$不是极值。</p>
<p><strong>Th4:</strong> (取极值的第二充分条件)设$f(x)$在点${ {x}<em>{0} }$处有$f’’(x)\ne 0$，且$f,‘({ {x}</em>{0} })=0$，则 当$f’,‘({ {x}<em>{0} })&lt;0$时，$f({ {x}</em>{0} })$为极大值；<br>当$f’,‘({ {x}<em>{0} })&gt;0$时，$f({ {x}</em>{0} })$为极小值。<br>注：如果$f’,‘({ {x}_{0} })&lt;0$，此方法失效。</p>
<h2 id="渐近线的求法"><a href="#渐近线的求法" class="headerlink" title="渐近线的求法"></a>渐近线的求法</h2><p>(1)水平渐近线   若$\underset{x\to +\infty }{\mathop{\lim } },f(x)=b$，或$\underset{x\to -\infty }{\mathop{\lim } },f(x)=b$，则</p>
<p>$y=b$称为函数$y=f(x)$的水平渐近线。</p>
<p>(2)铅直渐近线   若$\underset{x\to x_{0}^{-} }{\mathop{\lim } },f(x)=\infty $，或$\underset{x\to x_{0}^{+} }{\mathop{\lim } },f(x)=\infty $，则</p>
<p>$x={ {x}_{0} }$称为$y=f(x)$的铅直渐近线。</p>
<p>(3)斜渐近线   若$a=\underset{x\to \infty }{\mathop{\lim } },\frac{f(x)}{x},\quad b=\underset{x\to \infty }{\mathop{\lim } },[f(x)-ax]$，则<br>$y=ax+b$称为$y=f(x)$的斜渐近线。</p>
<h2 id="函数凹凸性的判断"><a href="#函数凹凸性的判断" class="headerlink" title="函数凹凸性的判断"></a>函数凹凸性的判断</h2><p><strong>Th1:</strong> (凹凸性的判别定理）若在I上$f’’(x)&lt;0$（或$f’’(x)&gt;0$），则$f(x)$在I上是凸的（或凹的）。</p>
<p><strong>Th2:</strong> (拐点的判别定理1)若在${ {x}<em>{0} }$处$f’’(x)=0$，（或$f’’(x)$不存在），当$x$变动经过${ {x}</em>{0} }$时，$f’’(x)$变号，则$({ {x}<em>{0} },f({ {x}</em>{0} }))$为拐点。</p>
<p><strong>Th3:</strong> (拐点的判别定理2)设$f(x)$在${ {x}<em>{0} }$点的某邻域内有三阶导数，且$f’’(x)=0$，$f’’’(x)\ne 0$，则$({ {x}</em>{0} },f({ {x}_{0} }))$为拐点。</p>
<h2 id="弧微分"><a href="#弧微分" class="headerlink" title="弧微分"></a>弧微分</h2><p>$dS=\sqrt{1+y{ {‘}^{2} } }dx$</p>
<h2 id="曲率-1"><a href="#曲率-1" class="headerlink" title="曲率"></a>曲率</h2><p>若曲线由参数方程$\begin{cases}x=x(t),\y=y(t),\end{cases}t\in[\alpha,\beta]$给出且有二阶微商，则其在一点的曲率$K=\frac{|y’’x’-y’x’’|}{[x’^2+y’^2]^{\frac{3}{2} } }$若$y=f(x)$，则$K=\frac{|y’’|}{(1+y’^2)^\frac{3}{2} }$同时记$\frac{1}{K}$为曲率半径。</p>
<h2 id="曲率半径"><a href="#曲率半径" class="headerlink" title="曲率半径"></a>曲率半径</h2><p>曲线在点$M$处的曲率$k(k\ne 0)$与曲线在点$M$处的曲率半径$\rho $有如下关系：$\rho =\frac{1}{k}$。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous">
            <a class="is-flex-grow has-text-black-ter" href="/page/6/">上一页</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/page/8/">下一页</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link has-text-black-ter" href="/">1</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/6/">6</a></li>
            
            <li><a class="pagination-link is-current" href="/page/7/">7</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/8/">8</a></li>
            
            <li><span class="pagination-ellipsis has-text-black-ter">&hellip;</span></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/page/16/">16</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/cat/color_cat.jpg" alt="贾小厨">
                    
                    
                    <p class="is-size-4 is-block">
                        贾小厨
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        当前，你无法预测未来会怎样，但你可以选择跟靠谱的人一同工作，选择做正确的事。
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Beijing.China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        160
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        29
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        46
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/jiaxiaochu" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/jiaxiaochu">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/ACM/">
            <span class="level-start">
                <span class="level-item">ACM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">84</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/ACM/Template/">
            <span class="level-start">
                <span class="level-item">Template</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">10</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ACM/算法竞赛入门经典训练指南/">
            <span class="level-start">
                <span class="level-item">算法竞赛入门经典训练指南</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">7</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ACM/题解/">
            <span class="level-start">
                <span class="level-item">题解</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">50</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Linux/">
            <span class="level-start">
                <span class="level-item">Linux</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Python/">
            <span class="level-start">
                <span class="level-item">Python</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Spider/">
            <span class="level-start">
                <span class="level-item">Spider</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/函数程序设计实验/">
            <span class="level-start">
                <span class="level-item">函数程序设计实验</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">12</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/博客搭建/">
            <span class="level-start">
                <span class="level-item">博客搭建</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/吴恩达机器学习笔记/">
            <span class="level-start">
                <span class="level-item">吴恩达机器学习笔记</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/学习笔记/">
            <span class="level-start">
                <span class="level-item">学习笔记</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/小工具/">
            <span class="level-start">
                <span class="level-item">小工具</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/并行与分布式计算/">
            <span class="level-start">
                <span class="level-item">并行与分布式计算</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/操作系统/">
            <span class="level-start">
                <span class="level-item">操作系统</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/数字电路与逻辑设计/">
            <span class="level-start">
                <span class="level-item">数字电路与逻辑设计</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">6</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/机器学习/">
            <span class="level-start">
                <span class="level-item">机器学习</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/环境配置/">
            <span class="level-start">
                <span class="level-item">环境配置</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">14</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/程序设计/">
            <span class="level-start">
                <span class="level-item">程序设计</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/计算机组成原理/">
            <span class="level-start">
                <span class="level-item">计算机组成原理</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/计算机网络/">
            <span class="level-start">
                <span class="level-item">计算机网络</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/超级计算机原理与操作/">
            <span class="level-start">
                <span class="level-item">超级计算机原理与操作</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/07/23/pymysql远程连接被拒绝问题解决方法/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://ws1.sinaimg.cn/large/0065l1jqly1g592mgpd7mg30ot0ea7d5.gif" alt="pymysql远程连接被拒绝问题解决方法">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-22T16:08:33.000Z">2019-07-23</time></div>
                    <a href="/2019/07/23/pymysql远程连接被拒绝问题解决方法/" class="has-link-black-ter is-size-6">pymysql远程连接被拒绝问题解决方法</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/环境配置/">环境配置</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/22/Ubuntu系统搭建配置Python虚拟开发环境/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="https://ws1.sinaimg.cn/large/0065l1jqly1g590mpqs2ej30gg08c3ym.jpg" alt="Ubuntu系统搭建配置Python虚拟开发环境">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-22T14:57:27.000Z">2019-07-22</time></div>
                    <a href="/2019/07/22/Ubuntu系统搭建配置Python虚拟开发环境/" class="has-link-black-ter is-size-6">Ubuntu系统搭建配置Python虚拟开发环境</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/环境配置/">环境配置</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/14/2017-11-17-垃圾回收/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="Python中的垃圾回收机制">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-14T08:06:52.968Z">2019-07-14</time></div>
                    <a href="/2019/07/14/2017-11-17-垃圾回收/" class="has-link-black-ter is-size-6">Python中的垃圾回收机制</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Python/">Python</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/07/14/2017-08-14-爬取网易财经中股票的历史交易数据/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="爬取网易财经中股票的历史交易数据">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-07-14T08:06:52.967Z">2019-07-14</time></div>
                    <a href="/2019/07/14/2017-08-14-爬取网易财经中股票的历史交易数据/" class="has-link-black-ter is-size-6">爬取网易财经中股票的历史交易数据</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Spider/">Spider</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/04/11/2019-03-31-应用层实验/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-04-10T16:08:06.399Z">2019-04-11</time></div>
                    <a href="/2019/04/11/2019-03-31-应用层实验/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/计算机网络/">计算机网络</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Anaconda/" style="font-size: 10px;">Anaconda</a> <a href="/tags/Bug/" style="font-size: 10px;">Bug</a> <a href="/tags/ChromeDriver/" style="font-size: 10px;">ChromeDriver</a> <a href="/tags/DP/" style="font-size: 10px;">DP</a> <a href="/tags/Deepin/" style="font-size: 11.43px;">Deepin</a> <a href="/tags/ICPC模板/" style="font-size: 18.57px;">ICPC模板</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/MongoDB数据库/" style="font-size: 10px;">MongoDB数据库</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NTT/" style="font-size: 10px;">NTT</a> <a href="/tags/Pycharm/" style="font-size: 11.43px;">Pycharm</a> <a href="/tags/Python解释器的安装与配置/" style="font-size: 12.86px;">Python解释器的安装与配置</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VMware/" style="font-size: 10px;">VMware</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/chromedriver/" style="font-size: 10px;">chromedriver</a> <a href="/tags/pymysql/" style="font-size: 10px;">pymysql</a> <a href="/tags/三维计算几何/" style="font-size: 12.86px;">三维计算几何</a> <a href="/tags/主席树/" style="font-size: 10px;">主席树</a> <a href="/tags/二分/" style="font-size: 10px;">二分</a> <a href="/tags/二维计算几何/" style="font-size: 10px;">二维计算几何</a> <a href="/tags/动态开点/" style="font-size: 10px;">动态开点</a> <a href="/tags/励志/" style="font-size: 10px;">励志</a> <a href="/tags/单调栈/" style="font-size: 10px;">单调栈</a> <a href="/tags/单调队列/" style="font-size: 12.86px;">单调队列</a> <a href="/tags/原根/" style="font-size: 10px;">原根</a> <a href="/tags/可持久化/" style="font-size: 11.43px;">可持久化</a> <a href="/tags/扫描线/" style="font-size: 10px;">扫描线</a> <a href="/tags/拓扑排序/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/搜索/" style="font-size: 10px;">搜索</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 17.14px;">数据结构</a> <a href="/tags/数论/" style="font-size: 11.43px;">数论</a> <a href="/tags/无旋Treap/" style="font-size: 14.29px;">无旋Treap</a> <a href="/tags/最大流/" style="font-size: 10px;">最大流</a> <a href="/tags/最短路/" style="font-size: 10px;">最短路</a> <a href="/tags/树状数组/" style="font-size: 10px;">树状数组</a> <a href="/tags/环境配置/" style="font-size: 20px;">环境配置</a> <a href="/tags/珂朵莉树/" style="font-size: 11.43px;">珂朵莉树</a> <a href="/tags/系统配置/" style="font-size: 10px;">系统配置</a> <a href="/tags/线段树/" style="font-size: 15.71px;">线段树</a> <a href="/tags/老司机树/" style="font-size: 11.43px;">老司机树</a> <a href="/tags/莫比乌斯反演/" style="font-size: 10px;">莫比乌斯反演</a> <a href="/tags/虚拟机/" style="font-size: 10px;">虚拟机</a> <a href="/tags/虚拟环境/" style="font-size: 10px;">虚拟环境</a> <a href="/tags/谷歌输入法/" style="font-size: 10px;">谷歌输入法</a>
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">27</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">21</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">九月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">19</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">七月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Anaconda/">
                        <span class="tag">Anaconda</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Bug/">
                        <span class="tag">Bug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ChromeDriver/">
                        <span class="tag">ChromeDriver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DP/">
                        <span class="tag">DP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Deepin/">
                        <span class="tag">Deepin</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ICPC模板/">
                        <span class="tag">ICPC模板</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LCA/">
                        <span class="tag">LCA</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MongoDB数据库/">
                        <span class="tag">MongoDB数据库</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MySQL/">
                        <span class="tag">MySQL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NTT/">
                        <span class="tag">NTT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Pycharm/">
                        <span class="tag">Pycharm</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python解释器的安装与配置/">
                        <span class="tag">Python解释器的安装与配置</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ubuntu/">
                        <span class="tag">Ubuntu</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/VMware/">
                        <span class="tag">VMware</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/chrome/">
                        <span class="tag">chrome</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/chromedriver/">
                        <span class="tag">chromedriver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pymysql/">
                        <span class="tag">pymysql</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/三维计算几何/">
                        <span class="tag">三维计算几何</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/主席树/">
                        <span class="tag">主席树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分/">
                        <span class="tag">二分</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二维计算几何/">
                        <span class="tag">二维计算几何</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动态开点/">
                        <span class="tag">动态开点</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/励志/">
                        <span class="tag">励志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调栈/">
                        <span class="tag">单调栈</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调队列/">
                        <span class="tag">单调队列</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/原根/">
                        <span class="tag">原根</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/可持久化/">
                        <span class="tag">可持久化</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/扫描线/">
                        <span class="tag">扫描线</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/拓扑排序/">
                        <span class="tag">拓扑排序</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/搜索/">
                        <span class="tag">搜索</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据库/">
                        <span class="tag">数据库</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数论/">
                        <span class="tag">数论</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/无旋Treap/">
                        <span class="tag">无旋Treap</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最大流/">
                        <span class="tag">最大流</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最短路/">
                        <span class="tag">最短路</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树状数组/">
                        <span class="tag">树状数组</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/环境配置/">
                        <span class="tag">环境配置</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/珂朵莉树/">
                        <span class="tag">珂朵莉树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/系统配置/">
                        <span class="tag">系统配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线段树/">
                        <span class="tag">线段树</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/老司机树/">
                        <span class="tag">老司机树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/莫比乌斯反演/">
                        <span class="tag">莫比乌斯反演</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟机/">
                        <span class="tag">虚拟机</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟环境/">
                        <span class="tag">虚拟环境</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/谷歌输入法/">
                        <span class="tag">谷歌输入法</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
            

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://www.jianshu.com/u/bf4c0b4a8c83" target="_blank">
                    <span class="level-left">
                        <span class="level-item">简书</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.jianshu.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/jiaxiaochu" target="_blank">
                    <span class="level-left">
                        <span class="level-item">GitHub</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Anaconda/" style="font-size: 10px;">Anaconda</a> <a href="/tags/Bug/" style="font-size: 10px;">Bug</a> <a href="/tags/ChromeDriver/" style="font-size: 10px;">ChromeDriver</a> <a href="/tags/DP/" style="font-size: 10px;">DP</a> <a href="/tags/Deepin/" style="font-size: 11.43px;">Deepin</a> <a href="/tags/ICPC模板/" style="font-size: 18.57px;">ICPC模板</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/MongoDB数据库/" style="font-size: 10px;">MongoDB数据库</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NTT/" style="font-size: 10px;">NTT</a> <a href="/tags/Pycharm/" style="font-size: 11.43px;">Pycharm</a> <a href="/tags/Python解释器的安装与配置/" style="font-size: 12.86px;">Python解释器的安装与配置</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/VMware/" style="font-size: 10px;">VMware</a> <a href="/tags/chrome/" style="font-size: 10px;">chrome</a> <a href="/tags/chromedriver/" style="font-size: 10px;">chromedriver</a> <a href="/tags/pymysql/" style="font-size: 10px;">pymysql</a> <a href="/tags/三维计算几何/" style="font-size: 12.86px;">三维计算几何</a> <a href="/tags/主席树/" style="font-size: 10px;">主席树</a> <a href="/tags/二分/" style="font-size: 10px;">二分</a> <a href="/tags/二维计算几何/" style="font-size: 10px;">二维计算几何</a> <a href="/tags/动态开点/" style="font-size: 10px;">动态开点</a> <a href="/tags/励志/" style="font-size: 10px;">励志</a> <a href="/tags/单调栈/" style="font-size: 10px;">单调栈</a> <a href="/tags/单调队列/" style="font-size: 12.86px;">单调队列</a> <a href="/tags/原根/" style="font-size: 10px;">原根</a> <a href="/tags/可持久化/" style="font-size: 11.43px;">可持久化</a> <a href="/tags/扫描线/" style="font-size: 10px;">扫描线</a> <a href="/tags/拓扑排序/" style="font-size: 10px;">拓扑排序</a> <a href="/tags/搜索/" style="font-size: 10px;">搜索</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 17.14px;">数据结构</a> <a href="/tags/数论/" style="font-size: 11.43px;">数论</a> <a href="/tags/无旋Treap/" style="font-size: 14.29px;">无旋Treap</a> <a href="/tags/最大流/" style="font-size: 10px;">最大流</a> <a href="/tags/最短路/" style="font-size: 10px;">最短路</a> <a href="/tags/树状数组/" style="font-size: 10px;">树状数组</a> <a href="/tags/环境配置/" style="font-size: 20px;">环境配置</a> <a href="/tags/珂朵莉树/" style="font-size: 11.43px;">珂朵莉树</a> <a href="/tags/系统配置/" style="font-size: 10px;">系统配置</a> <a href="/tags/线段树/" style="font-size: 15.71px;">线段树</a> <a href="/tags/老司机树/" style="font-size: 11.43px;">老司机树</a> <a href="/tags/莫比乌斯反演/" style="font-size: 10px;">莫比乌斯反演</a> <a href="/tags/虚拟机/" style="font-size: 10px;">虚拟机</a> <a href="/tags/虚拟环境/" style="font-size: 10px;">虚拟环境</a> <a href="/tags/谷歌输入法/" style="font-size: 10px;">谷歌输入法</a>
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/07/">
                <span class="level-start">
                    <span class="level-item">七月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">22</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/02/">
                <span class="level-start">
                    <span class="level-item">二月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">27</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">13</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">21</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/09/">
                <span class="level-start">
                    <span class="level-item">九月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">19</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/07/">
                <span class="level-start">
                    <span class="level-item">七月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Anaconda/">
                        <span class="tag">Anaconda</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Bug/">
                        <span class="tag">Bug</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ChromeDriver/">
                        <span class="tag">ChromeDriver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DP/">
                        <span class="tag">DP</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Deepin/">
                        <span class="tag">Deepin</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ICPC模板/">
                        <span class="tag">ICPC模板</span>
                        <span class="tag is-grey">10</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LCA/">
                        <span class="tag">LCA</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MongoDB数据库/">
                        <span class="tag">MongoDB数据库</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MySQL/">
                        <span class="tag">MySQL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NTT/">
                        <span class="tag">NTT</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Pycharm/">
                        <span class="tag">Pycharm</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Python解释器的安装与配置/">
                        <span class="tag">Python解释器的安装与配置</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Ubuntu/">
                        <span class="tag">Ubuntu</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/VMware/">
                        <span class="tag">VMware</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/chrome/">
                        <span class="tag">chrome</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/chromedriver/">
                        <span class="tag">chromedriver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pymysql/">
                        <span class="tag">pymysql</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/三维计算几何/">
                        <span class="tag">三维计算几何</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/主席树/">
                        <span class="tag">主席树</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二分/">
                        <span class="tag">二分</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/二维计算几何/">
                        <span class="tag">二维计算几何</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动态开点/">
                        <span class="tag">动态开点</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/励志/">
                        <span class="tag">励志</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调栈/">
                        <span class="tag">单调栈</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/单调队列/">
                        <span class="tag">单调队列</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/原根/">
                        <span class="tag">原根</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/可持久化/">
                        <span class="tag">可持久化</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/扫描线/">
                        <span class="tag">扫描线</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/拓扑排序/">
                        <span class="tag">拓扑排序</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/搜索/">
                        <span class="tag">搜索</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据库/">
                        <span class="tag">数据库</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数据结构/">
                        <span class="tag">数据结构</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/数论/">
                        <span class="tag">数论</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/无旋Treap/">
                        <span class="tag">无旋Treap</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最大流/">
                        <span class="tag">最大流</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/最短路/">
                        <span class="tag">最短路</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/树状数组/">
                        <span class="tag">树状数组</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/环境配置/">
                        <span class="tag">环境配置</span>
                        <span class="tag is-grey">14</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/珂朵莉树/">
                        <span class="tag">珂朵莉树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/系统配置/">
                        <span class="tag">系统配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/线段树/">
                        <span class="tag">线段树</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/老司机树/">
                        <span class="tag">老司机树</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/莫比乌斯反演/">
                        <span class="tag">莫比乌斯反演</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟机/">
                        <span class="tag">虚拟机</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟环境/">
                        <span class="tag">虚拟环境</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/谷歌输入法/">
                        <span class="tag">谷歌输入法</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://www.jianshu.com/u/bf4c0b4a8c83" target="_blank">
                    <span class="level-left">
                        <span class="level-item">简书</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.jianshu.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/jiaxiaochu" target="_blank">
                    <span class="level-left">
                        <span class="level-item">GitHub</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="贾志翔的博客" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 jiazhixiang&nbsp;
                Powered &#10084; YH · Lin
                </p>
            </div>
            
            <script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

            
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/jiaxiaochu/jiaxiaochu.github.io">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        <div align="center">
            <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
            <script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("4/1/2019 12:49:00");//此处修改你的建站时间或者网站上线时间 
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 "; 
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                } 
            setInterval("createtime()",250);
            </script>
            <div align="center">
            <span id="busuanzi_container_site_pv" class="theme-info">本站总访问量-<span id="busuanzi_value_site_pv"></span>-次|
              </span>
              <span id="busuanzi_container_site_uv" class="theme-info">您是第-<span id="busuanzi_value_site_uv"></span>-位小伙伴</span>

            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            </div>
        </div>
        <span>
        <script type="text/javascript" src="//rf.revolvermaps.com/0/0/0.js?i=0xetp0d4rdh&amp;d=2&amp;p=1&amp;b=8&amp;w=193&amp;g=2&amp;f=arial&amp;fs=12&amp;r=0&amp;c0=000000&amp;c1=00a99d&amp;c2=000000&amp;ic0=0&amp;ic1=0" async="async"></script>
        </span>
        </div>

    </div>

    <script>
        (function(){
            var bp = document.createElement('script');
            bp.src = '//push.zhanzhang.baidu.com/push.js';
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
</script>
<script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
        <!-- 雪花特效 -->
    <script type="text/javascript">
      var windowWidth = $(window).width();
      if (windowWidth > 480) {
        document.write('<script type="text/javascript" src="/js/src/snow.js"><\/script>');
      }
    </script>

    <script src="//code.tidio.co/wgmwb2zlxrcti0crizzmumshwbxpums2.js"></script>
    
</body>
</html>